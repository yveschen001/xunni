[
  {
    "key": "common.notSet",
    "files": [
      {
        "file": "src/services/refresh_conversation_history.ts",
        "line": 116,
        "context": "            partner.country_code\n          ),\n          mbti: partner.mbti_result || i18n.t('common.notSet'),\n          bloodType: partner.blood_type || i18n.t('common.notSet'),\n          zodiac: part"
      },
      {
        "file": "src/services/refresh_conversation_history.ts",
        "line": 117,
        "context": "          ),\n          mbti: partner.mbti_result || i18n.t('common.notSet'),\n          bloodType: partner.blood_type || i18n.t('common.notSet'),\n          zodiac: partner.zodiac_sign || i18n.t('common"
      },
      {
        "file": "src/services/refresh_conversation_history.ts",
        "line": 118,
        "context": "          mbti: partner.mbti_result || i18n.t('common.notSet'),\n          bloodType: partner.blood_type || i18n.t('common.notSet'),\n          zodiac: partner.zodiac_sign || i18n.t('common.notSet'),\n  "
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 186,
        "context": "        i18n.t('admin.banSuccess', {\n          userId: targetUserId,\n          nickname: targetUser.nickname || i18n.t('common.notSet'),\n          duration: durationText,\n          unbanTime,"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 196,
        "context": "        i18n.t('admin.banSuccessPermanent', {\n          userId: targetUserId,\n          nickname: targetUser.nickname || i18n.t('common.notSet'),\n        })\n      );"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 290,
        "context": "      i18n.t('admin.unbanSuccess', {\n        userId: targetUserId,\n        nickname: targetUser.nickname || i18n.t('common.notSet'),\n      })\n    );"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 411,
        "context": "      i18n.t('admin.addInstructions', {\n        userId: targetUserId,\n        nickname: targetUser.nickname || i18n.t('common.notSet'),\n        username: targetUser.username || '-',\n      })"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 479,
        "context": "      i18n.t('admin.removeInstructions', {\n        userId: targetUserId,\n        nickname: targetUser?.nickname || i18n.t('common.notSet'),\n        username: targetUser?.username || '-',\n      })"
      },
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 95,
        "context": "    message += i18n.t('admin.diagnose.userInfo') + '\\n';\n    message += i18n.t('admin.diagnose.userId', { userId }) + '\\n';\n    message += i18n.t('admin.diagnose.nickname', { nickname: user.nickname |"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 77,
        "context": "    // Calculate age\n    const birthDate = otherUser.birthday ? new Date(otherUser.birthday) : null;\n    let ageRange = i18n.t('common.notSet');\n    if (birthDate && !Number.isNaN(birthDate.getTime())"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 84,
        "context": "\n    const nickname = maskNickname(otherUser.nickname || otherUser.username || i18n.t('common.anonymous'));\n    const languageLabel = otherUser.language_pref || i18n.t('common.notSet');\n    const zodi"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 90,
        "context": "    const { getBloodTypeDisplay } = await import('~/domain/blood_type');\n    const bloodTypeTextRaw = getBloodTypeDisplay(otherUser.blood_type as any);\n    const bloodTypeText = otherUser.blood_type ?"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 327,
        "context": "      partnerTelegramId: receiverId,\n      maskedNickname: formatNicknameWithFlag(maskNickname(receiverNickname), receiver.country_code),\n      mbti: receiver.mbti_result || i18n.t('common.notSet'),\n "
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 328,
        "context": "      maskedNickname: formatNicknameWithFlag(maskNickname(receiverNickname), receiver.country_code),\n      mbti: receiver.mbti_result || i18n.t('common.notSet'),\n      bloodType: receiver.blood_type |"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 329,
        "context": "      mbti: receiver.mbti_result || i18n.t('common.notSet'),\n      bloodType: receiver.blood_type || i18n.t('common.notSet'),\n      zodiac: receiver.zodiac_sign || i18n.t('common.notSet'),\n    };\n"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 337,
        "context": "      partnerTelegramId: telegramId,\n      maskedNickname: formatNicknameWithFlag(maskNickname(senderNickname), sender.country_code),\n      mbti: sender.mbti_result || i18n.t('common.notSet'),\n      b"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 338,
        "context": "      maskedNickname: formatNicknameWithFlag(maskNickname(senderNickname), sender.country_code),\n      mbti: sender.mbti_result || i18n.t('common.notSet'),\n      bloodType: sender.blood_type || i18n.t"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 339,
        "context": "      mbti: sender.mbti_result || i18n.t('common.notSet'),\n      bloodType: sender.blood_type || i18n.t('common.notSet'),\n      zodiac: sender.zodiac_sign || i18n.t('common.notSet'),\n    };\n"
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 30,
        "context": "  \n  // Common terms\n  [/'未設定'/g, \"i18n.t('common.notSet')\"],\n  [/\"未設定\"/g, \"i18n.t('common.notSet')\"],\n];"
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 31,
        "context": "  // Common terms\n  [/'未設定'/g, \"i18n.t('common.notSet')\"],\n  [/\"未設定\"/g, \"i18n.t('common.notSet')\"],\n];\n"
      },
      {
        "file": "scripts/auto-fix-i18n.ts",
        "line": 21,
        "context": "  \n  // Common terms\n  [/'未設定'/g, \"i18n.t('common.notSet')\"],\n  [/'男'/g, \"i18n.t('common.male')\"],\n  [/'女'/g, \"i18n.t('common.female')\"],"
      }
    ],
    "count": 21
  },
  {
    "key": "errors.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 82,
        "context": "      const i18n = createI18n('zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('errors.userNotFound'),\n        show_alert: true,\n      });"
      },
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 554,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      return i18n.t('errors.userNotFound');\n    }\n"
      },
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 48,
        "context": "    \n    if (!user) {\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 51,
        "context": "    const otherUser = await findUserByTelegramId(db, otherUserId);\n    if (!otherUser) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 56,
        "context": "    \n    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 97,
        "context": "    \n    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 110,
        "context": "    const updatedUser = await findUserByTelegramId(db, telegramId);\n    if (!updatedUser) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n   "
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 76,
        "context": "    \n    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 139,
        "context": "    \n    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 198,
        "context": "    \n    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 27,
        "context": "    \n    if (!user) {\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 33,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 230,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n  "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 367,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n  "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 514,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n  "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 639,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n  "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 715,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n  "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 759,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n  "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 804,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n  "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 871,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFound'));\n      return;\n  "
      },
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 28,
        "context": "content = content.replace(\n  /await telegram\\.sendMessage\\(chatId, '⚠️ 用戶不存在，請先使用 \\/start 註冊。'\\);/g,\n  `await telegram.sendMessage(chatId, i18n.t('errors.userNotFound'));`\n);\n"
      }
    ],
    "count": 21
  },
  {
    "key": "errors.systemError",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 188,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n(viewer?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'))"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 228,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 268,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 340,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 415,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 439,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 506,
        "context": "  } catch (error) {\n    console.error('[handleConversationReplyButton] Error:', error);\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 136,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 208,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 273,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 345,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 413,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 492,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 546,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 620,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 697,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 741,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 785,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 849,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 902,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.systemError'));\n  }\n}"
      }
    ],
    "count": 20
  },
  {
    "key": "common.back3",
    "files": [
      {
        "file": "src/router.ts",
        "line": 859,
        "context": "              [{ text: i18n.t('buttons.bottle3'), callback_data: 'throw' }],\n              [{ text: i18n.t('buttons.bottle4'), callback_data: 'catch' }],\n              [{ text: i18n.t('common.back3'),"
      },
      {
        "file": "src/router.ts",
        "line": 879,
        "context": "              [{ text: i18n.t('buttons.bottle4'), callback_data: 'catch' }],\n              [{ text: i18n.t('buttons.bottle3'), callback_data: 'throw' }],\n              [{ text: i18n.t('common.back3'),"
      },
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 51,
        "context": "          i18n.t('bottle.bottle13') +\n          '\\n\\n' +\n          i18n.t('common.back3')\n      );\n      return;"
      },
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 90,
        "context": "      i18n.t('conversation.stats') +\n      '\\n' +\n      i18n.t('common.back3');\n\n    await telegram.sendMessage(chatId, messageText);"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 431,
        "context": "      [\n        [{ text: i18n.t('common.short3'), callback_data: 'edit_profile_callback' }],\n        [{ text: i18n.t('common.back3'), callback_data: 'return_to_menu' }],\n      ]\n    );"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 576,
        "context": "    await telegram.sendMessageWithButtons(chatId, displayText, [\n      [{ text: i18n.t('common.short3'), callback_data: 'edit_profile_callback' }],\n      [{ text: i18n.t('common.back3'), callback_data"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 804,
        "context": "        await telegram.sendMessageWithButtons(chatId, i18n.t('success.text4') + '\\n\\n' + text, [\n          [{ text: i18n.t('common.short3'), callback_data: 'edit_profile_callback' }],\n          [{ tex"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 840,
        "context": "        await telegram.sendMessageWithButtons(chatId, i18n.t('success.text6', { text }), [\n          [{ text: i18n.t('common.short3'), callback_data: 'edit_profile_callback' }],\n          [{ text: i18"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 893,
        "context": "        await telegram.sendMessageWithButtons(chatId, i18n.t('success.text2') + '\\n\\n' + interestsStr, [\n          [{ text: i18n.t('common.short3'), callback_data: 'edit_profile_callback' }],\n        "
      },
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 204,
        "context": "            [{ text: i18n.t('menu.invite3'), url: shareUrl }],\n            [{ text: i18n.t('menu.stats2'), callback_data: 'menu_profile' }],\n            [{ text: i18n.t('common.back3'), callback_data:"
      },
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 259,
        "context": "  const i18n = createI18n(languagePref);\n  await telegram.sendMessageWithButtons(chatId, message, [\n    [{ text: i18n.t('common.back3'), callback_data: 'return_to_menu' }],\n  ]);\n}"
      },
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 94,
        "context": "      i18n.t('stats.zodiac', { zodiac: user.zodiac_sign }) + '\\n' +\n      i18n.t('stats.mbti', { mbti: user.mbti_result || i18n.t('stats.notSet') }) + '\\n\\n' +\n      i18n.t('common.back3');\n\n    await"
      },
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 196,
        "context": "\n    // Row 5: Return to menu\n    keyboard.push([{ text: i18n.t('common.back3'), callback_data: 'return_to_menu' }]);\n\n    await telegram.sendMessageWithButtons(chatId, message_text, keyboard);"
      },
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 424,
        "context": "            [{ text: i18n.t('buttons.short3'), url: 'https://t.me/xunnichannel' }],\n            [{ text: i18n.t('buttons.short20'), callback_data: 'verify_channel_join' }],\n            [{ text: i18n.t"
      }
    ],
    "count": 14
  },
  {
    "key": "errors.userNotFoundRegister",
    "files": [
      {
        "file": "src/telegram/handlers/appeal.ts",
        "line": 27,
        "context": "  if (!user) {\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n    return;\n  }"
      },
      {
        "file": "src/telegram/handlers/appeal.ts",
        "line": 99,
        "context": "  if (!user) {\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n    return;\n  }"
      },
      {
        "file": "src/telegram/handlers/appeal.ts",
        "line": 171,
        "context": "  if (!user) {\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n    return;\n  }"
      },
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 25,
        "context": "    if (!user) {\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 27,
        "context": "    if (!user) {\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 30,
        "context": "    if (!user) {\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 35,
        "context": "    \n    if (!user) {\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 428,
        "context": "    \n    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.userNotFoundRegister'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 157,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 294,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 434,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 567,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 26,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    if (!user) {\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 47,
        "context": "    if (!user) {\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('errors.userNotFoundRegister'));\n      return;\n    }"
      }
    ],
    "count": 14
  },
  {
    "key": "buttons.back",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 101,
        "context": "        ],\n        [{ text: i18n.t('common.mbti9'), callback_data: 'retake_mbti' }],\n        [{ text: i18n.t('buttons.back'), callback_data: 'return_to_menu' }],\n      ]\n    );"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 201,
        "context": "        ],\n        [{ text: i18n.t('common.mbti9'), callback_data: 'retake_mbti' }],\n        [{ text: i18n.t('buttons.back'), callback_data: 'return_to_menu' }],\n      ]\n    );"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 387,
        "context": "        ],\n        [{ text: i18n.t('common.short2'), callback_data: 'match_pref_any' }],\n        [{ text: i18n.t('buttons.back'), callback_data: 'edit_profile_back' }],\n      ]\n    );"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 526,
        "context": "        ],\n        [{ text: options[4].display, callback_data: 'edit_blood_type_skip' }],\n        [{ text: i18n.t('buttons.back'), callback_data: 'edit_profile' }],\n      ]\n    );"
      },
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 125,
        "context": "        [{ text: i18n.t('common.text117'), callback_data: 'mbti_test_quick' }],\n        [{ text: i18n.t('common.text118'), callback_data: 'mbti_test_full' }],\n        [{ text: i18n.t('buttons.back'), "
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 451,
        "context": "          { text: 'ESFP', callback_data: 'mbti_manual_ESFP' },\n        ],\n        [{ text: i18n.t('buttons.back'), callback_data: 'mbti_choice_back' }],\n      ]\n    );"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 260,
        "context": "      [\n        [{ text: i18n.t('buttons.bottle3'), callback_data: 'throw_input' }],\n        [{ text: i18n.t('buttons.back'), callback_data: 'return_to_menu' }],\n      ],\n      { parse_mode: 'Markdown"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 129,
        "context": "        [{ text: i18n.t('throw.gender5'), callback_data: 'filter_gender' }],\n        [{ text: i18n.t('success.complete6'), callback_data: 'filter_done' }],\n        [{ text: i18n.t('buttons.back'), cal"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 187,
        "context": "    mbtiButtons.push([\n      { text: i18n.t('buttons.short21'), callback_data: 'clear_mbti' },\n      { text: i18n.t('buttons.back'), callback_data: 'back_to_filter' },\n    ]);\n"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 324,
        "context": "    zodiacButtons.push([\n      { text: i18n.t('buttons.short21'), callback_data: 'clear_zodiac' },\n      { text: i18n.t('buttons.back'), callback_data: 'back_to_filter' },\n    ]);\n"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 483,
        "context": "              },\n            ],\n            [{ text: i18n.t('buttons.back'), callback_data: 'back_to_filter' }],\n          ],\n        },"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 611,
        "context": "            [{ text: i18n.t('throw.gender5'), callback_data: 'filter_gender' }],\n            [{ text: i18n.t('success.complete6'), callback_data: 'filter_done' }],\n            [{ text: i18n.t('buttons"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 842,
        "context": "        ],\n        [{ text: i18n.t('throw.bloodType5'), callback_data: 'blood_type_any' }],\n        [{ text: i18n.t('buttons.back'), callback_data: 'throw_advanced' }],\n      ]\n    );"
      }
    ],
    "count": 13
  },
  {
    "key": "errors.sessionExpired",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 167,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.sendMessage(chatId, i18n.t('errors.sessionExpired'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 240,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.sessionExpired'));\n      retur"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 304,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.sendMessage(chatId, i18n.t('errors.sessionExpired'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 377,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.sessionExpired'));\n      retur"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 444,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.sendMessage(chatId, i18n.t('errors.sessionExpired'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 524,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.sessionExpired'));\n      retur"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 577,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.sendMessage(chatId, i18n.t('errors.sessionExpired'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 654,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.sendMessage(chatId, i18n.t('errors.sessionExpired'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 724,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.sessionExpired'));\n      retur"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 768,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.sessionExpired'));\n      retur"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 813,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.sessionExpired'));\n      retur"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 880,
        "context": "    const session = await getActiveSession(db, telegramId, 'throw_bottle');\n    if (!session) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.sessionExpired'));\n      retur"
      }
    ],
    "count": 12
  },
  {
    "key": "key",
    "files": [
      {
        "file": "scripts/ast-replace-i18n.ts",
        "line": 126,
        "context": "      \n      if (needsI18n) {\n        // 简单替换：直接替换为 i18n.t('key')\n        // 注意：这里需要更智能的处理，确保 i18n 实例存在\n        newContent = before + `i18n.t('${key}')` + after;"
      },
      {
        "file": "scripts/check-hardcoded-chinese.ts",
        "line": 255,
        "context": "    try {\n      const content = fs.readFileSync(file, 'utf-8');\n      // 匹配 i18n.t('key') 或 i18n.t(\"key\")\n      const matches = content.matchAll(/i18n\\.t\\(['\"]([^'\"]+)['\"]\\)/g);\n      for (const match"
      },
      {
        "file": "scripts/check-hardcoded-chinese.ts",
        "line": 255,
        "context": "    try {\n      const content = fs.readFileSync(file, 'utf-8');\n      // 匹配 i18n.t('key') 或 i18n.t(\"key\")\n      const matches = content.matchAll(/i18n\\.t\\(['\"]([^'\"]+)['\"]\\)/g);\n      for (const match"
      },
      {
        "file": "scripts/generate-csv-complete.ts",
        "line": 35,
        "context": "  const keys = new Set<string>();\n  \n  // Simple regex to find i18n.t('key') or i18n.t(\"key\")\n  const i18nPattern = /i18n\\.t\\(['\"]([^'\"]+)['\"]\\)/g;\n  "
      },
      {
        "file": "scripts/generate-csv-complete.ts",
        "line": 35,
        "context": "  const keys = new Set<string>();\n  \n  // Simple regex to find i18n.t('key') or i18n.t(\"key\")\n  const i18nPattern = /i18n\\.t\\(['\"]([^'\"]+)['\"]\\)/g;\n  "
      },
      {
        "file": "scripts/generate-missing-keys-from-check.ts",
        "line": 37,
        "context": "  const keys = new Set<string>();\n  \n  // Simple regex to find i18n.t('key') or i18n.t(\"key\")\n  const i18nPattern = /i18n\\.t\\(['\"]([^'\"]+)['\"]\\)/g;\n  "
      },
      {
        "file": "scripts/generate-missing-keys-from-check.ts",
        "line": 37,
        "context": "  const keys = new Set<string>();\n  \n  // Simple regex to find i18n.t('key') or i18n.t(\"key\")\n  const i18nPattern = /i18n\\.t\\(['\"]([^'\"]+)['\"]\\)/g;\n  "
      },
      {
        "file": "scripts/scan-i18n-usage.ts",
        "line": 21,
        "context": "    const lines = content.split('\\n');\n    \n    // 匹配 i18n.t('key') 或 i18n.t(\"key\")\n    const pattern = /i18n\\.t\\(['\"]([^'\"]+)['\"]\\)/g;\n    "
      },
      {
        "file": "scripts/scan-i18n-usage.ts",
        "line": 21,
        "context": "    const lines = content.split('\\n');\n    \n    // 匹配 i18n.t('key') 或 i18n.t(\"key\")\n    const pattern = /i18n\\.t\\(['\"]([^'\"]+)['\"]\\)/g;\n    "
      },
      {
        "file": "scripts/verify-i18n-completeness.ts",
        "line": 49,
        "context": "        try {\n          const content = readFileSync(fullPath, 'utf-8');\n          // 匹配 i18n.t('key') 或 i18n.t(\"key\")\n          const matches = content.matchAll(/i18n\\.t\\(['\"]([^'\"]+)['\"]\\)/g);\n     "
      },
      {
        "file": "scripts/verify-i18n-completeness.ts",
        "line": 49,
        "context": "        try {\n          const content = readFileSync(fullPath, 'utf-8');\n          // 匹配 i18n.t('key') 或 i18n.t(\"key\")\n          const matches = content.matchAll(/i18n\\.t\\(['\"]([^'\"]+)['\"]\\)/g);\n     "
      }
    ],
    "count": 11
  },
  {
    "key": "common.notRegistered",
    "files": [
      {
        "file": "src/telegram/handlers/settings.ts",
        "line": 44,
        "context": "    // Check if user completed onboarding\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('common.notRegistered'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 33,
        "context": "    // Check if user completed onboarding\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('common.notRegistered'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 76,
        "context": "    // Check if user completed onboarding\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('common.notRegistered'));\n      return;\n    }"
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 20,
        "context": "  \n  // Not registered\n  [/'⚠️ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。'/g, \"i18n.t('common.notRegistered')\"],\n  [/'❌ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。'/g, \"i18n.t('common.notRegistered')\"],\n  [/\"⚠️ 請先完成註冊流程。\\\\n"
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 21,
        "context": "  // Not registered\n  [/'⚠️ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。'/g, \"i18n.t('common.notRegistered')\"],\n  [/'❌ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。'/g, \"i18n.t('common.notRegistered')\"],\n  [/\"⚠️ 請先完成註冊流程。\\\\n\\\\n"
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 22,
        "context": "  [/'⚠️ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。'/g, \"i18n.t('common.notRegistered')\"],\n  [/'❌ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。'/g, \"i18n.t('common.notRegistered')\"],\n  [/\"⚠️ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。\"/g,"
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 23,
        "context": "  [/'❌ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。'/g, \"i18n.t('common.notRegistered')\"],\n  [/\"⚠️ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。\"/g, \"i18n.t('common.notRegistered')\"],\n  [/\"❌ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。\"/g, "
      },
      {
        "file": "scripts/auto-fix-i18n.ts",
        "line": 16,
        "context": "  [/⚠️ 用戶不存在，請先使用 \\/start 註冊。/g, \"i18n.t('common.userNotFound')\"],\n  [/❌ 用戶不存在，請先使用 \\/start 註冊。/g, \"i18n.t('common.userNotFound')\"],\n  [/⚠️ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。/g, \"i18n.t('common.notRegist"
      },
      {
        "file": "scripts/auto-fix-i18n.ts",
        "line": 17,
        "context": "  [/❌ 用戶不存在，請先使用 \\/start 註冊。/g, \"i18n.t('common.userNotFound')\"],\n  [/⚠️ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。/g, \"i18n.t('common.notRegistered')\"],\n  [/❌ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。/g, \"i18n.t('common."
      },
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 33,
        "context": "content = content.replace(\n  /await telegram\\.sendMessage\\(chatId, '⚠️ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。'\\);/g,\n  `await telegram.sendMessage(chatId, i18n.t('common.notRegistered'));`\n);\n"
      }
    ],
    "count": 10
  },
  {
    "key": "common.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 333,
        "context": "    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('common.userNotFound'),\n        show_alert: true,\n      });"
      },
      {
        "file": "src/telegram/handlers/settings.ts",
        "line": 38,
        "context": "\n    if (!user) {\n      await telegram.sendMessage(chatId, i18n.t('common.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 65,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('common.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 14,
        "context": "const COMMON_REPLACEMENTS: Array<[RegExp, string]> = [\n  // User not found\n  [/'⚠️ 用戶不存在，請先使用 \\/start 註冊。'/g, \"i18n.t('common.userNotFound')\"],\n  [/'❌ 用戶不存在，請先使用 \\/start 註冊。'/g, \"i18n.t('common.userNo"
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 15,
        "context": "  // User not found\n  [/'⚠️ 用戶不存在，請先使用 \\/start 註冊。'/g, \"i18n.t('common.userNotFound')\"],\n  [/'❌ 用戶不存在，請先使用 \\/start 註冊。'/g, \"i18n.t('common.userNotFound')\"],\n  [/\"⚠️ 用戶不存在，請先使用 \\/start 註冊。\"/g, \"i18n.t("
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 16,
        "context": "  [/'⚠️ 用戶不存在，請先使用 \\/start 註冊。'/g, \"i18n.t('common.userNotFound')\"],\n  [/'❌ 用戶不存在，請先使用 \\/start 註冊。'/g, \"i18n.t('common.userNotFound')\"],\n  [/\"⚠️ 用戶不存在，請先使用 \\/start 註冊。\"/g, \"i18n.t('common.userNotFound"
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 17,
        "context": "  [/'❌ 用戶不存在，請先使用 \\/start 註冊。'/g, \"i18n.t('common.userNotFound')\"],\n  [/\"⚠️ 用戶不存在，請先使用 \\/start 註冊。\"/g, \"i18n.t('common.userNotFound')\"],\n  [/\"❌ 用戶不存在，請先使用 \\/start 註冊。\"/g, \"i18n.t('common.userNotFound'"
      },
      {
        "file": "scripts/auto-fix-i18n.ts",
        "line": 14,
        "context": "const COMMON_REPLACEMENTS: Array<[RegExp, string]> = [\n  // Error messages\n  [/⚠️ 用戶不存在，請先使用 \\/start 註冊。/g, \"i18n.t('common.userNotFound')\"],\n  [/❌ 用戶不存在，請先使用 \\/start 註冊。/g, \"i18n.t('common.userNotFou"
      },
      {
        "file": "scripts/auto-fix-i18n.ts",
        "line": 15,
        "context": "  // Error messages\n  [/⚠️ 用戶不存在，請先使用 \\/start 註冊。/g, \"i18n.t('common.userNotFound')\"],\n  [/❌ 用戶不存在，請先使用 \\/start 註冊。/g, \"i18n.t('common.userNotFound')\"],\n  [/⚠️ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。/g, \"i18n"
      }
    ],
    "count": 9
  },
  {
    "key": "profile.settings",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 196,
        "context": "    const ownerLanguage = bottleOwner?.language_pref\n      ? getLanguageDisplay(bottleOwner.language_pref)\n      : i18n.t('profile.settings');\n\n    // Create conversation"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 59,
        "context": "    const bloodTypeText = getBloodTypeDisplay(user.blood_type as any);\n\n    const notSetText = i18n.t('profile.settings');\n\n    // Show profile editing menu"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 159,
        "context": "    const bloodTypeText = getBloodTypeDisplay(user.blood_type as any);\n\n    const notSetText = i18n.t('profile.settings');\n\n    // Show profile editing menu"
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 48,
        "context": "\n    // Build profile message\n    const age = user.birthday ? calculateAge(user.birthday) : i18n.t('profile.settings');\n    const gender = user.gender === 'male' ? i18n.t('common.male') : user.gender "
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 49,
        "context": "    // Build profile message\n    const age = user.birthday ? calculateAge(user.birthday) : i18n.t('profile.settings');\n    const gender = user.gender === 'male' ? i18n.t('common.male') : user.gender ="
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 50,
        "context": "    const age = user.birthday ? calculateAge(user.birthday) : i18n.t('profile.settings');\n    const gender = user.gender === 'male' ? i18n.t('common.male') : user.gender === 'female' ? i18n.t('common."
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 62,
        "context": "        ? i18n.t('profile.vip', { expireDate: new Date(user.vip_expire_at).toLocaleDateString(user.language_pref || 'zh-TW') })\n        : i18n.t('profile.short2');\n    const inviteCode = user.invite_c"
      },
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 39,
        "context": "content = content.replace(\n  /const gender = user\\.gender === 'male' \\? '男' : user\\.gender === 'female' \\? '女' : '未設定';/g,\n  `const gender = user.gender === 'male' ? i18n.t('catch.short5').replace('♀️"
      }
    ],
    "count": 8
  },
  {
    "key": "errors.error.cancel6",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 637,
        "context": "              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback' }]]\n          );\n          return true;"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 648,
        "context": "              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback' }]]\n          );\n          return true;"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 664,
        "context": "              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback' }]]\n          );\n          return true;"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 758,
        "context": "              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback' }]]\n          );\n          return true;"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 780,
        "context": "              `${urlCheck.blockedUrls?.map((url) => `• ${url}`).join('\\n')}\\n\\n` +\n              i18n.t('common.cancel'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_pro"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 816,
        "context": "              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback' }]]\n          );\n          return true;"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 857,
        "context": "              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback' }]]\n          );\n          return true;"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 868,
        "context": "              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback' }]]\n          );\n          return true;"
      }
    ],
    "count": 8
  },
  {
    "key": "buttons.bottle3",
    "files": [
      {
        "file": "src/router.ts",
        "line": 857,
        "context": "          reply_markup: {\n            inline_keyboard: [\n              [{ text: i18n.t('buttons.bottle3'), callback_data: 'throw' }],\n              [{ text: i18n.t('buttons.bottle4'), callback_data: '"
      },
      {
        "file": "src/router.ts",
        "line": 878,
        "context": "            inline_keyboard: [\n              [{ text: i18n.t('buttons.bottle4'), callback_data: 'catch' }],\n              [{ text: i18n.t('buttons.bottle3'), callback_data: 'throw' }],\n              ["
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 152,
        "context": "          i18n.t('common.text4') +\n          '\\n' +\n          i18n.t('buttons.bottle3') +\n          ' - /throw\\n' +\n          i18n.t('buttons.bottle4') +"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 165,
        "context": "        [\n          [\n            { text: i18n.t('buttons.bottle3'), callback_data: 'throw' },\n            { text: i18n.t('buttons.bottle4'), callback_data: 'catch' },\n          ],"
      },
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 185,
        "context": "      )\n    ) {\n      actionRow.push({ text: i18n.t('buttons.bottle3'), callback_data: 'throw' });\n      actionRow.push({ text: i18n.t('buttons.bottle4'), callback_data: 'catch' });\n    }"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 259,
        "context": "      throwPrompt,\n      [\n        [{ text: i18n.t('buttons.bottle3'), callback_data: 'throw_input' }],\n        [{ text: i18n.t('buttons.back'), callback_data: 'return_to_menu' }],\n      ],"
      },
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 156,
        "context": "  await telegram.sendMessageWithButtons(chatId, message, [\n    [\n      { text: i18n.t('buttons.bottle3'), callback_data: 'tutorial_throw' },\n      { text: i18n.t('buttons.bottle4'), callback_data: 'tu"
      }
    ],
    "count": 7
  },
  {
    "key": "admin.adConfig.correctFormat",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 103,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.adConfig.usageError') + '\\n\\n' + i18n.t('admin.adConfig.correctFormat') + '\\n' + `/ad_provider_enable <provider_id>`\n      );\n  "
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 141,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.adConfig.usageError') + '\\n\\n' + i18n.t('admin.adConfig.correctFormat') + '\\n' + `/ad_provider_disable <provider_id>`\n      );\n "
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 180,
        "context": "        chatId,\n        i18n.t('admin.adConfig.usageError') + '\\n\\n' +\n          i18n.t('admin.adConfig.correctFormat') + '\\n' +\n          `/ad_provider_priority <provider_id> <priority>\\n\\n` +\n      "
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 296,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.adConfig.usageError') + '\\n\\n' + i18n.t('admin.adConfig.correctFormat') + '\\n' + `/official_ad_enable <ad_id>`\n      );\n      re"
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 338,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.adConfig.usageError') + '\\n\\n' + i18n.t('admin.adConfig.correctFormat') + '\\n' + `/official_ad_disable <ad_id>`\n      );\n      r"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 376,
        "context": "        chatId,\n        i18n.t('admin.addUsageError') +\n          i18n.t('admin.adConfig.correctFormat') + '\\n' +\n          i18n.t('admin.addCommand') +\n          i18n.t('admin.adConfig.example') + '\\"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 446,
        "context": "        chatId,\n        i18n.t('admin.removeUsageError') +\n          i18n.t('admin.adConfig.correctFormat') + '\\n' +\n          i18n.t('admin.removeCommand') +\n          i18n.t('admin.adConfig.example'"
      }
    ],
    "count": 7
  },
  {
    "key": "errors.systemErrorRetry",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 511,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('errors.systemErrorRetry')\n    );\n  }"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 681,
        "context": "        const updatedUser = await findUserByTelegramId(db, telegramId);\n        if (!updatedUser) {\n          await telegram.sendMessage(chatId, i18n.t('errors.systemErrorRetry'));\n          return tr"
      },
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 246,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('errors.systemErrorRetry') + '\\n\\n' +\n        i18n.t('errors.errorDetails', { error: error instanceof Error ? error.message : String(error) }"
      },
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 102,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('errors.systemErrorRetry')\n    );\n  }"
      },
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 205,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('errors.systemErrorRetry'));\n  }"
      },
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 477,
        "context": "    const user = await findUserByTelegramId(db, callbackQuery.from.id.toString());\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id,"
      },
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 127,
        "context": "content = content.replace(\n  /await telegram\\.sendMessage\\(chatId, '❌ 系統發生錯誤，請稍後再試。'\\);/g,\n  `await telegram.sendMessage(chatId, i18n.t('errors.systemErrorRetry'));`\n);\n"
      }
    ],
    "count": 7
  },
  {
    "key": "common.cancel3",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 636,
        "context": "            i18n.t('errors.error.cancel4') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback'"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 647,
        "context": "            i18n.t('errors.error.cancel') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback' "
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 663,
        "context": "              i18n.t('common.nickname') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback' }]"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 757,
        "context": "            i18n.t('errors.error.cancel2') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback'"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 815,
        "context": "            i18n.t('errors.error.cancel3') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback'"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 856,
        "context": "            i18n.t('errors.error.cancel5') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback'"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 867,
        "context": "            i18n.t('errors.error.cancel5') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),\n            [[{ text: i18n.t('errors.error.cancel6'), callback_data: 'edit_profile_callback'"
      }
    ],
    "count": 7
  },
  {
    "key": "${key}",
    "files": [
      {
        "file": "scripts/add-status-to-extraction.ts",
        "line": 71,
        "context": "    // 方法2: 如果有 key，检查是否有对应的 i18n.t() 调用\n    if (key) {\n      const hasI18nKey = content.includes(`i18n.t('${key}')`) || content.includes(`i18n.t(\"${key}\")`);\n      if (hasI18nKey) {\n        return tr"
      },
      {
        "file": "scripts/add-status-to-extraction.ts",
        "line": 71,
        "context": "    // 方法2: 如果有 key，检查是否有对应的 i18n.t() 调用\n    if (key) {\n      const hasI18nKey = content.includes(`i18n.t('${key}')`) || content.includes(`i18n.t(\"${key}\")`);\n      if (hasI18nKey) {\n        return tr"
      },
      {
        "file": "scripts/apply-i18n-final.ts",
        "line": 64,
        "context": "      \n      for (const pattern of patterns) {\n        const replacement = `i18n.t('${key}')`;\n        const before = content;\n        content = content.split(pattern).join(replacement);"
      },
      {
        "file": "scripts/apply-i18n-replacements-final.ts",
        "line": 69,
        "context": "      if (pattern.test(content)) {\n        // 替换为 i18n.t() 调用\n        content = content.replace(pattern, `i18n.t('${key}')`);\n        replacements++;\n        modified = true;"
      },
      {
        "file": "scripts/ast-replace-i18n.ts",
        "line": 128,
        "context": "        // 简单替换：直接替换为 i18n.t('key')\n        // 注意：这里需要更智能的处理，确保 i18n 实例存在\n        newContent = before + `i18n.t('${key}')` + after;\n      } else {\n        newContent = before + `i18n.t('${key}')` + af"
      },
      {
        "file": "scripts/ast-replace-i18n.ts",
        "line": 130,
        "context": "        newContent = before + `i18n.t('${key}')` + after;\n      } else {\n        newContent = before + `i18n.t('${key}')` + after;\n      }\n      "
      },
      {
        "file": "scripts/auto-i18n-migration.ts",
        "line": 98,
        "context": "      \n      const key = generateKey(text, filename);\n      const replacement = `i18n.t('${key}')`;\n      \n      extractedStrings.push({"
      }
    ],
    "count": 7
  },
  {
    "key": "admin.onlyAdmin",
    "files": [
      {
        "file": "src/router.ts",
        "line": 541,
        "context": "        const { createI18n } = await import('./i18n');\n        const i18n = createI18n('zh-TW'); // Admin messages default to zh-TW\n        await telegram.sendMessage(chatId, i18n.t('admin.onlyAdmin')"
      },
      {
        "file": "src/router.ts",
        "line": 614,
        "context": "      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      if (!adminBanModule.isAdmin(telegramId, env)) {\n        await telegram.sendMessage(chatId, i18n.t('admin.onlyAdmin'));\n        retu"
      },
      {
        "file": "src/router.ts",
        "line": 629,
        "context": "      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      if (!adminBanModule.isAdmin(telegramId, env)) {\n        await telegram.sendMessage(chatId, i18n.t('admin.onlyAdmin'));\n        retu"
      },
      {
        "file": "src/router.ts",
        "line": 644,
        "context": "      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      if (!adminBanModule.isAdmin(telegramId, env)) {\n        await telegram.sendMessage(chatId, i18n.t('admin.onlyAdmin'));\n        retu"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 72,
        "context": "    // Check admin permission\n    if (!isAdmin(telegramId, env)) {\n      await telegram.sendMessage(chatId, i18n.t('admin.onlyAdmin'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 220,
        "context": "    // Check admin permission\n    if (!isAdmin(telegramId, env)) {\n      await telegram.sendMessage(chatId, i18n.t('admin.onlyAdmin'));\n      return;\n    }"
      }
    ],
    "count": 6
  },
  {
    "key": "buttons.bottle4",
    "files": [
      {
        "file": "src/router.ts",
        "line": 858,
        "context": "            inline_keyboard: [\n              [{ text: i18n.t('buttons.bottle3'), callback_data: 'throw' }],\n              [{ text: i18n.t('buttons.bottle4'), callback_data: 'catch' }],\n              ["
      },
      {
        "file": "src/router.ts",
        "line": 877,
        "context": "          reply_markup: {\n            inline_keyboard: [\n              [{ text: i18n.t('buttons.bottle4'), callback_data: 'catch' }],\n              [{ text: i18n.t('buttons.bottle3'), callback_data: '"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 154,
        "context": "          i18n.t('buttons.bottle3') +\n          ' - /throw\\n' +\n          i18n.t('buttons.bottle4') +\n          ' - /catch\\n' +\n          i18n.t('buttons.profile2') +"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 166,
        "context": "          [\n            { text: i18n.t('buttons.bottle3'), callback_data: 'throw' },\n            { text: i18n.t('buttons.bottle4'), callback_data: 'catch' },\n          ],\n          ["
      },
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 186,
        "context": "    ) {\n      actionRow.push({ text: i18n.t('buttons.bottle3'), callback_data: 'throw' });\n      actionRow.push({ text: i18n.t('buttons.bottle4'), callback_data: 'catch' });\n    }\n    if (actionRow.le"
      },
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 157,
        "context": "    [\n      { text: i18n.t('buttons.bottle3'), callback_data: 'tutorial_throw' },\n      { text: i18n.t('buttons.bottle4'), callback_data: 'tutorial_catch' },\n    ],\n    [{ text: i18n.t('tutorial.viewT"
      }
    ],
    "count": 6
  },
  {
    "key": "common.back",
    "files": [
      {
        "file": "src/router.ts",
        "line": 991,
        "context": "              inline_keyboard: [\n                ...getLanguageButtons(i18n, page),\n                [{ text: i18n.t('common.back'), callback_data: 'lang_back' }],\n              ],\n            },"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 251,
        "context": "        i18n.t('common.ad6') +\n        '\\n\\n' +\n        i18n.t('common.back')\n    );\n  } catch (error) {"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 293,
        "context": "        i18n.t('common.text98') +\n        '\\n\\n' +\n        i18n.t('common.back')\n    );\n  } catch (error) {"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 336,
        "context": "        i18n.t('common.text89') +\n        '\\n\\n' +\n        i18n.t('common.back')\n    );\n  } catch (error) {"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 477,
        "context": "        i18n.t('common.text47') +\n        '\\n\\n' +\n        i18n.t('common.back')\n    );\n  } catch (error) {"
      },
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 59,
        "context": "      inline_keyboard: [\n        ...getLanguageButtons(i18n, 0),\n        [{ text: i18n.t('common.back'), callback_data: 'lang_back' }],\n      ],\n    },"
      }
    ],
    "count": 6
  },
  {
    "key": "common.short2",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 50,
        "context": "        : user.match_preference === 'female'\n          ? i18n.t('common.short85')\n          : i18n.t('common.short2')\n      : user.gender === 'male'\n        ? i18n.t('common.short55')"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 150,
        "context": "        : user.match_preference === 'female'\n          ? i18n.t('common.short85')\n          : i18n.t('common.short2')\n      : user.gender === 'male'\n        ? i18n.t('common.short55')"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 386,
        "context": "          { text: i18n.t('common.short85'), callback_data: 'match_pref_female' },\n        ],\n        [{ text: i18n.t('common.short2'), callback_data: 'match_pref_any' }],\n        [{ text: i18n.t('butt"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 423,
        "context": "    await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n\n    const prefText = preference === 'male' ? i18n.t('common.short84') : preference === 'female' ? i18n.t('common.short85')"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 123,
        "context": "          await telegram.sendMessage(\n            chatId,\n            i18n.t('invite.codeAccepted', { inviterName: inviter.nickname || i18n.t('common.short2') })\n          );\n        }"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 201,
        "context": "          await telegram.sendMessage(\n            chatId,\n            i18n.t('invite.codeAccepted', { inviterName: inviter.nickname || i18n.t('common.short2') })\n          );\n        }"
      }
    ],
    "count": 6
  },
  {
    "key": "common.systemError",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 148,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('common.system"
      },
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 117,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('common.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 294,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('common.system"
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 26,
        "context": "  \n  // System error\n  [/'❌ 系統發生錯誤，請稍後再試。'/g, \"i18n.t('common.systemError')\"],\n  [/\"❌ 系統發生錯誤，請稍後再試。\"/g, \"i18n.t('common.systemError')\"],\n  "
      },
      {
        "file": "scripts/auto-add-i18n-to-handlers.ts",
        "line": 27,
        "context": "  // System error\n  [/'❌ 系統發生錯誤，請稍後再試。'/g, \"i18n.t('common.systemError')\"],\n  [/\"❌ 系統發生錯誤，請稍後再試。\"/g, \"i18n.t('common.systemError')\"],\n  \n  // Common terms"
      },
      {
        "file": "scripts/auto-fix-i18n.ts",
        "line": 18,
        "context": "  [/⚠️ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。/g, \"i18n.t('common.notRegistered')\"],\n  [/❌ 請先完成註冊流程。\\\\n\\\\n使用 \\/start 繼續註冊。/g, \"i18n.t('common.notRegistered')\"],\n  [/❌ 系統發生錯誤，請稍後再試。/g, \"i18n.t('common.systemEr"
      }
    ],
    "count": 6
  },
  {
    "key": "onboarding.gender.male",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 274,
        "context": "        [\n          [\n            { text: i18n.t('onboarding.gender.male'), callback_data: 'gender_male' },\n            { text: i18n.t('onboarding.gender.female'), callback_data: 'gender_female' },\n  "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 451,
        "context": "    const currentGender = sessionData.data?.target_gender || 'any';\n\n    const genderText = currentGender === 'male' ? i18n.t('onboarding.gender.male') : currentGender === 'female' ? i18n.t('onboardin"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 452,
        "context": "\n    const genderText = currentGender === 'male' ? i18n.t('onboarding.gender.male') : currentGender === 'female' ? i18n.t('onboarding.gender.female') : '🌈 任何人';\n    const maleText = currentGender ==="
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 452,
        "context": "\n    const genderText = currentGender === 'male' ? i18n.t('onboarding.gender.male') : currentGender === 'female' ? i18n.t('onboarding.gender.female') : '🌈 任何人';\n    const maleText = currentGender ==="
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 587,
        "context": "\n    // Show filter summary\n    const genderText = selectedGender === 'male' ? i18n.t('onboarding.gender.male') : selectedGender === 'female' ? i18n.t('onboarding.gender.female') : '🌈 任何人';\n    const"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 664,
        "context": "\n    // Show filter summary and ask for content\n    const genderText = selectedGender === 'male' ? i18n.t('onboarding.gender.male') : selectedGender === 'female' ? i18n.t('onboarding.gender.female') :"
      }
    ],
    "count": 6
  },
  {
    "key": "onboarding.gender.female",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 275,
        "context": "          [\n            { text: i18n.t('onboarding.gender.male'), callback_data: 'gender_male' },\n            { text: i18n.t('onboarding.gender.female'), callback_data: 'gender_female' },\n          ],"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 451,
        "context": "    const currentGender = sessionData.data?.target_gender || 'any';\n\n    const genderText = currentGender === 'male' ? i18n.t('onboarding.gender.male') : currentGender === 'female' ? i18n.t('onboardin"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 453,
        "context": "    const genderText = currentGender === 'male' ? i18n.t('onboarding.gender.male') : currentGender === 'female' ? i18n.t('onboarding.gender.female') : '🌈 任何人';\n    const maleText = currentGender === "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 453,
        "context": "    const genderText = currentGender === 'male' ? i18n.t('onboarding.gender.male') : currentGender === 'female' ? i18n.t('onboarding.gender.female') : '🌈 任何人';\n    const maleText = currentGender === "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 587,
        "context": "\n    // Show filter summary\n    const genderText = selectedGender === 'male' ? i18n.t('onboarding.gender.male') : selectedGender === 'female' ? i18n.t('onboarding.gender.female') : '🌈 任何人';\n    const"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 664,
        "context": "\n    // Show filter summary and ask for content\n    const genderText = selectedGender === 'male' ? i18n.t('onboarding.gender.male') : selectedGender === 'female' ? i18n.t('onboarding.gender.female') :"
      }
    ],
    "count": 6
  },
  {
    "key": "vip.text23",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 79,
        "context": "          i18n.t('vip.text14') +\n          '\\n' +\n          i18n.t('vip.text23') +\n          '\\n' +\n          i18n.t('vip.quota2') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 112,
        "context": "          i18n.t('vip.text14') +\n          '\\n' +\n          i18n.t('vip.text23') +\n          '\\n' +\n          i18n.t('vip.quota') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 236,
        "context": "    ? i18n.t('vip.vip6') +\n      '\\n\\n' +\n      i18n.t('vip.text23') +\n      '\\n' +\n      i18n.t('vip.quota2') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 247,
        "context": "    : i18n.t('vip.vip12') +\n      '\\n' +\n      i18n.t('vip.text23') +\n      '\\n' +\n      i18n.t('vip.quota2') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 426,
        "context": "        i18n.t('vip.vip18') +\n        '\\n' +\n        i18n.t('vip.text23') +\n        '\\n' +\n        i18n.t('vip.quota2') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 443,
        "context": "        i18n.t('vip.vip20') +\n        '\\n' +\n        i18n.t('vip.text23') +\n        '\\n' +\n        i18n.t('vip.quota2') +"
      }
    ],
    "count": 6
  },
  {
    "key": "admin.onlySuperAdmin",
    "files": [
      {
        "file": "src/router.ts",
        "line": 556,
        "context": "      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      if (!isSuperAdmin(telegramId)) {\n        await telegram.sendMessage(chatId, i18n.t('admin.onlySuperAdmin'));\n        return;\n      "
      },
      {
        "file": "src/router.ts",
        "line": 570,
        "context": "      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      if (!isSuperAdmin(telegramId)) {\n        await telegram.sendMessage(chatId, i18n.t('admin.onlySuperAdmin'));\n        return;\n      "
      },
      {
        "file": "src/router.ts",
        "line": 584,
        "context": "      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      if (!isSuperAdmin(telegramId)) {\n        await telegram.sendMessage(chatId, i18n.t('admin.onlySuperAdmin'));\n        return;\n      "
      },
      {
        "file": "src/router.ts",
        "line": 599,
        "context": "      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      if (!isSuperAdmin(telegramId)) {\n        await telegram.sendMessage(chatId, i18n.t('admin.onlySuperAdmin'));\n        return;\n      "
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 312,
        "context": "    // Check super admin permission\n    if (!isSuperAdmin(telegramId)) {\n      await telegram.sendMessage(chatId, i18n.t('admin.onlySuperAdmin'));\n      return;\n    }"
      }
    ],
    "count": 5
  },
  {
    "key": "admin.adConfig.usageError",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 103,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.adConfig.usageError') + '\\n\\n' + i18n.t('admin.adConfig.correctFormat') + '\\n' + `/ad_provider_enable <provider_id>`\n      );\n  "
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 141,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.adConfig.usageError') + '\\n\\n' + i18n.t('admin.adConfig.correctFormat') + '\\n' + `/ad_provider_disable <provider_id>`\n      );\n "
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 179,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.adConfig.usageError') + '\\n\\n' +\n          i18n.t('admin.adConfig.correctFormat') + '\\n' +\n          `/ad_provider_priority <pro"
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 296,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.adConfig.usageError') + '\\n\\n' + i18n.t('admin.adConfig.correctFormat') + '\\n' + `/official_ad_enable <ad_id>`\n      );\n      re"
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 338,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.adConfig.usageError') + '\\n\\n' + i18n.t('admin.adConfig.correctFormat') + '\\n' + `/official_ad_disable <ad_id>`\n      );\n      r"
      }
    ],
    "count": 5
  },
  {
    "key": "catch.settings10",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 269,
        "context": "      partnerTelegramId: bottle.owner_telegram_id,\n      maskedNickname: ownerMaskedNickname,\n      mbti: bottleOwner?.mbti_result || i18n.t('catch.settings10'),\n      bloodType: bottleOwner?.blood_ty"
      },
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 270,
        "context": "      maskedNickname: ownerMaskedNickname,\n      mbti: bottleOwner?.mbti_result || i18n.t('catch.settings10'),\n      bloodType: bottleOwner?.blood_type || i18n.t('catch.settings10'),\n      zodiac: bot"
      },
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 280,
        "context": "      partnerTelegramId: telegramId,\n      maskedNickname: formatNicknameWithFlag(maskNickname(catcherNickname), user.country_code),\n      mbti: user.mbti_result || i18n.t('catch.settings10'),\n      b"
      },
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 281,
        "context": "      maskedNickname: formatNicknameWithFlag(maskNickname(catcherNickname), user.country_code),\n      mbti: user.mbti_result || i18n.t('catch.settings10'),\n      bloodType: user.blood_type || i18n.t('"
      },
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 437,
        "context": "      matchScoreText +\n      i18n.t('catch.nickname', { ownerMaskedNickname }) + '\\n' +\n      i18n.t('catch.settings', { bottle: { mbti_result: bottle.mbti_result || i18n.t('catch.settings10') } }) + "
      }
    ],
    "count": 5
  },
  {
    "key": "common.operationFailed",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 118,
        "context": "  } catch (error) {\n    console.error('[handleDraftDelete] Error:', error);\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('common.operationFailed'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 180,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('common.operat"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 222,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('common.operat"
      },
      {
        "file": "src/telegram/handlers/nickname_callback.ts",
        "line": 81,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('common.operat"
      },
      {
        "file": "src/telegram/handlers/nickname_callback.ts",
        "line": 116,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('common.operat"
      }
    ],
    "count": 5
  },
  {
    "key": "common.text68",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 281,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('common.text68') +\n        '\\n\\n' +\n        i18n.t('common.text96') +"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 285,
        "context": "        i18n.t('common.text96') +\n        '\\n\\n' +\n        i18n.t('common.text68') +\n        '\\n' +\n        i18n.t('common.text97') +"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 330,
        "context": "        i18n.t('common.text114') +\n        '\\n\\n' +\n        i18n.t('common.text68') +\n        '\\n' +\n        i18n.t('common.text88') +"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 376,
        "context": "        i18n.t('common.bottle12') +\n        '\\n\\n' +\n        i18n.t('common.text68') +\n        '\\n' +\n        i18n.t('common.text27') +"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 469,
        "context": "        i18n.t('common.text39') +\n        '\\n\\n' +\n        i18n.t('common.text68') +\n        '\\n' +\n        i18n.t('common.text40') +"
      }
    ],
    "count": 5
  },
  {
    "key": "common.short3",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 430,
        "context": "        i18n.t('common.bottle16'),\n      [\n        [{ text: i18n.t('common.short3'), callback_data: 'edit_profile_callback' }],\n        [{ text: i18n.t('common.back3'), callback_data: 'return_to_menu'"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 575,
        "context": "    // Show success message with buttons\n    await telegram.sendMessageWithButtons(chatId, displayText, [\n      [{ text: i18n.t('common.short3'), callback_data: 'edit_profile_callback' }],\n      [{ te"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 803,
        "context": "        await deleteSession(db, telegramId, SESSION_TYPE);\n        await telegram.sendMessageWithButtons(chatId, i18n.t('success.text4') + '\\n\\n' + text, [\n          [{ text: i18n.t('common.short3'), "
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 839,
        "context": "        await deleteSession(db, telegramId, SESSION_TYPE);\n        await telegram.sendMessageWithButtons(chatId, i18n.t('success.text6', { text }), [\n          [{ text: i18n.t('common.short3'), callba"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 892,
        "context": "        await deleteSession(db, telegramId, SESSION_TYPE);\n        await telegram.sendMessageWithButtons(chatId, i18n.t('success.text2') + '\\n\\n' + interestsStr, [\n          [{ text: i18n.t('common.sh"
      }
    ],
    "count": 5
  },
  {
    "key": "throw.bottle3",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 460,
        "context": "        chatId,\n        isVip\n          ? i18n.t('throw.bottle3') + '\\n\\n' +\n              i18n.t('throw.vip7') + '\\n' +\n              i18n.t('throw.text6') + '\\n\\n' +"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 464,
        "context": "              i18n.t('throw.text6') + '\\n\\n' +\n              i18n.t('throw.complete4')\n          : i18n.t('throw.bottle3') + '\\n\\n' +\n              i18n.t('throw.text10') + '\\n\\n' +\n              i18n"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 511,
        "context": "          statusMsg.message_id,\n          isVip\n            ? i18n.t('throw.bottle3') + '\\n\\n' +\n        i18n.t('throw.bottle10') + '\\n' +\n          i18n.t('throw.vip7') + '\\n' +"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 516,
        "context": "                i18n.t('throw.text6') + '\\n\\n' +\n                i18n.t('throw.complete5')\n            : i18n.t('throw.bottle3') + '\\n\\n' +\n                i18n.t('success.bottle3') + '\\n' +\n         "
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 543,
        "context": "            chatId,\n            statusMsg.message_id,\n            i18n.t('throw.bottle3') + '\\n\\n' +\n          i18n.t('success.bottle3') + '\\n' +\n              i18n.t('throw.text8') + '\\n\\n' +"
      }
    ],
    "count": 5
  },
  {
    "key": "vip.quota2",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 81,
        "context": "          i18n.t('vip.text23') +\n          '\\n' +\n          i18n.t('vip.quota2') +\n          '\\n' +\n          i18n.t('vip.mbti') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 238,
        "context": "      i18n.t('vip.text23') +\n      '\\n' +\n      i18n.t('vip.quota2') +\n      '\\n' +\n      i18n.t('vip.mbti2') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 249,
        "context": "      i18n.t('vip.text23') +\n      '\\n' +\n      i18n.t('vip.quota2') +\n      '\\n' +\n      i18n.t('vip.mbti2') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 428,
        "context": "        i18n.t('vip.text23') +\n        '\\n' +\n        i18n.t('vip.quota2') +\n        '\\n' +\n        i18n.t('vip.mbti3') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 445,
        "context": "        i18n.t('vip.text23') +\n        '\\n' +\n        i18n.t('vip.quota2') +\n        '\\n' +\n        i18n.t('vip.mbti3') +"
      }
    ],
    "count": 5
  },
  {
    "key": "error.admin4",
    "files": [
      {
        "file": "src/router.ts",
        "line": 442,
        "context": "        const { createI18n } = await import('./i18n');\n        const i18n = createI18n(user?.language_pref || 'zh-TW');\n        await telegram.sendMessage(chatId, i18n.t('error.admin4'));\n        retu"
      },
      {
        "file": "src/router.ts",
        "line": 458,
        "context": "        const { createI18n } = await import('./i18n');\n        const i18n = createI18n(user?.language_pref || 'zh-TW');\n        await telegram.sendMessage(chatId, i18n.t('error.admin4'));\n        retu"
      },
      {
        "file": "src/router.ts",
        "line": 515,
        "context": "        const { createI18n } = await import('./i18n');\n        const i18n = createI18n(user?.language_pref || 'zh-TW');\n        await telegram.sendMessage(chatId, i18n.t('error.admin4'));\n        retu"
      },
      {
        "file": "src/router.ts",
        "line": 528,
        "context": "        const { createI18n } = await import('./i18n');\n        const i18n = createI18n(user?.language_pref || 'zh-TW');\n        await telegram.sendMessage(chatId, i18n.t('error.admin4'));\n        retu"
      }
    ],
    "count": 4
  },
  {
    "key": "onboarding.welcome",
    "files": [
      {
        "file": "src/router.ts",
        "line": 965,
        "context": "          chatId,\n          callbackQuery.message!.message_id,\n          i18n.t('onboarding.welcome'),\n          {\n            reply_markup: {"
      },
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 37,
        "context": "  await telegram.sendMessageWithButtons(\n    chatId,\n    i18n.t('onboarding.welcome'),\n    getPopularLanguageButtons(i18n)\n  );"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 134,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.welcome'),\n        getPopularLanguageButtons(i18n)\n      );"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 245,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.welcome'),\n        getPopularLanguageButtons(i18n)\n      );"
      }
    ],
    "count": 4
  },
  {
    "key": "errors.operationFailed",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 74,
        "context": "    const user = await findUserByTelegramId(db, callbackQuery.from.id.toString());\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id,"
      },
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 129,
        "context": "    const user = await findUserByTelegramId(db, callbackQuery.from.id.toString());\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id,"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 58,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.operat"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 249,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.operat"
      }
    ],
    "count": 4
  },
  {
    "key": "dev.notAvailableInProduction",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 39,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW'); // Dev messages default to zh-TW\n    await telegram.sendMessage(chatId, i18n.t('dev.notAvailableInProduction'))"
      },
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 233,
        "context": "  \n  if (!isDevCommandAllowed(env)) {\n    await telegram.sendMessage(chatId, i18n.t('dev.notAvailableInProduction'));\n    return;\n  }"
      },
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 321,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW'); // Dev messages default to zh-TW\n    await telegram.sendMessage(chatId, i18n.t('dev.notAvailableInProduction'))"
      },
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 523,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW'); // Dev messages default to zh-TW\n    await telegram.sendMessage(chatId, i18n.t('dev.notAvailableInProduction'))"
      }
    ],
    "count": 4
  },
  {
    "key": "draft.throwBottle",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 93,
        "context": "\n    if (isVip) {\n      await telegram.sendMessageWithButtons(chatId, i18n.t('draft.throwBottle'), [\n        [\n          { text: i18n.t('buttons.targetMale'), callback_data: 'throw_target_male' },"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 104,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('draft.throwBottle') + '\\n\\n' +\n          i18n.t('draft.targetGender') +\n          i18n.t('draft.targetGenderHint'),"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 153,
        "context": "\n    if (isVip) {\n      await telegram.sendMessageWithButtons(chatId, i18n.t('draft.throwBottle'), [\n        [\n          { text: i18n.t('buttons.targetMale'), callback_data: 'throw_target_male' },"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 164,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('draft.throwBottle') + '\\n\\n' +\n          i18n.t('draft.targetGender') +\n          i18n.t('draft.targetGenderHint'),"
      }
    ],
    "count": 4
  },
  {
    "key": "buttons.targetMale",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 95,
        "context": "      await telegram.sendMessageWithButtons(chatId, i18n.t('draft.throwBottle'), [\n        [\n          { text: i18n.t('buttons.targetMale'), callback_data: 'throw_target_male' },\n          { text: i18"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 109,
        "context": "        [\n          [\n            { text: i18n.t('buttons.targetMale'), callback_data: 'throw_target_male' },\n            { text: i18n.t('buttons.targetFemale'), callback_data: 'throw_target_female' }"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 155,
        "context": "      await telegram.sendMessageWithButtons(chatId, i18n.t('draft.throwBottle'), [\n        [\n          { text: i18n.t('buttons.targetMale'), callback_data: 'throw_target_male' },\n          { text: i18"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 169,
        "context": "        [\n          [\n            { text: i18n.t('buttons.targetMale'), callback_data: 'throw_target_male' },\n            { text: i18n.t('buttons.targetFemale'), callback_data: 'throw_target_female' }"
      }
    ],
    "count": 4
  },
  {
    "key": "buttons.targetFemale",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 96,
        "context": "        [\n          { text: i18n.t('buttons.targetMale'), callback_data: 'throw_target_male' },\n          { text: i18n.t('buttons.targetFemale'), callback_data: 'throw_target_female' },\n        ],\n   "
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 110,
        "context": "          [\n            { text: i18n.t('buttons.targetMale'), callback_data: 'throw_target_male' },\n            { text: i18n.t('buttons.targetFemale'), callback_data: 'throw_target_female' },\n        "
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 156,
        "context": "        [\n          { text: i18n.t('buttons.targetMale'), callback_data: 'throw_target_male' },\n          { text: i18n.t('buttons.targetFemale'), callback_data: 'throw_target_female' },\n        ],\n   "
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 170,
        "context": "          [\n            { text: i18n.t('buttons.targetMale'), callback_data: 'throw_target_male' },\n            { text: i18n.t('buttons.targetFemale'), callback_data: 'throw_target_female' },\n        "
      }
    ],
    "count": 4
  },
  {
    "key": "buttons.targetAny",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 98,
        "context": "          { text: i18n.t('buttons.targetFemale'), callback_data: 'throw_target_female' },\n        ],\n        [{ text: i18n.t('buttons.targetAny'), callback_data: 'throw_target_any' }],\n        [{ text"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 112,
        "context": "            { text: i18n.t('buttons.targetFemale'), callback_data: 'throw_target_female' },\n          ],\n          [{ text: i18n.t('buttons.targetAny'), callback_data: 'throw_target_any' }],\n        ]"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 158,
        "context": "          { text: i18n.t('buttons.targetFemale'), callback_data: 'throw_target_female' },\n        ],\n        [{ text: i18n.t('buttons.targetAny'), callback_data: 'throw_target_any' }],\n        [{ text"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 172,
        "context": "            { text: i18n.t('buttons.targetFemale'), callback_data: 'throw_target_female' },\n          ],\n          [{ text: i18n.t('buttons.targetAny'), callback_data: 'throw_target_any' }],\n        ]"
      }
    ],
    "count": 4
  },
  {
    "key": "common.short84",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 47,
        "context": "    const matchPrefText = user.match_preference\n      ? user.match_preference === 'male'\n        ? i18n.t('common.short84')\n        : user.match_preference === 'female'\n          ? i18n.t('common.shor"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 147,
        "context": "    const matchPrefText = user.match_preference\n      ? user.match_preference === 'male'\n        ? i18n.t('common.short84')\n        : user.match_preference === 'female'\n          ? i18n.t('common.shor"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 383,
        "context": "      [\n        [\n          { text: i18n.t('common.short84'), callback_data: 'match_pref_male' },\n          { text: i18n.t('common.short85'), callback_data: 'match_pref_female' },\n        ],"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 423,
        "context": "    await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n\n    const prefText = preference === 'male' ? i18n.t('common.short84') : preference === 'female' ? i18n.t('common.short85')"
      }
    ],
    "count": 4
  },
  {
    "key": "common.short85",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 49,
        "context": "        ? i18n.t('common.short84')\n        : user.match_preference === 'female'\n          ? i18n.t('common.short85')\n          : i18n.t('common.short2')\n      : user.gender === 'male'"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 149,
        "context": "        ? i18n.t('common.short84')\n        : user.match_preference === 'female'\n          ? i18n.t('common.short85')\n          : i18n.t('common.short2')\n      : user.gender === 'male'"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 384,
        "context": "        [\n          { text: i18n.t('common.short84'), callback_data: 'match_pref_male' },\n          { text: i18n.t('common.short85'), callback_data: 'match_pref_female' },\n        ],\n        [{ text: "
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 423,
        "context": "    await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n\n    const prefText = preference === 'male' ? i18n.t('common.short84') : preference === 'female' ? i18n.t('common.short85')"
      }
    ],
    "count": 4
  },
  {
    "key": "conversation.conversationEnded",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 158,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('conversation.conversationEnded')\n      );\n      return true;"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 444,
        "context": "\n    if (!identifierInfo) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('conversation.conversationEnded'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 468,
        "context": "\n    if (!conversation) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('conversation.conversationEnded'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 474,
        "context": "    // Check if conversation is active\n    if (conversation.status !== 'active') {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('conversation.conversationEnded'));\n      return;\n "
      }
    ],
    "count": 4
  },
  {
    "key": "common.confirm7",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 53,
        "context": "        i18n.t('warnings.settings') +\n        '\\n\\n' +\n        i18n.t('common.confirm7'),\n      {\n        reply_markup: {"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 547,
        "context": "        i18n.t('common.message66') +\n        '\\n\\n' +\n        i18n.t('common.confirm7'),\n      [\n        [{ text: i18n.t('success.text10'), callback_data: 'anti_fraud_yes' }],"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 686,
        "context": "        i18n.t('common.message66') +\n        '\\n\\n' +\n        i18n.t('common.confirm7'),\n      [\n        [{ text: i18n.t('success.text10'), callback_data: 'anti_fraud_yes' }],"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 758,
        "context": "        i18n.t('common.message66') +\n        '\\n\\n' +\n        i18n.t('common.confirm7'),\n      [\n        [{ text: i18n.t('success.text10'), callback_data: 'anti_fraud_yes' }],"
      }
    ],
    "count": 4
  },
  {
    "key": "warnings.birthday",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 116,
        "context": "        i18n.t('common.text10') +\n        '\\n\\n' +\n        i18n.t('warnings.birthday') +\n        '\\n' +\n        i18n.t('common.settings6') +"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 200,
        "context": "    // Check if user is in birthday step\n    if (user.onboarding_step !== 'birthday') {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warnings.birthday'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 372,
        "context": "        i18n.t('common.text10') +\n        '\\n\\n' +\n        i18n.t('warnings.birthday') +\n        '\\n' +\n        i18n.t('common.settings6') +"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 291,
        "context": "          i18n.t('onboarding.text10') +\n          '\\n\\n' +\n          i18n.t('warnings.birthday') +\n          '\\n' +\n          i18n.t('onboarding.settings6') +"
      }
    ],
    "count": 4
  },
  {
    "key": "profile.notSet",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 66,
        "context": "    // Format nickname with country flag\n    const { formatNicknameWithFlag } = await import('~/utils/country_flag');\n    const displayNickname = formatNicknameWithFlag(user.nickname || i18n.t('profil"
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 152,
        "context": "    const age = user.birthday ? calculateAge(user.birthday) : '?';\n    const gender = user.gender === 'male' ? i18n.t('profile.cardGenderMale') : user.gender === 'female' ? i18n.t('profile.cardGenderF"
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 154,
        "context": "    const mbti = user.mbti_result || i18n.t('profile.notSet');\n    const zodiac = user.zodiac_sign || 'Virgo';\n    const interests = user.interests ? JSON.parse(user.interests as string).join(', ') : "
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 156,
        "context": "    const interests = user.interests ? JSON.parse(user.interests as string).join(', ') : i18n.t('profile.notSet');\n    const bio = user.bio || i18n.t('profile.mysterious');\n    const city = user.city "
      }
    ],
    "count": 4
  },
  {
    "key": "throw.unlimited",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 588,
        "context": "    // Show filter summary\n    const genderText = selectedGender === 'male' ? i18n.t('onboarding.gender.male') : selectedGender === 'female' ? i18n.t('onboarding.gender.female') : '🌈 任何人';\n    const "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 589,
        "context": "    const genderText = selectedGender === 'male' ? i18n.t('onboarding.gender.male') : selectedGender === 'female' ? i18n.t('onboarding.gender.female') : '🌈 任何人';\n    const mbtiText = selectedMBTI.len"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 665,
        "context": "    // Show filter summary and ask for content\n    const genderText = selectedGender === 'male' ? i18n.t('onboarding.gender.male') : selectedGender === 'female' ? i18n.t('onboarding.gender.female') : "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 666,
        "context": "    const genderText = selectedGender === 'male' ? i18n.t('onboarding.gender.male') : selectedGender === 'female' ? i18n.t('onboarding.gender.female') : '🌈 任何人';\n    const mbtiText = selectedMBTI.len"
      }
    ],
    "count": 4
  },
  {
    "key": "throw.bloodType5",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 823,
        "context": "    const currentBloodType = sessionData.data?.target_blood_type || 'any';\n\n    const bloodTypeText = currentBloodType === 'any' ? i18n.t('throw.bloodType5') : `🩸 ${currentBloodType} 型`;\n\n    await t"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 831,
        "context": "        i18n.t('throw.currentSelection', { selection: bloodTypeText }) +\n        '\\n\\n' +\n        i18n.t('throw.bloodType5'),\n      [\n        ["
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 841,
        "context": "          { text: i18n.t('common.bloodTypeO'), callback_data: 'blood_type_O' },\n        ],\n        [{ text: i18n.t('throw.bloodType5'), callback_data: 'blood_type_any' }],\n        [{ text: i18n.t('but"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 891,
        "context": "    await updateSessionData(db, session.id, sessionData);\n\n    const bloodTypeText = bloodType === 'any' ? i18n.t('throw.bloodType5') : `🩸 ${bloodType} 型`;\n\n    await telegram.answerCallbackQuery("
      }
    ],
    "count": 4
  },
  {
    "key": "vip.text26",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 87,
        "context": "          i18n.t('vip.text2') +\n          '\\n' +\n          i18n.t('vip.text26') +\n          '\\n\\n' +\n          i18n.t('vip.text20') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 118,
        "context": "          i18n.t('vip.mbti') +\n          '\\n' +\n          i18n.t('vip.text26') +\n          '\\n' +\n          i18n.t('vip.text') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 432,
        "context": "        i18n.t('vip.mbti3') +\n        '\\n' +\n        i18n.t('vip.text26') +\n        '\\n\\n' +\n        i18n.t('vip.settings2')"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 449,
        "context": "        i18n.t('vip.mbti3') +\n        '\\n' +\n        i18n.t('vip.text26') +\n        '\\n\\n' +\n        i18n.t('vip.text4') +"
      }
    ],
    "count": 4
  },
  {
    "key": "conversationHistory.partnerInfo",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 70,
        "context": "    // Add partner info at the top if provided\n    if (partnerInfo) {\n      content += i18n.t('conversationHistory.partnerInfo') + '\\n';\n      content += i18n.t('conversationHistory.nickname', { nickn"
      },
      {
        "file": "src/domain/conversation_history.ts",
        "line": 103,
        "context": "  const fallbackTitle = `💬 與 #${identifier} 的對話記錄（第 ${postNumber} 頁）\\n\\n`; // Fallback only, should use i18n.t('conversationHistory.title')\n  const fallbackPartnerInfo = partnerInfo\n    ? `👤 對方資料：\\n"
      },
      {
        "file": "src/domain/conversation_history.ts",
        "line": 157,
        "context": "    // Add partner info\n    if (partnerInfo) {\n      content += i18n.t('conversationHistory.partnerInfo') + '\\n';\n      content += i18n.t('conversationHistory.nickname', { nickname: partnerInfo.masked"
      }
    ],
    "count": 3
  },
  {
    "key": "conversationHistory.replyHint",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 87,
        "context": "    content += i18n.t('conversationHistory.totalMessages', { count: totalMessages }) + '\\n';\n    content += i18n.t('conversationHistory.lastUpdated', { time: formatDateTime(new Date()) }) + '\\n\\n';\n  "
      },
      {
        "file": "src/domain/conversation_history.ts",
        "line": 115,
        "context": "  const fallbackTotalMessages = `📊 總訊息數：${totalMessages} 則\\n`; // Fallback only, should use i18n.t('conversationHistory.totalMessages')\n  const fallbackLastUpdated = `📅 最後更新：${formatDateTime(new Dat"
      },
      {
        "file": "src/domain/conversation_history.ts",
        "line": 171,
        "context": "    content += `[${timeStr}] ${otherLabel}：\\n${messageContent}\\n\\n`;\n    content += '━━━━━━━━━━━━━━━━\\n\\n';\n    content += i18n.t('conversationHistory.replyHint') + '\\n';\n    content += i18n.t('conver"
      }
    ],
    "count": 3
  },
  {
    "key": "common.anonymousUser",
    "files": [
      {
        "file": "src/domain/vip_triple_bottle.ts",
        "line": 189,
        "context": "      conversationIdentifier: formattedIdentifier,\n      matcherNickname: formatNicknameWithFlag(\n        maskNickname(matchedUser.nickname || i18n.t('common.anonymousUser')),\n        matchedUser.coun"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 322,
        "context": "\n    // For sender's history: partner is receiver\n    const receiverNickname = receiver.nickname || receiver.username || i18n.t('common.anonymousUser');\n    const { formatNicknameWithFlag } = await im"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 333,
        "context": "\n    // For receiver's history: partner is sender\n    const senderNickname = sender.nickname || sender.username || i18n.t('common.anonymousUser');\n    const senderPartnerInfo = {\n      partnerTelegram"
      }
    ],
    "count": 3
  },
  {
    "key": "admin.ban.noPermission",
    "files": [
      {
        "file": "src/router.ts",
        "line": 664,
        "context": "        const { createI18n } = await import('./i18n');\n        const i18n = createI18n(user?.language_pref || 'zh-TW');\n        await telegram.sendMessage(chatId, i18n.t('admin.ban.noPermission'));\n  "
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 728,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW'); // Admin messages default to zh-TW\n    await telegram.sendMessage(chatId, i18n.t('admin.ban.noPermission'));\n  "
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 817,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW'); // Admin messages default to zh-TW\n    await telegram.sendMessage(chatId, i18n.t('admin.ban.noPermission'));\n  "
      }
    ],
    "count": 3
  },
  {
    "key": "onboarding.languageSelection",
    "files": [
      {
        "file": "src/router.ts",
        "line": 986,
        "context": "          chatId,\n          callbackQuery.message!.message_id,\n          i18n.t('onboarding.languageSelection'),\n          {\n            reply_markup: {"
      },
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 55,
        "context": "\n  // Edit message to show all languages (page 0)\n  await telegram.editMessageText(chatId, messageId, i18n.t('onboarding.languageSelection'), {\n    reply_markup: {\n      inline_keyboard: ["
      },
      {
        "file": "src/telegram/handlers/settings.ts",
        "line": 97,
        "context": "\n      // Show all languages\n      await telegram.sendMessageWithButtons(chatId, i18n.t('onboarding.languageSelection'), [\n        ...getLanguageButtons(i18n, 0),\n        [{ text: i18n.t('settings.bac"
      }
    ],
    "count": 3
  },
  {
    "key": "channelMembership.taskCompleted",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 150,
        "context": "        chatId,\n        messageId,\n        i18n.t('channelMembership.taskCompleted') + '\\n\\n' +\n          i18n.t('channelMembership.rewardAdded') + '\\n\\n' +\n          i18n.t('channelMembership.viewMor"
      },
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 157,
        "context": "      await telegram.sendMessage(\n        parseInt(userId),\n        i18n.t('channelMembership.taskCompleted') + '\\n\\n' +\n          i18n.t('channelMembership.rewardAdded') + '\\n\\n' +\n          i18n.t('"
      },
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 229,
        "context": "    await telegram.sendMessage(\n      parseInt(userId),\n      i18n.t('channelMembership.taskCompleted') + '\\n\\n' +\n        i18n.t('channelMembership.rewardAdded') + '\\n\\n' +\n        i18n.t('channelMem"
      }
    ],
    "count": 3
  },
  {
    "key": "channelMembership.rewardAdded",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 151,
        "context": "        messageId,\n        i18n.t('channelMembership.taskCompleted') + '\\n\\n' +\n          i18n.t('channelMembership.rewardAdded') + '\\n\\n' +\n          i18n.t('channelMembership.viewMoreTasks')\n      )"
      },
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 158,
        "context": "        parseInt(userId),\n        i18n.t('channelMembership.taskCompleted') + '\\n\\n' +\n          i18n.t('channelMembership.rewardAdded') + '\\n\\n' +\n          i18n.t('channelMembership.viewMoreTasks')\n"
      },
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 230,
        "context": "      parseInt(userId),\n      i18n.t('channelMembership.taskCompleted') + '\\n\\n' +\n        i18n.t('channelMembership.rewardAdded') + '\\n\\n' +\n        i18n.t('channelMembership.viewTaskCenter')\n    );"
      }
    ],
    "count": 3
  },
  {
    "key": "common.backToMainMenu",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 172,
        "context": "          [\n            {\n              text: i18n.t('common.backToMainMenu'),\n              callback_data: 'return_to_menu',\n            },"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 91,
        "context": "          i18n.t('vip.text20') +\n          '\\n\\n' +\n          i18n.t('common.backToMainMenu'),\n        [\n          [{ text: i18n.t('vip.vip4', { priceStars }), callback_data: 'vip_renew' }],"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 124,
        "context": "          i18n.t('vip.message13') +\n          '\\n\\n' +\n          i18n.t('common.backToMainMenu'),\n        [\n          [{ text: i18n.t('vip.vip5', { priceStars }), callback_data: 'vip_purchase' }],"
      }
    ],
    "count": 3
  },
  {
    "key": "admin.adConfig.viewAllProviders",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 115,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.adConfig.providerEnabled', { name: providerName }) + '\\n\\n' + i18n.t('admin.adConfig.viewAllProviders')\n    );\n  } catch (error) {"
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 153,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.adConfig.providerDisabled', { name: providerName }) + '\\n\\n' + i18n.t('admin.adConfig.viewAllProviders')\n    );\n  } catch (error) {"
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 204,
        "context": "        i18n.t('admin.adConfig.provider', { name: providerName }) + '\\n' +\n        i18n.t('admin.adConfig.priorityValue', { priority }) + '\\n\\n' +\n        i18n.t('admin.adConfig.viewAllProviders')\n   "
      }
    ],
    "count": 3
  },
  {
    "key": "admin.adConfig.example",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 182,
        "context": "          i18n.t('admin.adConfig.correctFormat') + '\\n' +\n          `/ad_provider_priority <provider_id> <priority>\\n\\n` +\n          i18n.t('admin.adConfig.example') + '\\n' +\n          `/ad_provider_p"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 378,
        "context": "          i18n.t('admin.adConfig.correctFormat') + '\\n' +\n          i18n.t('admin.addCommand') +\n          i18n.t('admin.adConfig.example') + '\\n' +\n          i18n.t('admin.addExample') +\n          i1"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 448,
        "context": "          i18n.t('admin.adConfig.correctFormat') + '\\n' +\n          i18n.t('admin.removeCommand') +\n          i18n.t('admin.adConfig.example') + '\\n' +\n          i18n.t('admin.removeExample') +\n      "
      }
    ],
    "count": 3
  },
  {
    "key": "admin.analytics.onlySuperAdmin",
    "files": [
      {
        "file": "src/telegram/handlers/admin_analytics.ts",
        "line": 193,
        "context": "    if (!isSuperAdmin(telegramId)) {\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('admin.analytics.onlySuperAdmin'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 364,
        "context": "    // Check super admin permission\n    if (!isSuperAdmin(telegramId)) {\n      await telegram.sendMessage(chatId, i18n.t('admin.analytics.onlySuperAdmin'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 434,
        "context": "    // Check super admin permission\n    if (!isSuperAdmin(telegramId)) {\n      await telegram.sendMessage(chatId, i18n.t('admin.analytics.onlySuperAdmin'));\n      return;\n    }"
      }
    ],
    "count": 3
  },
  {
    "key": "admin.ban.permanent",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 110,
        "context": "    if (durationArg.toLowerCase() === 'permanent') {\n      bannedUntil = null;\n      durationText = i18n.t('admin.ban.permanent');\n    } else {\n      const hours = parseInt(durationArg);"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 565,
        "context": "          timeZone: 'Asia/Taipei',\n        })\n        : i18n.t('admin.ban.permanent');\n\n      message +="
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 629,
        "context": "        timeZone: 'Asia/Taipei',\n      })\n      : i18n.t('admin.ban.permanent');\n\n    responseText +="
      }
    ],
    "count": 3
  },
  {
    "key": "admin.error",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 202,
        "context": "  } catch (error) {\n    console.error('[handleAdminBan] Error:', error);\n    await telegram.sendMessage(chatId, i18n.t('admin.error'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 295,
        "context": "  } catch (error) {\n    console.error('[handleAdminUnban] Error:', error);\n    await telegram.sendMessage(chatId, i18n.t('admin.error'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 347,
        "context": "  } catch (error) {\n    console.error('[handleAdminList] Error:', error);\n    await telegram.sendMessage(chatId, i18n.t('admin.error'));\n  }\n}"
      }
    ],
    "count": 3
  },
  {
    "key": "admin.insufficientPermission",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 29,
        "context": "    const superAdminId = env.SUPER_ADMIN_USER_ID;\n    if (telegramId !== superAdminId) {\n      await telegram.sendMessage(chatId, i18n.t('admin.insufficientPermission'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 33,
        "context": "    const superAdminId = env.SUPER_ADMIN_USER_ID;\n    if (telegramId !== superAdminId) {\n      await telegram.sendMessage(chatId, i18n.t('admin.insufficientPermission'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/admin_test_refresh.ts",
        "line": 29,
        "context": "    const superAdminId = env.SUPER_ADMIN_USER_ID;\n    if (telegramId !== superAdminId) {\n      await telegram.sendMessage(chatId, i18n.t('admin.insufficientPermission'));\n      return;\n    }"
      }
    ],
    "count": 3
  },
  {
    "key": "broadcast.usageError",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 39,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('broadcast.usageError') +\n          i18n.t('broadcast.correctFormat') +\n          `/broadcast <${i18n.t('broadcast.messageContent')}>\\n"
      },
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 110,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('broadcast.usageError') +\n          i18n.t('broadcast.correctFormat') +\n          `/broadcast_vip <${i18n.t('broadcast.messageContent')"
      },
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 174,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('broadcast.usageError') +\n          i18n.t('broadcast.correctFormat') +\n          `/broadcast_non_vip <${i18n.t('broadcast.messageConte"
      }
    ],
    "count": 3
  },
  {
    "key": "broadcast.correctFormat",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 40,
        "context": "        chatId,\n        i18n.t('broadcast.usageError') +\n          i18n.t('broadcast.correctFormat') +\n          `/broadcast <${i18n.t('broadcast.messageContent')}>\\n\\n` +\n          i18n.t('broadcast."
      },
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 111,
        "context": "        chatId,\n        i18n.t('broadcast.usageError') +\n          i18n.t('broadcast.correctFormat') +\n          `/broadcast_vip <${i18n.t('broadcast.messageContent')}>`\n      );"
      },
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 175,
        "context": "        chatId,\n        i18n.t('broadcast.usageError') +\n          i18n.t('broadcast.correctFormat') +\n          `/broadcast_non_vip <${i18n.t('broadcast.messageContent')}>`\n      );"
      }
    ],
    "count": 3
  },
  {
    "key": "broadcast.messageContent",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 41,
        "context": "        i18n.t('broadcast.usageError') +\n          i18n.t('broadcast.correctFormat') +\n          `/broadcast <${i18n.t('broadcast.messageContent')}>\\n\\n` +\n          i18n.t('broadcast.example') +\n    "
      },
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 112,
        "context": "        i18n.t('broadcast.usageError') +\n          i18n.t('broadcast.correctFormat') +\n          `/broadcast_vip <${i18n.t('broadcast.messageContent')}>`\n      );\n      return;"
      },
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 176,
        "context": "        i18n.t('broadcast.usageError') +\n          i18n.t('broadcast.correctFormat') +\n          `/broadcast_non_vip <${i18n.t('broadcast.messageContent')}>`\n      );\n      return;"
      }
    ],
    "count": 3
  },
  {
    "key": "broadcast.created",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 77,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('broadcast.created') +\n        i18n.t('broadcast.id', { id: broadcastId }) +\n        i18n.t('broadcast.target', { target: i18n.t('broadcast.t"
      },
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 141,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('broadcast.created') +\n        i18n.t('broadcast.id', { id: broadcastId }) +\n        i18n.t('broadcast.target', { target: i18n.t('broadcast.t"
      },
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 205,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('broadcast.created') +\n        i18n.t('broadcast.id', { id: broadcastId }) +\n        i18n.t('broadcast.target', { target: i18n.t('broadcast.t"
      }
    ],
    "count": 3
  },
  {
    "key": "catch.message4",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 446,
        "context": "      i18n.t('catch.replyMethods') + '\\n' +\n      i18n.t('catch.message5') + '\\n' +\n      i18n.t('catch.message4') + '\\n\\n' +\n      i18n.t('catch.catch', { newCatchesCount, quota }) + '\\n' +\n      i18"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 253,
        "context": "          i18n.t('throw.bottle7') +\n          '\\n' +\n          i18n.t('catch.message4');\n\n    await telegram.sendMessageWithButtons("
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 772,
        "context": "          i18n.t('buttons.message') +\n          '\\n' +\n          i18n.t('catch.message4');\n      } else {\n        // 智能配對未成功，3 個槽位都進入公共池"
      }
    ],
    "count": 3
  },
  {
    "key": "errors.conversationNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 37,
        "context": "    const conversation = await getConversationById(db, conversationId);\n    if (!conversation) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.conversationNotFound'));\n    "
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 296,
        "context": "    const conversation = await getConversationById(db, conversationId);\n    if (!conversation) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.conversationNotFound'));\n    "
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 365,
        "context": "    const conversation = await getConversationById(db, conversationId);\n    if (!conversation) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.conversationNotFound'));\n    "
      }
    ],
    "count": 3
  },
  {
    "key": "errors.conversationInfoError",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 44,
        "context": "    const otherUserId = getOtherUserId(conversation, telegramId);\n    if (!otherUserId) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.conversationInfoError'));\n      retu"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 303,
        "context": "    const otherUserId = getOtherUserId(conversation, telegramId);\n    if (!otherUserId) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.conversationInfoError'));\n      retu"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 372,
        "context": "    const otherUserId = getOtherUserId(conversation, telegramId);\n    if (!otherUserId) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.conversationInfoError'));\n      retu"
      }
    ],
    "count": 3
  },
  {
    "key": "common.text27",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 80,
        "context": "        i18n.t('common.bloodType', { bloodTypeText }) +\n        '\\n\\n' +\n        i18n.t('common.text27') +\n        '\\n' +\n        i18n.t('common.gender', { updatedUser: { gender: user.gender } }) +"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 180,
        "context": "        i18n.t('common.bloodType', { bloodTypeText }) +\n        '\\n\\n' +\n        i18n.t('common.text27') +\n        '\\n' +\n        i18n.t('common.gender', { updatedUser: { gender: user.gender } }) +"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 378,
        "context": "        i18n.t('common.text68') +\n        '\\n' +\n        i18n.t('common.text27') +\n        '\\n' +\n        i18n.t('common.bottle16'),"
      }
    ],
    "count": 3
  },
  {
    "key": "common.short32",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 97,
        "context": "        ],\n        [\n          { text: i18n.t('common.short32'), callback_data: 'edit_match_pref' },\n          { text: i18n.t('common.bloodType4'), callback_data: 'edit_blood_type' },\n        ],"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 197,
        "context": "        ],\n        [\n          { text: i18n.t('common.short32'), callback_data: 'edit_match_pref' },\n          { text: i18n.t('common.bloodType4'), callback_data: 'edit_blood_type' },\n        ],"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 372,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('common.short32') +\n        '\\n\\n' +\n        i18n.t('common.bottle12') +"
      }
    ],
    "count": 3
  },
  {
    "key": "common.mbti9",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 100,
        "context": "          { text: i18n.t('common.bloodType4'), callback_data: 'edit_blood_type' },\n        ],\n        [{ text: i18n.t('common.mbti9'), callback_data: 'retake_mbti' }],\n        [{ text: i18n.t('buttons"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 200,
        "context": "          { text: i18n.t('common.bloodType4'), callback_data: 'edit_blood_type' },\n        ],\n        [{ text: i18n.t('common.mbti9'), callback_data: 'retake_mbti' }],\n        [{ text: i18n.t('buttons"
      },
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 68,
        "context": "    // Show options\n    await telegram.sendMessageWithButtons(chatId, statusMessage, [\n      [{ text: i18n.t('common.mbti9'), callback_data: 'mbti_menu_test' }],\n      [{ text: i18n.t('common.mbti10')"
      }
    ],
    "count": 3
  },
  {
    "key": "common.nickname11",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 241,
        "context": "        i18n.t('common.nickname10') +\n        '\\n\\n' +\n        i18n.t('common.nickname11') +\n        '\\n' +\n        i18n.t('common.nickname5') +"
      },
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 174,
        "context": "      i18n.t('common.nickname5') +\n      i18n.t('common.text79') +\n      i18n.t('common.nickname11');\n    \n    await telegram.sendMessageWithButtons("
      },
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 196,
        "context": "      i18n.t('common.nickname5') +\n      i18n.t('common.text79') +\n      i18n.t('common.nickname11');\n    \n    await telegram.sendMessage(chatId, nicknameMessage);"
      }
    ],
    "count": 3
  },
  {
    "key": "common.nickname5",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 243,
        "context": "        i18n.t('common.nickname11') +\n        '\\n' +\n        i18n.t('common.nickname5') +\n        '\\n' +\n        i18n.t('common.text79') +"
      },
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 172,
        "context": "      i18n.t('common.nickname7') +\n      i18n.t('warnings.warning.short4') +\n      i18n.t('common.nickname5') +\n      i18n.t('common.text79') +\n      i18n.t('common.nickname11');"
      },
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 194,
        "context": "      i18n.t('common.nickname8') +\n      i18n.t('warnings.warning.short4') +\n      i18n.t('common.nickname5') +\n      i18n.t('common.text79') +\n      i18n.t('common.nickname11');"
      }
    ],
    "count": 3
  },
  {
    "key": "common.text79",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 245,
        "context": "        i18n.t('common.nickname5') +\n        '\\n' +\n        i18n.t('common.text79') +\n        '\\n' +\n        i18n.t('common.nickname') +"
      },
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 173,
        "context": "      i18n.t('warnings.warning.short4') +\n      i18n.t('common.nickname5') +\n      i18n.t('common.text79') +\n      i18n.t('common.nickname11');\n    "
      },
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 195,
        "context": "      i18n.t('warnings.warning.short4') +\n      i18n.t('common.nickname5') +\n      i18n.t('common.text79') +\n      i18n.t('common.nickname11');\n    "
      }
    ],
    "count": 3
  },
  {
    "key": "common.help",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 61,
        "context": "        i18n.t('common.settings10') +\n        '\\n\\n' +\n        i18n.t('common.help') +\n        '\\n\\n' +\n        i18n.t('common.settings7');"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 332,
        "context": "      i18n.t('common.settings2') +\n        '\\n\\n' +\n        i18n.t('common.help') +\n        '\\n\\n' +\n        i18n.t('common.settings7'),"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 591,
        "context": "      i18n.t('common.settings2') +\n        '\\n\\n' +\n        i18n.t('common.help') +\n        '\\n\\n' +\n        i18n.t('common.settings7'),"
      }
    ],
    "count": 3
  },
  {
    "key": "common.settings7",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 63,
        "context": "        i18n.t('common.help') +\n        '\\n\\n' +\n        i18n.t('common.settings7');\n    }\n"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 334,
        "context": "        i18n.t('common.help') +\n        '\\n\\n' +\n        i18n.t('common.settings7'),\n      [\n        [{ text: i18n.t('common.mbti2'), callback_data: 'mbti_choice_manual' }],"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 593,
        "context": "        i18n.t('common.help') +\n        '\\n\\n' +\n        i18n.t('common.settings7'),\n      [\n        [{ text: i18n.t('common.mbti2'), callback_data: 'mbti_choice_manual' }],"
      }
    ],
    "count": 3
  },
  {
    "key": "errors.error.cancel9",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 246,
        "context": "        { text: 'ESFP', callback_data: 'mbti_set_ESFP' },\n      ],\n      [{ text: i18n.t('errors.error.cancel9'), callback_data: 'mbti_menu_cancel' }],\n    ]);\n  } catch (error) {"
      },
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 313,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.error.cancel9'));\n\n    // Delete menu message"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 206,
        "context": "  const i18n = createI18n(user?.language_pref || 'zh-TW');\n\n  await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.error.cancel9'));\n  await telegram.deleteMessage(chatId, callbackQuery"
      }
    ],
    "count": 3
  },
  {
    "key": "officialAd.errorRetry",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 183,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, {\n      text: i18n.t('officialAd.errorRetry'),\n      show_alert: true,\n    });"
      },
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 293,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, {\n      text: i18n.t('officialAd.errorRetry'),\n      show_alert: true,\n    });"
      },
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 424,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, {\n      text: i18n.t('officialAd.errorRetry'),\n      show_alert: true,\n    });"
      }
    ],
    "count": 3
  },
  {
    "key": "common.confirm",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 539,
        "context": "        i18n.t('common.confirm2') +\n        '\\n\\n' +\n        i18n.t('common.confirm') +\n        '\\n\\n' +\n        i18n.t('common.text49') +"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 678,
        "context": "      i18n.t('common.confirm3') +\n        '\\n\\n' +\n        i18n.t('common.confirm') +\n        '\\n\\n' +\n        i18n.t('common.text49') +"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 750,
        "context": "        i18n.t('common.confirm3') +\n        '\\n\\n' +\n        i18n.t('common.confirm') +\n        '\\n\\n' +\n        i18n.t('common.text49') +"
      }
    ],
    "count": 3
  },
  {
    "key": "common.text49",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 541,
        "context": "        i18n.t('common.confirm') +\n        '\\n\\n' +\n        i18n.t('common.text49') +\n        '\\n' +\n        i18n.t('common.text50') +"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 680,
        "context": "        i18n.t('common.confirm') +\n        '\\n\\n' +\n        i18n.t('common.text49') +\n        '\\n' +\n        i18n.t('common.text50') +"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 752,
        "context": "        i18n.t('common.confirm') +\n        '\\n\\n' +\n        i18n.t('common.text49') +\n        '\\n' +\n        i18n.t('common.text50') +"
      }
    ],
    "count": 3
  },
  {
    "key": "common.text50",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 543,
        "context": "        i18n.t('common.text49') +\n        '\\n' +\n        i18n.t('common.text50') +\n        '\\n' +\n        i18n.t('common.message66') +"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 682,
        "context": "        i18n.t('common.text49') +\n        '\\n' +\n        i18n.t('common.text50') +\n        '\\n' +\n        i18n.t('common.message66') +"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 754,
        "context": "        i18n.t('common.text49') +\n        '\\n' +\n        i18n.t('common.text50') +\n        '\\n' +\n        i18n.t('common.message66') +"
      }
    ],
    "count": 3
  },
  {
    "key": "common.message66",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 545,
        "context": "        i18n.t('common.text50') +\n        '\\n' +\n        i18n.t('common.message66') +\n        '\\n\\n' +\n        i18n.t('common.confirm7'),"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 684,
        "context": "        i18n.t('common.text50') +\n        '\\n' +\n        i18n.t('common.message66') +\n        '\\n\\n' +\n        i18n.t('common.confirm7'),"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 756,
        "context": "        i18n.t('common.text50') +\n        '\\n' +\n        i18n.t('common.message66') +\n        '\\n\\n' +\n        i18n.t('common.confirm7'),"
      }
    ],
    "count": 3
  },
  {
    "key": "success.text10",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 549,
        "context": "        i18n.t('common.confirm7'),\n      [\n        [{ text: i18n.t('success.text10'), callback_data: 'anti_fraud_yes' }],\n        [{ text: i18n.t('common.text108'), callback_data: 'anti_fraud_learn' }"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 688,
        "context": "        i18n.t('common.confirm7'),\n      [\n        [{ text: i18n.t('success.text10'), callback_data: 'anti_fraud_yes' }],\n        [{ text: i18n.t('common.text108'), callback_data: 'anti_fraud_learn' }"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 760,
        "context": "        i18n.t('common.confirm7'),\n      [\n        [{ text: i18n.t('success.text10'), callback_data: 'anti_fraud_yes' }],\n        [{ text: i18n.t('common.text108'), callback_data: 'anti_fraud_learn' }"
      }
    ],
    "count": 3
  },
  {
    "key": "common.text108",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 550,
        "context": "      [\n        [{ text: i18n.t('success.text10'), callback_data: 'anti_fraud_yes' }],\n        [{ text: i18n.t('common.text108'), callback_data: 'anti_fraud_learn' }],\n      ]\n    );"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 689,
        "context": "      [\n        [{ text: i18n.t('success.text10'), callback_data: 'anti_fraud_yes' }],\n        [{ text: i18n.t('common.text108'), callback_data: 'anti_fraud_learn' }],\n      ]\n    );"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 761,
        "context": "      [\n        [{ text: i18n.t('success.text10'), callback_data: 'anti_fraud_yes' }],\n        [{ text: i18n.t('common.text108'), callback_data: 'anti_fraud_learn' }],\n      ]\n    );"
      }
    ],
    "count": 3
  },
  {
    "key": "common.confirm3",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 676,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('common.confirm3') +\n        '\\n\\n' +\n        i18n.t('common.confirm') +"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 748,
        "context": "      i18n.t('success.mbti', { mbtiType }) +\n        '\\n\\n' +\n        i18n.t('common.confirm3') +\n        '\\n\\n' +\n        i18n.t('common.confirm') +"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 883,
        "context": "        i18n.t('common.text17') +\n        '\\n\\n' +\n        i18n.t('common.confirm3'),\n      {\n        reply_markup: {"
      }
    ],
    "count": 3
  },
  {
    "key": "common.male",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 49,
        "context": "    // Build profile message\n    const age = user.birthday ? calculateAge(user.birthday) : i18n.t('profile.settings');\n    const gender = user.gender === 'male' ? i18n.t('common.male') : user.gender ="
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 224,
        "context": "    const targetText =\n      targetGender === 'male'\n        ? i18n.t('common.male')\n        : targetGender === 'female'\n          ? i18n.t('common.female')"
      },
      {
        "file": "scripts/auto-fix-i18n.ts",
        "line": 22,
        "context": "  // Common terms\n  [/'未設定'/g, \"i18n.t('common.notSet')\"],\n  [/'男'/g, \"i18n.t('common.male')\"],\n  [/'女'/g, \"i18n.t('common.female')\"],\n];"
      }
    ],
    "count": 3
  },
  {
    "key": "common.female",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 49,
        "context": "    // Build profile message\n    const age = user.birthday ? calculateAge(user.birthday) : i18n.t('profile.settings');\n    const gender = user.gender === 'male' ? i18n.t('common.male') : user.gender ="
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 226,
        "context": "        ? i18n.t('common.male')\n        : targetGender === 'female'\n          ? i18n.t('common.female')\n          : i18n.t('throw.short3');\n    const throwPrompt ="
      },
      {
        "file": "scripts/auto-fix-i18n.ts",
        "line": 23,
        "context": "  [/'未設定'/g, \"i18n.t('common.notSet')\"],\n  [/'男'/g, \"i18n.t('common.male')\"],\n  [/'女'/g, \"i18n.t('common.female')\"],\n];\n"
      }
    ],
    "count": 3
  },
  {
    "key": "profile.invite2",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 91,
        "context": "      i18n.t('profile.text3', { vipStatus }) +\n      i18n.t('profile.separator') +\n      i18n.t('profile.invite2') +\n      i18n.t('profile.inviteCodeLabel', { inviteCode }) +\n      i18n.t('profile.act"
      },
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 105,
        "context": "content = content.replace(\n  /`🎁 \\*\\*邀請資訊\\*\\*\\\\n\\\\n`/g,\n  `i18n.t('profile.invite2') + '\\n\\n'`\n);\n"
      },
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 110,
        "context": "content = content.replace(\n  /`📋 你的邀請碼：\\\\`\\$\\{inviteCode\\}\\\\`\\\\n`/g,\n  `i18n.t('profile.invite2').replace('🎁 **邀請資訊**\\n\\n', '').replace('📋 你的邀請碼：\\\\`', '📋 你的邀請碼：`').replace('${inviteCode}', inviteC"
      }
    ],
    "count": 3
  },
  {
    "key": "throw.short3",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 227,
        "context": "        : targetGender === 'female'\n          ? i18n.t('common.female')\n          : i18n.t('throw.short3');\n    const throwPrompt =\n      i18n.t('throw.bottle4') +"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 454,
        "context": "    const maleText = currentGender === 'male' ? `✅ ${i18n.t('onboarding.gender.male')}` : i18n.t('onboarding.gender.male');\n    const femaleText = currentGender === 'female' ? `✅ ${i18n.t('onboarding."
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 454,
        "context": "    const maleText = currentGender === 'male' ? `✅ ${i18n.t('onboarding.gender.male')}` : i18n.t('onboarding.gender.male');\n    const femaleText = currentGender === 'female' ? `✅ ${i18n.t('onboarding."
      }
    ],
    "count": 3
  },
  {
    "key": "error.userNotFound4",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 299,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('error.userNotFound4'));\n      return;\n  "
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 71,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('error.userNotFound4'));\n      return;\n  "
      },
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 63,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('error.userNotFound4'));\n      return;\n    }"
      }
    ],
    "count": 3
  },
  {
    "key": "throw.conversation5",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 624,
        "context": "              i18n.t('throw.message8') +\n              '\\n' +\n              i18n.t('throw.conversation5')\n          );\n"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 766,
        "context": "          i18n.t('throw.throw', { quotaDisplay }) +\n          '\\n\\n' +\n          i18n.t('throw.conversation5') +\n          '\\n\\n' +\n          i18n.t('throw.text14') +"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 790,
        "context": "          i18n.t('throw.throw', { quotaDisplay }) +\n          '\\n\\n' +\n          i18n.t('throw.conversation2') + '\\n\\n' + i18n.t('throw.conversation5');\n      }\n    } else {"
      }
    ],
    "count": 3
  },
  {
    "key": "vip.text2",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 85,
        "context": "          i18n.t('vip.mbti') +\n          '\\n' +\n          i18n.t('vip.text2') +\n          '\\n' +\n          i18n.t('vip.text26') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 242,
        "context": "      i18n.t('vip.mbti2') +\n      '\\n' +\n      i18n.t('vip.text2') +\n      '\\n\\n' +\n      i18n.t('vip.settings3')"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 253,
        "context": "      i18n.t('vip.mbti2') +\n      '\\n' +\n      i18n.t('vip.text2');\n\n  // Create invoice"
      }
    ],
    "count": 3
  },
  {
    "key": "broadcast.target.all",
    "files": [
      {
        "file": "src/domain/broadcast.ts",
        "line": 155,
        "context": "    switch (targetType) {\n      case 'all':\n        return i18n.t('broadcast.target.all');\n      case 'vip':\n        return i18n.t('broadcast.target.vip');"
      },
      {
        "file": "src/domain/broadcast.ts",
        "line": 169,
        "context": "  switch (targetType) {\n    case 'all':\n      return '所有用戶'; // Fallback only, should use i18n.t('broadcast.target.all')\n    case 'vip':\n      return 'VIP 用戶'; // Fallback only, should use i18n.t('bro"
      }
    ],
    "count": 2
  },
  {
    "key": "broadcast.target.vip",
    "files": [
      {
        "file": "src/domain/broadcast.ts",
        "line": 157,
        "context": "        return i18n.t('broadcast.target.all');\n      case 'vip':\n        return i18n.t('broadcast.target.vip');\n      case 'non_vip':\n        return i18n.t('broadcast.target.nonVip');"
      },
      {
        "file": "src/domain/broadcast.ts",
        "line": 171,
        "context": "      return '所有用戶'; // Fallback only, should use i18n.t('broadcast.target.all')\n    case 'vip':\n      return 'VIP 用戶'; // Fallback only, should use i18n.t('broadcast.target.vip')\n    case 'non_vip':\n"
      }
    ],
    "count": 2
  },
  {
    "key": "broadcast.target.nonVip",
    "files": [
      {
        "file": "src/domain/broadcast.ts",
        "line": 159,
        "context": "        return i18n.t('broadcast.target.vip');\n      case 'non_vip':\n        return i18n.t('broadcast.target.nonVip');\n      default:\n        return i18n.t('broadcast.target.unknown');"
      },
      {
        "file": "src/domain/broadcast.ts",
        "line": 173,
        "context": "      return 'VIP 用戶'; // Fallback only, should use i18n.t('broadcast.target.vip')\n    case 'non_vip':\n      return '非 VIP 用戶'; // Fallback only, should use i18n.t('broadcast.target.nonVip')\n    defau"
      }
    ],
    "count": 2
  },
  {
    "key": "broadcast.target.unknown",
    "files": [
      {
        "file": "src/domain/broadcast.ts",
        "line": 161,
        "context": "        return i18n.t('broadcast.target.nonVip');\n      default:\n        return i18n.t('broadcast.target.unknown');\n    }\n  }"
      },
      {
        "file": "src/domain/broadcast.ts",
        "line": 175,
        "context": "      return '非 VIP 用戶'; // Fallback only, should use i18n.t('broadcast.target.nonVip')\n    default:\n      return '未知'; // Fallback only, should use i18n.t('broadcast.target.unknown')\n  }\n}"
      }
    ],
    "count": 2
  },
  {
    "key": "conversationHistory.historyNote",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 84,
        "context": "    content += messages.join('\\n') + '\\n\\n';\n    content += '━━━━━━━━━━━━━━━━\\n\\n';\n    content += i18n.t('conversationHistory.historyNote') + '\\n';\n    content += i18n.t('conversationHistory.totalMes"
      },
      {
        "file": "src/domain/conversation_history.ts",
        "line": 112,
        "context": "    : '';\n  const fallbackSeparator = `━━━━━━━━━━━━━━━━\\n\\n`; // Fallback only\n  const fallbackHistoryNote = `💡 這是對話的歷史記錄\\n`; // Fallback only, should use i18n.t('conversationHistory.historyNote')\n  "
      }
    ],
    "count": 2
  },
  {
    "key": "conversationHistory.vipUnlockAvatar",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 91,
        "context": "    // Add VIP upgrade hint for free users\n    if (isVip === false) {\n      content += '\\n' + i18n.t('conversationHistory.vipUnlockAvatar') + '\\n';\n      content += i18n.t('conversationHistory.vipLear"
      },
      {
        "file": "src/domain/conversation_history.ts",
        "line": 116,
        "context": "  const fallbackLastUpdated = `📅 最後更新：${formatDateTime(new Date())}\\n\\n`; // Fallback only, should use i18n.t('conversationHistory.lastUpdated')\n  const fallbackReplyHint = `💬 直接按 /reply 回覆訊息聊天\\n`; "
      }
    ],
    "count": 2
  },
  {
    "key": "conversationHistory.vipLearnMore",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 92,
        "context": "    if (isVip === false) {\n      content += '\\n' + i18n.t('conversationHistory.vipUnlockAvatar') + '\\n';\n      content += i18n.t('conversationHistory.vipLearnMore');\n    }\n"
      },
      {
        "file": "src/domain/conversation_history.ts",
        "line": 116,
        "context": "  const fallbackLastUpdated = `📅 最後更新：${formatDateTime(new Date())}\\n\\n`; // Fallback only, should use i18n.t('conversationHistory.lastUpdated')\n  const fallbackReplyHint = `💬 直接按 /reply 回覆訊息聊天\\n`; "
      }
    ],
    "count": 2
  },
  {
    "key": "tutorial.throwBottleDesc",
    "files": [
      {
        "file": "src/router.ts",
        "line": 352,
        "context": "        message.chat.id,\n        i18n.t('tutorial.clickButtonHint') + '\\n\\n' +\n          i18n.t('tutorial.throwBottleDesc') + '\\n' +\n          i18n.t('tutorial.catchBottleDesc') + '\\n' +\n          i18"
      },
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 128,
        "context": "    i18n.t('tutorial.throwBottle') +\n    '\\n' +\n    i18n.t('tutorial.throwBottleDesc') +\n    '\\n\\n' +\n    i18n.t('tutorial.catchBottle') +"
      }
    ],
    "count": 2
  },
  {
    "key": "tutorial.catchBottleDesc",
    "files": [
      {
        "file": "src/router.ts",
        "line": 353,
        "context": "        i18n.t('tutorial.clickButtonHint') + '\\n\\n' +\n          i18n.t('tutorial.throwBottleDesc') + '\\n' +\n          i18n.t('tutorial.catchBottleDesc') + '\\n' +\n          i18n.t('tutorial.completeTas"
      },
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 132,
        "context": "    i18n.t('tutorial.catchBottle') +\n    '\\n' +\n    i18n.t('tutorial.catchBottleDesc') +\n    '\\n\\n' +\n    i18n.t('tutorial.howToBecomeFriends') +"
      }
    ],
    "count": 2
  },
  {
    "key": "tutorial.completeTasksForBottles",
    "files": [
      {
        "file": "src/router.ts",
        "line": 354,
        "context": "          i18n.t('tutorial.throwBottleDesc') + '\\n' +\n          i18n.t('tutorial.catchBottleDesc') + '\\n' +\n          i18n.t('tutorial.completeTasksForBottles') + '\\n\\n' +\n          i18n.t('tutorial.a"
      },
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 152,
        "context": "  i18n: ReturnType<typeof createI18n>\n): Promise<void> {\n  const message = i18n.t('tutorial.readyToStart') + '\\n\\n' + i18n.t('tutorial.completeTasksForBottles');\n\n  await telegram.sendMessageWithButto"
      }
    ],
    "count": 2
  },
  {
    "key": "tutorial.availableCommands",
    "files": [
      {
        "file": "src/router.ts",
        "line": 355,
        "context": "          i18n.t('tutorial.catchBottleDesc') + '\\n' +\n          i18n.t('tutorial.completeTasksForBottles') + '\\n\\n' +\n          i18n.t('tutorial.availableCommands') + '：\\n' +\n          i18n.t('tutoria"
      },
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 217,
        "context": "    i18n.t('tutorial.skipped') +\n      '\\n\\n' +\n      i18n.t('tutorial.availableCommands') +\n      '\\n' +\n      i18n.t('tutorial.commandThrow') +"
      }
    ],
    "count": 2
  },
  {
    "key": "tutorial.commandThrow",
    "files": [
      {
        "file": "src/router.ts",
        "line": 356,
        "context": "          i18n.t('tutorial.completeTasksForBottles') + '\\n\\n' +\n          i18n.t('tutorial.availableCommands') + '：\\n' +\n          i18n.t('tutorial.commandThrow') + '\\n' +\n          i18n.t('tutorial.c"
      },
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 219,
        "context": "      i18n.t('tutorial.availableCommands') +\n      '\\n' +\n      i18n.t('tutorial.commandThrow') +\n      '\\n' +\n      i18n.t('tutorial.commandCatch') +"
      }
    ],
    "count": 2
  },
  {
    "key": "tutorial.commandCatch",
    "files": [
      {
        "file": "src/router.ts",
        "line": 357,
        "context": "          i18n.t('tutorial.availableCommands') + '：\\n' +\n          i18n.t('tutorial.commandThrow') + '\\n' +\n          i18n.t('tutorial.commandCatch') + '\\n' +\n          i18n.t('tutorial.commandTasks')"
      },
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 221,
        "context": "      i18n.t('tutorial.commandThrow') +\n      '\\n' +\n      i18n.t('tutorial.commandCatch') +\n      '\\n' +\n      i18n.t('tutorial.commandTasks') +"
      }
    ],
    "count": 2
  },
  {
    "key": "tutorial.commandTasks",
    "files": [
      {
        "file": "src/router.ts",
        "line": 358,
        "context": "          i18n.t('tutorial.commandThrow') + '\\n' +\n          i18n.t('tutorial.commandCatch') + '\\n' +\n          i18n.t('tutorial.commandTasks') + '\\n' +\n          i18n.t('tutorial.commandMenu')\n      "
      },
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 223,
        "context": "      i18n.t('tutorial.commandCatch') +\n      '\\n' +\n      i18n.t('tutorial.commandTasks') +\n      '\\n' +\n      i18n.t('tutorial.commandHelp')"
      }
    ],
    "count": 2
  },
  {
    "key": "common.unknownOption",
    "files": [
      {
        "file": "src/router.ts",
        "line": 1029,
        "context": "      const user = await findUserByTelegramId(db, callbackQuery.from.id.toString());\n      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      await telegram.answerCallbackQuery(callbackQue"
      },
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 239,
        "context": "\n      default:\n        await telegram.sendMessage(chatId, i18n.t('common.unknownOption'));\n    }\n  } catch (error) {"
      }
    ],
    "count": 2
  },
  {
    "key": "common.cancel",
    "files": [
      {
        "file": "src/router.ts",
        "line": 1619,
        "context": "      const { createI18n } = await import('./i18n');\n      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('common.cancel'));"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 779,
        "context": "              '\\n' +\n              `${urlCheck.blockedUrls?.map((url) => `• ${url}`).join('\\n')}\\n\\n` +\n              i18n.t('common.cancel'),\n            [[{ text: i18n.t('errors.error.cancel6'), cal"
      }
    ],
    "count": 2
  },
  {
    "key": "vip.viewVipCommand",
    "files": [
      {
        "file": "src/router.ts",
        "line": 1622,
        "context": "      await telegram.sendMessage(\n        callbackQuery.message!.chat.id,\n        i18n.t('vip.purchaseCancelled') + '\\n\\n' + i18n.t('vip.viewVipCommand')\n      );\n      return;"
      },
      {
        "file": "src/router.ts",
        "line": 1654,
        "context": "      await telegram.sendMessage(\n        callbackQuery.message!.chat.id,\n        i18n.t('vip.reminderCancelled') + '\\n\\n' + i18n.t('vip.viewVipCommand')\n      );\n      return;"
      }
    ],
    "count": 2
  },
  {
    "key": "vip.reminderCancelled",
    "files": [
      {
        "file": "src/router.ts",
        "line": 1651,
        "context": "      const user = await findUserByTelegramId(db, callbackQuery.from.id.toString());\n      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      await telegram.answerCallbackQuery(callbackQue"
      },
      {
        "file": "src/router.ts",
        "line": 1654,
        "context": "      await telegram.sendMessage(\n        callbackQuery.message!.chat.id,\n        i18n.t('vip.reminderCancelled') + '\\n\\n' + i18n.t('vip.viewVipCommand')\n      );\n      return;"
      }
    ],
    "count": 2
  },
  {
    "key": "broadcast.upgradeRequired",
    "files": [
      {
        "file": "src/services/broadcast.ts",
        "line": 43,
        "context": "    throw new Error(\n      i18n.t('broadcast.maxUsersExceeded', { max: MAX_SAFE_USERS, current: userIds.length }) + '\\n\\n' +\n        i18n.t('broadcast.upgradeRequired')\n    );\n  }"
      },
      {
        "file": "src/services/broadcast.ts",
        "line": 106,
        "context": "    throw new Error(\n      i18n.t('broadcast.maxUsersExceeded', { max: MAX_SAFE_USERS, current: userIds.length }) + '\\n\\n' +\n        i18n.t('broadcast.upgradeRequired')\n    );\n  }"
      }
    ],
    "count": 2
  },
  {
    "key": "errors.channelConfigError",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 116,
        "context": "    const user = await findUserByTelegramId(db, callbackQuery.from.id.toString());\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id,"
      },
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 195,
        "context": "        const user = await findUserByTelegramId(db, userId);\n        const i18n = createI18n(user?.language_pref || 'zh-TW');\n        await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('error"
      }
    ],
    "count": 2
  },
  {
    "key": "channelMembership.rewardGranted",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 143,
        "context": "    const user = await findUserByTelegramId(db, userId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('channelMembership"
      },
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 225,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('channelMembership.rewardGranted'));\n\n    await telegram.sendMessage("
      }
    ],
    "count": 2
  },
  {
    "key": "channelMembership.viewMoreTasks",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 152,
        "context": "        i18n.t('channelMembership.taskCompleted') + '\\n\\n' +\n          i18n.t('channelMembership.rewardAdded') + '\\n\\n' +\n          i18n.t('channelMembership.viewMoreTasks')\n      );\n    } else {"
      },
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 159,
        "context": "        i18n.t('channelMembership.taskCompleted') + '\\n\\n' +\n          i18n.t('channelMembership.rewardAdded') + '\\n\\n' +\n          i18n.t('channelMembership.viewMoreTasks')\n      );\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "conversationHistory.replyButton",
    "files": [
      {
        "file": "src/services/conversation_history.ts",
        "line": 115,
        "context": "    // Build buttons\n    const buttons = [\n      [{ text: i18n.t('conversationHistory.replyButton'), callback_data: `conv_reply_${identifier}` }],\n      [{ text: i18n.t('conversationHistory.viewAllCon"
      },
      {
        "file": "src/services/conversation_history.ts",
        "line": 496,
        "context": "    // Build buttons based on VIP status\n    const buttons = [\n      [{ text: i18n.t('conversationHistory.replyButton'), callback_data: `conv_reply_${identifier}` }],\n      [{ text: i18n.t('conversati"
      }
    ],
    "count": 2
  },
  {
    "key": "maintenance.completed",
    "files": [
      {
        "file": "src/services/maintenance.ts",
        "line": 66,
        "context": "    const i18n = createI18n('zh-TW'); // Default to Chinese for system messages\n    const recoveryMessage =\n      i18n.t('maintenance.completed') + '\\n\\n' +\n      i18n.t('maintenance.serviceRestored')"
      },
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 145,
        "context": "    // Broadcast recovery notification\n    const recoveryMessage =\n      i18n.t('maintenance.completed') + '\\n\\n' +\n      i18n.t('maintenance.serviceRestored') + '\\n\\n' +\n      i18n.t('maintenance.all"
      }
    ],
    "count": 2
  },
  {
    "key": "maintenance.serviceRestored",
    "files": [
      {
        "file": "src/services/maintenance.ts",
        "line": 67,
        "context": "    const recoveryMessage =\n      i18n.t('maintenance.completed') + '\\n\\n' +\n      i18n.t('maintenance.serviceRestored') + '\\n\\n' +\n      i18n.t('maintenance.allFeaturesAvailable');\n"
      },
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 146,
        "context": "    const recoveryMessage =\n      i18n.t('maintenance.completed') + '\\n\\n' +\n      i18n.t('maintenance.serviceRestored') + '\\n\\n' +\n      i18n.t('maintenance.allFeaturesAvailable');\n"
      }
    ],
    "count": 2
  },
  {
    "key": "maintenance.allFeaturesAvailable",
    "files": [
      {
        "file": "src/services/maintenance.ts",
        "line": 68,
        "context": "      i18n.t('maintenance.completed') + '\\n\\n' +\n      i18n.t('maintenance.serviceRestored') + '\\n\\n' +\n      i18n.t('maintenance.allFeaturesAvailable');\n\n    // Use system as the sender"
      },
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 147,
        "context": "      i18n.t('maintenance.completed') + '\\n\\n' +\n      i18n.t('maintenance.serviceRestored') + '\\n\\n' +\n      i18n.t('maintenance.allFeaturesAvailable');\n\n    await createBroadcast(env, recoveryMessag"
      }
    ],
    "count": 2
  },
  {
    "key": "common.anonymous",
    "files": [
      {
        "file": "src/services/refresh_conversation_history.ts",
        "line": 113,
        "context": "        const partnerInfo = {\n          maskedNickname: formatNicknameWithFlag(\n            maskNickname(partner.nickname || partner.username || i18n.t('common.anonymous')),\n            partner.countr"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 83,
        "context": "    }\n\n    const nickname = maskNickname(otherUser.nickname || otherUser.username || i18n.t('common.anonymous'));\n    const languageLabel = otherUser.language_pref || i18n.t('common.notSet');\n    cons"
      }
    ],
    "count": 2
  },
  {
    "key": "subscription.expired",
    "files": [
      {
        "file": "src/services/subscription_checker.ts",
        "line": 92,
        "context": "        await telegram.sendMessage(\n          parseInt(user.telegram_id),\n          i18n.t('subscription.expired') + '\\n\\n' +\n            i18n.t('subscription.expiredDate', { date: new Date(user.vip_e"
      },
      {
        "file": "src/services/vip_subscription.ts",
        "line": 201,
        "context": "        await telegram.sendMessage(\n          parseInt(sub.user_id),\n          i18n.t('subscription.expired') + '\\n\\n' +\n            i18n.t('subscription.expiredDate', { date: new Date(sub.expire_date"
      }
    ],
    "count": 2
  },
  {
    "key": "subscription.downgradedToFree",
    "files": [
      {
        "file": "src/services/subscription_checker.ts",
        "line": 94,
        "context": "          i18n.t('subscription.expired') + '\\n\\n' +\n            i18n.t('subscription.expiredDate', { date: new Date(user.vip_expire_at).toLocaleDateString(userForI18n?.language_pref || 'zh-TW') }) + '"
      },
      {
        "file": "src/services/vip_subscription.ts",
        "line": 203,
        "context": "          i18n.t('subscription.expired') + '\\n\\n' +\n            i18n.t('subscription.expiredDate', { date: new Date(sub.expire_date).toLocaleDateString(user?.language_pref || 'zh-TW') }) + '\\n\\n' +\n  "
      }
    ],
    "count": 2
  },
  {
    "key": "subscription.renewVipHint",
    "files": [
      {
        "file": "src/services/subscription_checker.ts",
        "line": 95,
        "context": "            i18n.t('subscription.expiredDate', { date: new Date(user.vip_expire_at).toLocaleDateString(userForI18n?.language_pref || 'zh-TW') }) + '\\n\\n' +\n            i18n.t('subscription.downgradedT"
      },
      {
        "file": "src/services/vip_subscription.ts",
        "line": 204,
        "context": "            i18n.t('subscription.expiredDate', { date: new Date(sub.expire_date).toLocaleDateString(user?.language_pref || 'zh-TW') }) + '\\n\\n' +\n            i18n.t('subscription.downgradedToFree') + "
      }
    ],
    "count": 2
  },
  {
    "key": "subscription.thankYou",
    "files": [
      {
        "file": "src/services/subscription_checker.ts",
        "line": 96,
        "context": "            i18n.t('subscription.downgradedToFree') + '\\n\\n' +\n            i18n.t('subscription.renewVipHint') + '\\n\\n' +\n            i18n.t('subscription.thankYou')\n        );\n"
      },
      {
        "file": "src/services/vip_subscription.ts",
        "line": 205,
        "context": "            i18n.t('subscription.downgradedToFree') + '\\n\\n' +\n            i18n.t('subscription.renewVipHint') + '\\n\\n' +\n            i18n.t('subscription.thankYou')\n        );\n"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.adConfig.enabled",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 56,
        "context": "\n    for (const provider of providers) {\n      const status = provider.is_enabled ? i18n.t('admin.adConfig.enabled') : i18n.t('admin.adConfig.disabled');\n      const config = JSON.parse(provider.confi"
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 246,
        "context": "\n    for (const ad of ads) {\n      const status = ad.is_enabled ? i18n.t('admin.adConfig.enabled') : i18n.t('admin.adConfig.disabled');\n      const typeEmoji =\n        {"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.adConfig.disabled",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 56,
        "context": "\n    for (const provider of providers) {\n      const status = provider.is_enabled ? i18n.t('admin.adConfig.enabled') : i18n.t('admin.adConfig.disabled');\n      const config = JSON.parse(provider.confi"
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 246,
        "context": "\n    for (const ad of ads) {\n      const status = ad.is_enabled ? i18n.t('admin.adConfig.enabled') : i18n.t('admin.adConfig.disabled');\n      const typeEmoji =\n        {"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.adConfig.managementCommands",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 73,
        "context": "\n    message_text += '━━━━━━━━━━━━━━━━\\n';\n    message_text += i18n.t('admin.adConfig.managementCommands') + '\\n';\n    message_text += i18n.t('admin.adConfig.enableCommand') + '\\n';\n    message_text +"
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 266,
        "context": "\n    message_text += '━━━━━━━━━━━━━━━━\\n';\n    message_text += i18n.t('admin.adConfig.managementCommands') + '\\n';\n    message_text += i18n.t('admin.adConfig.enableOfficialAdCommand') + '\\n';\n    mess"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.adConfig.adIdMustBeNumber",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 303,
        "context": "    const adId = parseInt(parts[1]);\n    if (isNaN(adId)) {\n      await telegram.sendMessage(chatId, i18n.t('admin.adConfig.adIdMustBeNumber'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 345,
        "context": "    const adId = parseInt(parts[1]);\n    if (isNaN(adId)) {\n      await telegram.sendMessage(chatId, i18n.t('admin.adConfig.adIdMustBeNumber'));\n      return;\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.adConfig.viewAllOfficialAds",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 312,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.adConfig.officialAdEnabled', { id: adId }) + '\\n\\n' + i18n.t('admin.adConfig.viewAllOfficialAds')\n    );\n  } catch (error) {"
      },
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 354,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.adConfig.officialAdDisabled', { id: adId }) + '\\n\\n' + i18n.t('admin.adConfig.viewAllOfficialAds')\n    );\n  } catch (error) {"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.ban.reason",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 130,
        "context": "    `\n      )\n      .bind(targetUserId, i18n.t('admin.ban.reason'), telegramId, bannedUntil)\n      .run();\n"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 146,
        "context": "    `\n      )\n      .bind(i18n.t('admin.ban.reason'), bannedUntil, targetUserId)\n      .run();\n"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.admin",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 380,
        "context": "          i18n.t('admin.adConfig.example') + '\\n' +\n          i18n.t('admin.addExample') +\n          i18n.t('admin.admin')\n      );\n      return;"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 450,
        "context": "          i18n.t('admin.adConfig.example') + '\\n' +\n          i18n.t('admin.removeExample') +\n          i18n.t('admin.admin')\n      );\n      return;"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.operationFailed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 417,
        "context": "  } catch (error) {\n    console.error('[handleAdminAdd] Error:', error);\n    await telegram.sendMessage(chatId, i18n.t('admin.operationFailed'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 485,
        "context": "  } catch (error) {\n    console.error('[handleAdminRemove] Error:', error);\n    await telegram.sendMessage(chatId, i18n.t('admin.operationFailed'));\n  }\n}"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.noPermission",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 503,
        "context": "  \n  if (!isAdmin(telegramId, env)) {\n    await telegram.sendMessage(chatId, i18n.t('admin.noPermission'));\n    return;\n  }"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 657,
        "context": "  \n  if (!isAdmin(telegramId, env)) {\n    await telegram.sendMessage(chatId, i18n.t('admin.noPermission'));\n    return;\n  }"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.ban.provideAppealId",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 742,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.ban.provideAppealId') + i18n.t('admin.ban.usageApprove')\n    );\n    return;"
      },
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 831,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.ban.provideAppealId') + i18n.t('admin.ban.usageReject')\n    );\n    return;"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.refresh.stats",
    "files": [
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 44,
        "context": "        chatId,\n        i18n.t('admin.refresh.noRefreshNeeded') + '\\n\\n' +\n          i18n.t('admin.refresh.stats') + '\\n' +\n          i18n.t('admin.refresh.totalVipUsers', { count: stats.totalVipUsers"
      },
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 60,
        "context": "      chatId,\n      i18n.t('admin.refresh.startingBatchRefresh') + '\\n\\n' +\n        i18n.t('admin.refresh.stats') + '\\n' +\n        i18n.t('admin.refresh.totalVipUsers', { count: stats.totalVipUsers })"
      }
    ],
    "count": 2
  },
  {
    "key": "admin.refresh.failed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 108,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.refresh.failed') + '\\n\\n' +\n        i18n.t('admin.refresh.errorOccurred') + '\\n\\n' +\n        i18n.t('admin.refresh.error', { error: er"
      },
      {
        "file": "src/telegram/handlers/admin_test_refresh.ts",
        "line": 55,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.refresh.failed') + '\\n\\n' + i18n.t('admin.refresh.error', { error: error instanceof Error ? error.message : String(error) })\n    );\n  "
      }
    ],
    "count": 2
  },
  {
    "key": "appeal.statusPending",
    "files": [
      {
        "file": "src/telegram/handlers/appeal.ts",
        "line": 68,
        "context": "      i18n.t('appeal.alreadyExists', {\n        appealId: existingAppeal.id.toString(),\n        status: i18n.t('appeal.statusPending'),\n        time: createdAt,\n      })"
      },
      {
        "file": "src/telegram/handlers/appeal.ts",
        "line": 203,
        "context": "  let statusText = '';\n  if (appeal.status === 'pending') {\n    statusText = i18n.t('appeal.statusPending');\n  } else if (appeal.status === 'approved') {\n    statusText = i18n.t('appeal.statusApproved"
      }
    ],
    "count": 2
  },
  {
    "key": "errors.completeOnboarding",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 33,
        "context": "    // Check if user completed onboarding\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('errors.completeOnboarding'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 41,
        "context": "    // Check if user completed onboarding\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('errors.completeOnboarding'));\n      return;\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "broadcast.createFailedShort",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 152,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('broadcast.createFailedShort'));"
      },
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 216,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('broadcast.createFailedShort'));"
      }
    ],
    "count": 2
  },
  {
    "key": "broadcast.idMustBeNumber",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 327,
        "context": "      const user = await findUserByTelegramId(db, telegramId);\n      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('broadcast.idMustBeNumber'"
      },
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 426,
        "context": "    const broadcastId = parseInt(parts[1]);\n    if (isNaN(broadcastId)) {\n      await telegram.sendMessage(chatId, i18n.t('broadcast.idMustBeNumber'));\n      return;\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "broadcast.broadcastNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 337,
        "context": "    \n    if (!broadcast) {\n      await telegram.sendMessage(chatId, i18n.t('broadcast.broadcastNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 434,
        "context": "    if (!broadcast) {\n      console.error('[handleBroadcastStatus] Broadcast not found');\n      await telegram.sendMessage(chatId, i18n.t('broadcast.broadcastNotFound'));\n      return;\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "catch.short3",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 189,
        "context": "    const { maskNickname } = await import('~/domain/invite');\n    const ownerMaskedNickname = maskNickname(\n      bottleOwner?.nickname || bottleOwner?.username || i18n.t('catch.short3')\n    );\n"
      },
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 275,
        "context": "    };\n\n    const catcherNickname = user.nickname || user.username || i18n.t('catch.short3');\n    const { formatNicknameWithFlag } = await import('~/utils/country_flag');\n    const catcherPartnerInfo "
      }
    ],
    "count": 2
  },
  {
    "key": "catch.translationServiceUnavailable",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 375,
        "context": "\n        if (result.error && result.text === bottle.content) {\n          translationSection += i18n.t('catch.translationServiceUnavailable') + '\\n';\n        }\n      } catch (error) {"
      },
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 384,
        "context": "          i18n.t('catch.originalLanguage', { language: bottleLangDisplay }) + '\\n' +\n          i18n.t('catch.translatedLanguage', { language: catcherLangDisplay }) + '\\n' +\n          i18n.t('catch.tra"
      }
    ],
    "count": 2
  },
  {
    "key": "catch.replyButton",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 478,
        "context": "      if (conversationIdentifier) {\n        buttons.push([\n          { text: i18n.t('catch.replyButton'), callback_data: `conv_reply_${conversationIdentifier}` },\n        ]);\n      }"
      },
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 496,
        "context": "      if (conversationIdentifier) {\n        await telegram.sendMessageWithButtons(chatId, catchMessage, [\n          [{ text: i18n.t('catch.replyButton'), callback_data: `conv_reply_${conversationIdent"
      }
    ],
    "count": 2
  },
  {
    "key": "conversation.short2",
    "files": [
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 69,
        "context": "      // Get partner info\n      const partner = await findUserByTelegramId(db, partnerTelegramId);\n      const partnerNickname = partner ? maskNickname(partner.nickname || partner.username || '') : i1"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 587,
        "context": "          // 獲取擾碼暱稱\n          const { maskNickname } = await import('~/domain/invite');\n          const ownerMaskedNickname = maskNickname(user.nickname || user.username || i18n.t('conversation.short2"
      }
    ],
    "count": 2
  },
  {
    "key": "conversation.separator",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 98,
        "context": "    // Build anonymous profile card\n    let profileMessage = i18n.t('conversation.profileCardTitle') + '\\n\\n';\n    profileMessage += i18n.t('conversation.separator') + '\\n';\n    profileMessage += i18n"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 119,
        "context": "    }\n\n    profileMessage += i18n.t('conversation.separator') + '\\n\\n';\n    profileMessage += i18n.t('conversation.anonymousCardHint') + '\\n\\n';\n"
      }
    ],
    "count": 2
  },
  {
    "key": "conversation.cancelButton",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 218,
        "context": "        [\n          { text: i18n.t('conversation.blockConfirmButton'), callback_data: `conv_block_confirm_${conversationId}` },\n          { text: i18n.t('conversation.cancelButton'), callback_data: 'c"
      },
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 258,
        "context": "        [\n          { text: i18n.t('conversation.reportConfirmButton'), callback_data: `conv_report_confirm_${conversationId}` },\n          { text: i18n.t('conversation.cancelButton'), callback_data: "
      }
    ],
    "count": 2
  },
  {
    "key": "dev.stagingOnly",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 298,
        "context": "      i18n.t('dev.inviteActivated', { count: inviteStats?.activated || 0 }) +\n      i18n.t('dev.invitePending', { count: inviteStats?.pending || 0 }) +\n      i18n.t('dev.stagingOnly');\n\n    await tele"
      },
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 596,
        "context": "        i18n.t('dev.catchCommand') +\n        i18n.t('dev.statsCommand') +\n        i18n.t('dev.stagingOnly')\n    );\n  } catch (error) {"
      }
    ],
    "count": 2
  },
  {
    "key": "draft.notFound",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 33,
        "context": "    const draft = await getDraft(db, telegramId);\n    if (!draft) {\n      await telegram.sendMessage(chatId, i18n.t('draft.notFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 205,
        "context": "    const draft = await getDraft(db, telegramId);\n    if (!draft) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('draft.notFound'));\n      return;\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "buttons.targetAdvanced",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 99,
        "context": "        ],\n        [{ text: i18n.t('buttons.targetAny'), callback_data: 'throw_target_any' }],\n        [{ text: i18n.t('buttons.targetAdvanced'), callback_data: 'throw_advanced' }],\n      ]);\n    } el"
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 159,
        "context": "        ],\n        [{ text: i18n.t('buttons.targetAny'), callback_data: 'throw_target_any' }],\n        [{ text: i18n.t('buttons.targetAdvanced'), callback_data: 'throw_advanced' }],\n      ]);\n    } el"
      }
    ],
    "count": 2
  },
  {
    "key": "draft.targetGender",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 105,
        "context": "        chatId,\n        i18n.t('draft.throwBottle') + '\\n\\n' +\n          i18n.t('draft.targetGender') +\n          i18n.t('draft.targetGenderHint'),\n        ["
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 165,
        "context": "        chatId,\n        i18n.t('draft.throwBottle') + '\\n\\n' +\n          i18n.t('draft.targetGender') +\n          i18n.t('draft.targetGenderHint'),\n        ["
      }
    ],
    "count": 2
  },
  {
    "key": "draft.targetGenderHint",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 106,
        "context": "        i18n.t('draft.throwBottle') + '\\n\\n' +\n          i18n.t('draft.targetGender') +\n          i18n.t('draft.targetGenderHint'),\n        [\n          ["
      },
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 166,
        "context": "        i18n.t('draft.throwBottle') + '\\n\\n' +\n          i18n.t('draft.targetGender') +\n          i18n.t('draft.targetGenderHint'),\n        [\n          ["
      }
    ],
    "count": 2
  },
  {
    "key": "warnings.register2",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 37,
        "context": "\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('warnings.register2'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 58,
        "context": "    // Check if user completed onboarding\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('warnings.register2'));\n      return;\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "common.short55",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 52,
        "context": "          : i18n.t('common.short2')\n      : user.gender === 'male'\n        ? i18n.t('common.short55')\n        : i18n.t('common.short56');\n"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 152,
        "context": "          : i18n.t('common.short2')\n      : user.gender === 'male'\n        ? i18n.t('common.short55')\n        : i18n.t('common.short56');\n"
      }
    ],
    "count": 2
  },
  {
    "key": "common.short56",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 53,
        "context": "      : user.gender === 'male'\n        ? i18n.t('common.short55')\n        : i18n.t('common.short56');\n\n    // Get blood type display"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 153,
        "context": "      : user.gender === 'male'\n        ? i18n.t('common.short55')\n        : i18n.t('common.short56');\n\n    // Get blood type display"
      }
    ],
    "count": 2
  },
  {
    "key": "common.profile2",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 64,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('common.profile2') +\n        '\\n\\n' +\n        i18n.t('common.text95') +"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 164,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('common.profile2') +\n        '\\n\\n' +\n        i18n.t('common.text95') +"
      }
    ],
    "count": 2
  },
  {
    "key": "common.text95",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 66,
        "context": "      i18n.t('common.profile2') +\n        '\\n\\n' +\n        i18n.t('common.text95') +\n        '\\n\\n' +\n        i18n.t('common.nickname3', { updatedUser: { nickname: user.nickname } }) +"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 166,
        "context": "      i18n.t('common.profile2') +\n        '\\n\\n' +\n        i18n.t('common.text95') +\n        '\\n\\n' +\n        i18n.t('common.nickname3', { updatedUser: { nickname: user.nickname } }) +"
      }
    ],
    "count": 2
  },
  {
    "key": "common.nickname12",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 89,
        "context": "      [\n        [\n          { text: i18n.t('common.nickname12'), callback_data: 'edit_nickname' },\n          { text: i18n.t('common.short30'), callback_data: 'edit_bio' },\n        ],"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 189,
        "context": "      [\n        [\n          { text: i18n.t('common.nickname12'), callback_data: 'edit_nickname' },\n          { text: i18n.t('common.short30'), callback_data: 'edit_bio' },\n        ],"
      }
    ],
    "count": 2
  },
  {
    "key": "common.short30",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 90,
        "context": "        [\n          { text: i18n.t('common.nickname12'), callback_data: 'edit_nickname' },\n          { text: i18n.t('common.short30'), callback_data: 'edit_bio' },\n        ],\n        ["
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 190,
        "context": "        [\n          { text: i18n.t('common.nickname12'), callback_data: 'edit_nickname' },\n          { text: i18n.t('common.short30'), callback_data: 'edit_bio' },\n        ],\n        ["
      }
    ],
    "count": 2
  },
  {
    "key": "common.short31",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 93,
        "context": "        ],\n        [\n          { text: i18n.t('common.short31'), callback_data: 'edit_region' },\n          { text: i18n.t('common.short20'), callback_data: 'edit_interests' },\n        ],"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 193,
        "context": "        ],\n        [\n          { text: i18n.t('common.short31'), callback_data: 'edit_region' },\n          { text: i18n.t('common.short20'), callback_data: 'edit_interests' },\n        ],"
      }
    ],
    "count": 2
  },
  {
    "key": "common.short20",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 94,
        "context": "        [\n          { text: i18n.t('common.short31'), callback_data: 'edit_region' },\n          { text: i18n.t('common.short20'), callback_data: 'edit_interests' },\n        ],\n        ["
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 194,
        "context": "        [\n          { text: i18n.t('common.short31'), callback_data: 'edit_region' },\n          { text: i18n.t('common.short20'), callback_data: 'edit_interests' },\n        ],\n        ["
      }
    ],
    "count": 2
  },
  {
    "key": "common.bloodType4",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 98,
        "context": "        [\n          { text: i18n.t('common.short32'), callback_data: 'edit_match_pref' },\n          { text: i18n.t('common.bloodType4'), callback_data: 'edit_blood_type' },\n        ],\n        [{ text:"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 198,
        "context": "        [\n          { text: i18n.t('common.short32'), callback_data: 'edit_match_pref' },\n          { text: i18n.t('common.bloodType4'), callback_data: 'edit_blood_type' },\n        ],\n        [{ text:"
      }
    ],
    "count": 2
  },
  {
    "key": "common.nickname",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 247,
        "context": "        i18n.t('common.text79') +\n        '\\n' +\n        i18n.t('common.nickname') +\n        '\\n' +\n        i18n.t('common.ad6') +"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 661,
        "context": "            i18n.t('errors.error.nickname2') +\n              '\\n\\n' +\n              i18n.t('common.nickname') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),"
      }
    ],
    "count": 2
  },
  {
    "key": "common.bottle16",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 380,
        "context": "        i18n.t('common.text27') +\n        '\\n' +\n        i18n.t('common.bottle16'),\n      [\n        ["
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 428,
        "context": "      i18n.t('success.text3', { prefText }) +\n        '\\n\\n' +\n        i18n.t('common.bottle16'),\n      [\n        [{ text: i18n.t('common.short3'), callback_data: 'edit_profile_callback' }],"
      }
    ],
    "count": 2
  },
  {
    "key": "common.bloodType3",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 515,
        "context": "        i18n.t('common.vip8') +\n        '\\n\\n' +\n        i18n.t('common.bloodType3'),\n      [\n        ["
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 255,
        "context": "        i18n.t('common.vip') +\n        '\\n\\n' +\n        i18n.t('common.bloodType3'),\n      [\n        ["
      }
    ],
    "count": 2
  },
  {
    "key": "errors.error.cancel5",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 854,
        "context": "          await telegram.sendMessageWithButtons(\n            chatId,\n            i18n.t('errors.error.cancel5') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),"
      },
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 865,
        "context": "          await telegram.sendMessageWithButtons(\n            chatId,\n            i18n.t('errors.error.cancel5') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),"
      }
    ],
    "count": 2
  },
  {
    "key": "help.text32",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 83,
        "context": "        i18n.t('help.broadcast3') +\n        i18n.t('help.cancel') +\n        i18n.t('help.text32') +\n        i18n.t('help.text');\n    }"
      },
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 110,
        "context": "        i18n.t('help.ad2') +\n        i18n.t('help.vip3') +\n        i18n.t('help.text32') +\n        i18n.t('help.text') +\n        i18n.t('help.message') +"
      }
    ],
    "count": 2
  },
  {
    "key": "help.text",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 84,
        "context": "        i18n.t('help.cancel') +\n        i18n.t('help.text32') +\n        i18n.t('help.text');\n    }\n"
      },
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 111,
        "context": "        i18n.t('help.vip3') +\n        i18n.t('help.text32') +\n        i18n.t('help.text') +\n        i18n.t('help.message') +\n        i18n.t('help.message6') +"
      }
    ],
    "count": 2
  },
  {
    "key": "history.noMessages",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 89,
        "context": "      ? conv.last_message_preview.substring(0, 30) +\n        (conv.last_message_preview.length > 30 ? '...' : '')\n      : i18n.t('history.noMessages');\n\n    message += i18n.t('history.conversationTitl"
      },
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 154,
        "context": "\n  if (messages.length === 0) {\n    message += i18n.t('history.noMessages');\n  } else {\n    for (const msg of messages) {"
      }
    ],
    "count": 2
  },
  {
    "key": "history.returnToMenu",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 100,
        "context": "\n  message += i18n.t('history.viewFull', { identifier: formatIdentifier(conversations[0].identifier) });\n  message += i18n.t('history.returnToMenu');\n\n  await telegram.sendMessage(chatId, message);"
      },
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 166,
        "context": "\n  message += i18n.t('history.continueConversation');\n  message += i18n.t('history.returnToMenu');\n\n  await telegram.sendMessageWithButtons(chatId, message, ["
      }
    ],
    "count": 2
  },
  {
    "key": "history.justNow",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 188,
        "context": "  if (i18n) {\n    if (diffMins < 1) {\n      return i18n.t('history.justNow');\n    } else if (diffMins < 60) {\n      return i18n.t('history.minutesAgo', { minutes: diffMins });"
      },
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 200,
        "context": "  // Fallback to locale-aware formatting (should rarely be used as i18n should always be provided)\n  if (diffMins < 1) {\n    return locale === 'zh-TW' ? '剛剛' : 'just now'; // Fallback only, should use"
      }
    ],
    "count": 2
  },
  {
    "key": "warnings.warning.short4",
    "files": [
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 171,
        "context": "    const nicknameMessage =\n      i18n.t('common.nickname7') +\n      i18n.t('warnings.warning.short4') +\n      i18n.t('common.nickname5') +\n      i18n.t('common.text79') +"
      },
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 193,
        "context": "    const nicknameMessage =\n      i18n.t('common.nickname8') +\n      i18n.t('warnings.warning.short4') +\n      i18n.t('common.nickname5') +\n      i18n.t('common.text79') +"
      }
    ],
    "count": 2
  },
  {
    "key": "common.mbti10",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 44,
        "context": "      const sourceText =\n        user.mbti_source === 'manual'\n          ? i18n.t('common.mbti10').replace('✍️ 手動輸入 MBTI', '手動輸入')\n          : user.mbti_source === 'test'\n            ? i18n.t('common."
      },
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 69,
        "context": "    await telegram.sendMessageWithButtons(chatId, statusMessage, [\n      [{ text: i18n.t('common.mbti9'), callback_data: 'mbti_menu_test' }],\n      [{ text: i18n.t('common.mbti10'), callback_data: 'mb"
      }
    ],
    "count": 2
  },
  {
    "key": "common.short106",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 46,
        "context": "          ? i18n.t('common.mbti10').replace('✍️ 手動輸入 MBTI', '手動輸入')\n          : user.mbti_source === 'test'\n            ? i18n.t('common.short106')\n            : i18n.t('catch.unknown');\n"
      },
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 46,
        "context": "  /const mbtiSource =\\s+user\\.mbti_source === 'manual' \\? '手動輸入' : user\\.mbti_source === 'test' \\? '測驗結果' : '';/g,\n  `const mbtiSource =\n      user.mbti_source === 'manual' ? i18n.t('common.mbti7') : "
      }
    ],
    "count": 2
  },
  {
    "key": "common.mbti8",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 221,
        "context": "\n    // Show 16 MBTI type buttons\n    await telegram.sendMessageWithButtons(chatId, i18n.t('common.mbti8'), [\n      [\n        { text: 'INTJ', callback_data: 'mbti_set_INTJ' },"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 423,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('common.mbti8') +\n        '\\n\\n' +\n        i18n.t('common.settings4'),"
      }
    ],
    "count": 2
  },
  {
    "key": "common.settings9",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 290,
        "context": "      i18n.t('success.mbti2') +\n        '\\n\\n' +\n        i18n.t('common.settings9')\n    );\n  } catch (error) {"
      },
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 371,
        "context": "        '\\n\\n' +\n        `${description?.zh_TW || ''}\\n\\n` +\n        i18n.t('common.settings9')\n    );\n  } catch (error) {"
      }
    ],
    "count": 2
  },
  {
    "key": "errors.error.mbti",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 341,
        "context": "    const validation = validateMBTI(mbtiType);\n    if (!validation.valid) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.error.mbti'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 636,
        "context": "    const validation = validateMBTI(mbtiType);\n    if (!validation.valid) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.error.mbti'));\n      return;\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "warning.userNotFound2",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 110,
        "context": "    \n    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warning.userNotFound2'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 141,
        "context": "    \n    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warning.userNotFound2'));\n      return;\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "menu.notSet",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 63,
        "context": "      `${i18n.t('menu.yourStatus')}\\n` +\n      `• ${isVip ? i18n.t('menu.levelVip') : i18n.t('menu.levelFree')}\\n` +\n      `${i18n.t('menu.mbtiLabel', { mbti: user.mbti_result || i18n.t('menu.notSet')"
      },
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 64,
        "context": "      `• ${isVip ? i18n.t('menu.levelVip') : i18n.t('menu.levelFree')}\\n` +\n      `${i18n.t('menu.mbtiLabel', { mbti: user.mbti_result || i18n.t('menu.notSet') })}\\n` +\n      `${i18n.t('menu.zodiacLab"
      }
    ],
    "count": 2
  },
  {
    "key": "menu.invite3",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 202,
        "context": "            i18n.t('menu.stats'),\n          [\n            [{ text: i18n.t('menu.invite3'), url: shareUrl }],\n            [{ text: i18n.t('menu.stats2'), callback_data: 'menu_profile' }],\n            ["
      },
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 116,
        "context": "content = content.replace(\n  /\\[\\{ text: '📤 分享邀請碼', url: shareUrl \\}\\]/g,\n  `[{ text: i18n.t('menu.invite3'), url: shareUrl }]`\n);\n"
      }
    ],
    "count": 2
  },
  {
    "key": "error.text6",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 243,
        "context": "  } catch (error) {\n    console.error('[handleMenuCallback] Error:', error);\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('error.text6'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 118,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('error.text6'));\n  }\n}"
      }
    ],
    "count": 2
  },
  {
    "key": "warning.conversation4",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 92,
        "context": "\n      if (!identifierInfo) {\n        await telegram.sendMessage(chatId, i18n.t('warning.conversation4'));\n        return true; // Handled, stop processing\n      }"
      },
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 116,
        "context": "\n      if (!conversation) {\n        await telegram.sendMessage(chatId, i18n.t('warning.conversation4'));\n        return true; // Handled, stop processing\n      }"
      }
    ],
    "count": 2
  },
  {
    "key": "officialAd.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 73,
        "context": "    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('officialAd.userNotFound'),\n        show_alert: true,\n      });"
      },
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 221,
        "context": "    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('officialAd.userNotFound'),\n        show_alert: true,\n      });"
      }
    ],
    "count": 2
  },
  {
    "key": "officialAd.allAdsViewed",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 90,
        "context": "    if (availableAds.length === 0) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('officialAd.allAdsViewed'),\n        show_alert: true,\n      });"
      },
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 280,
        "context": "• 永久額度：+${ad.reward_quota}\n\n${availableAds.length > 0 ? i18n.t('officialAd.moreAdsAvailable') : i18n.t('officialAd.allAdsViewed')}\n    `.trim();\n"
      }
    ],
    "count": 2
  },
  {
    "key": "officialAd.adNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 231,
        "context": "    if (!ad) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('officialAd.adNotFound'),\n        show_alert: true,\n      });"
      },
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 343,
        "context": "    if (!ad) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('officialAd.adNotFound'),\n        show_alert: true,\n      });"
      }
    ],
    "count": 2
  },
  {
    "key": "officialAd.unlimited",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 277,
        "context": "\n📊 **你的額度：**\n• 基礎額度：${user.is_vip ? i18n.t('officialAd.unlimited') : '10'}/天\n• 永久額度：+${ad.reward_quota}\n"
      },
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 405,
        "context": "\n📊 **你的額度：**\n• 基礎額度：${user.is_vip ? i18n.t('officialAd.unlimited') : '10'}/天\n• 永久額度：+${ad.reward_quota}\n"
      }
    ],
    "count": 2
  },
  {
    "key": "warnings.gender",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 40,
        "context": "    // Check if user is in gender selection step\n    if (user.onboarding_step !== 'gender') {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warnings.gender'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 271,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.gender3') + '\\n\\n' + i18n.t('warnings.gender'),\n        [\n          ["
      }
    ],
    "count": 2
  },
  {
    "key": "warnings.settings",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 51,
        "context": "      i18n.t('success.message8', { gender }) +\n        '\\n\\n' +\n        i18n.t('warnings.settings') +\n        '\\n\\n' +\n        i18n.t('common.confirm7'),"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 152,
        "context": "      i18n.t('common.gender3') +\n        '\\n\\n' +\n        i18n.t('warnings.settings'),\n      {\n        reply_markup: {"
      }
    ],
    "count": 2
  },
  {
    "key": "common.text10",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 114,
        "context": "      i18n.t('common.birthday3') +\n        '\\n\\n' +\n        i18n.t('common.text10') +\n        '\\n\\n' +\n        i18n.t('warnings.birthday') +"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 370,
        "context": "      i18n.t('common.birthday2') +\n        '\\n\\n' +\n        i18n.t('common.text10') +\n        '\\n\\n' +\n        i18n.t('warnings.birthday') +"
      }
    ],
    "count": 2
  },
  {
    "key": "common.settings6",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 118,
        "context": "        i18n.t('warnings.birthday') +\n        '\\n' +\n        i18n.t('common.settings6') +\n        '\\n' +\n        i18n.t('common.text9')"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 374,
        "context": "        i18n.t('warnings.birthday') +\n        '\\n' +\n        i18n.t('common.settings6') +\n        '\\n' +\n        i18n.t('common.text9')"
      }
    ],
    "count": 2
  },
  {
    "key": "common.text9",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 120,
        "context": "        i18n.t('common.settings6') +\n        '\\n' +\n        i18n.t('common.text9')\n    );\n  } catch (error) {"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 376,
        "context": "        i18n.t('common.settings6') +\n        '\\n' +\n        i18n.t('common.text9')\n    );\n"
      }
    ],
    "count": 2
  },
  {
    "key": "common.settings2",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 330,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('common.settings2') +\n        '\\n\\n' +\n        i18n.t('common.help') +"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 589,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('common.settings2') +\n        '\\n\\n' +\n        i18n.t('common.help') +"
      }
    ],
    "count": 2
  },
  {
    "key": "common.mbti2",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 336,
        "context": "        i18n.t('common.settings7'),\n      [\n        [{ text: i18n.t('common.mbti2'), callback_data: 'mbti_choice_manual' }],\n        [{ text: i18n.t('common.text5'), callback_data: 'mbti_choice_test' "
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 595,
        "context": "        i18n.t('common.settings7'),\n      [\n        [{ text: i18n.t('common.mbti2'), callback_data: 'mbti_choice_manual' }],\n        [{ text: i18n.t('common.text5'), callback_data: 'mbti_choice_test' "
      }
    ],
    "count": 2
  },
  {
    "key": "common.text5",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 337,
        "context": "      [\n        [{ text: i18n.t('common.mbti2'), callback_data: 'mbti_choice_manual' }],\n        [{ text: i18n.t('common.text5'), callback_data: 'mbti_choice_test' }],\n        [{ text: i18n.t('common."
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 596,
        "context": "      [\n        [{ text: i18n.t('common.mbti2'), callback_data: 'mbti_choice_manual' }],\n        [{ text: i18n.t('common.text5'), callback_data: 'mbti_choice_test' }],\n        [{ text: i18n.t('common."
      }
    ],
    "count": 2
  },
  {
    "key": "common.short",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 338,
        "context": "        [{ text: i18n.t('common.mbti2'), callback_data: 'mbti_choice_manual' }],\n        [{ text: i18n.t('common.text5'), callback_data: 'mbti_choice_test' }],\n        [{ text: i18n.t('common.short'),"
      },
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 597,
        "context": "        [{ text: i18n.t('common.mbti2'), callback_data: 'mbti_choice_manual' }],\n        [{ text: i18n.t('common.text5'), callback_data: 'mbti_choice_test' }],\n        [{ text: i18n.t('common.short'),"
      }
    ],
    "count": 2
  },
  {
    "key": "errors.error.short9",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 938,
        "context": "    const updatedUser = await findUserByTelegramId(db, telegramId);\n    if (!updatedUser) {\n      await telegram.sendMessage(chatId, i18n.t('errors.error.short9'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 391,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n(user.language_pref || 'zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('errors.error.short9') + '\\n\\n' + i18"
      }
    ],
    "count": 2
  },
  {
    "key": "onboarding.confirm",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 177,
        "context": "    [\n      [\n        { text: i18n.t('onboarding.confirm'), callback_data: `confirm_birthday_${birthday}` },\n        { text: i18n.t('onboarding.retry'), callback_data: 'retry_birthday' },\n      ],"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 348,
        "context": "        i18n.t('onboarding.confirm2') +\n          '\\n\\n' +\n          i18n.t('onboarding.confirm') +\n          '\\n' +\n          i18n.t('onboarding.antiFraud.question1') +"
      }
    ],
    "count": 2
  },
  {
    "key": "profile.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 35,
        "context": "    if (!user) {\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('profile.userNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 137,
        "context": "    if (!user) {\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('profile.userNotFound'));\n      return;\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "profile.completeOnboarding",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 43,
        "context": "    // Check if user completed onboarding\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('profile.completeOnboarding'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 145,
        "context": "    // Check if user completed onboarding\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('profile.completeOnboarding'));\n      return;\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "profile.profile2",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 81,
        "context": "    const quotaDisplay = taskBonus > 0 ? `${permanentQuota}+${taskBonus}` : permanentQuota.toString();\n    const profileMessage =\n      i18n.t('profile.profile2') +\n      i18n.t('profile.nickname', { "
      },
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 54,
        "context": "  /const profileMessage =\\s+`👤 \\*\\*個人資料\\*\\*\\\\n\\\\n`/g,\n  `const profileMessage =\n      i18n.t('profile.profile2') + '\\n\\n'`\n);\n"
      }
    ],
    "count": 2
  },
  {
    "key": "profile.separator",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 90,
        "context": "      i18n.t('profile.message3', { 'user.language_pref': user.language_pref || 'zh-TW' }) +\n      i18n.t('profile.text3', { vipStatus }) +\n      i18n.t('profile.separator') +\n      i18n.t('profile.inv"
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 100,
        "context": "      i18n.t('profile.quota') +\n      (!user.is_vip && successfulInvites >= inviteLimit ? i18n.t('profile.message2', { user: { is_vip: false }, successfulInvites, inviteLimit }) : '') +\n      i18n.t('"
      }
    ],
    "count": 2
  },
  {
    "key": "profile.returnToMenu",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 106,
        "context": "      i18n.t('profile.vipUpgrade') +\n      i18n.t('profile.stats') +\n      i18n.t('profile.returnToMenu');\n\n    const botUsername = env.ENVIRONMENT === 'production' ? 'xunnibot' : 'xunni_dev_bot';"
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 173,
        "context": "      i18n.t('profile.cardSeparator') +\n      i18n.t('profile.cardFooter') +\n      i18n.t('profile.returnToMenu');\n\n    await telegram.sendMessage(chatId, cardMessage);"
      }
    ],
    "count": 2
  },
  {
    "key": "profile.systemError",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 119,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('profile.systemError'));\n  }\n}"
      },
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 180,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('profile.systemError'));\n  }\n}"
      }
    ],
    "count": 2
  },
  {
    "key": "buttons.profile2",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 156,
        "context": "          i18n.t('buttons.bottle4') +\n          ' - /catch\\n' +\n          i18n.t('buttons.profile2') +\n          ' - /profile\\n' +\n          i18n.t('buttons.stats') +"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 169,
        "context": "          ],\n          [\n            { text: i18n.t('buttons.profile2'), callback_data: 'profile' },\n            { text: i18n.t('buttons.stats'), callback_data: 'stats' },\n          ],"
      }
    ],
    "count": 2
  },
  {
    "key": "buttons.stats",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 158,
        "context": "          i18n.t('buttons.profile2') +\n          ' - /profile\\n' +\n          i18n.t('buttons.stats') +\n          ' - /stats\\n' +\n          i18n.t('buttons.vip') +"
      },
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 170,
        "context": "          [\n            { text: i18n.t('buttons.profile2'), callback_data: 'profile' },\n            { text: i18n.t('buttons.stats'), callback_data: 'stats' },\n          ],\n        ]"
      }
    ],
    "count": 2
  },
  {
    "key": "buttons.short3",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 172,
        "context": "    const joinChannelTask = userTaskMap.get('task_join_channel');\n    if (!joinChannelTask || joinChannelTask.status === 'available') {\n      socialRow.push({ text: i18n.t('buttons.short3'), url: 'htt"
      },
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 422,
        "context": "            i18n.t('tasks.text'),\n          [\n            [{ text: i18n.t('buttons.short3'), url: 'https://t.me/xunnichannel' }],\n            [{ text: i18n.t('buttons.short20'), callback_data: 'verify"
      }
    ],
    "count": 2
  },
  {
    "key": "buttons.short20",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 174,
        "context": "      socialRow.push({ text: i18n.t('buttons.short3'), url: 'https://t.me/xunnichannel' });\n    } else if (joinChannelTask.status === 'pending_claim') {\n      socialRow.push({ text: i18n.t('buttons.sh"
      },
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 423,
        "context": "          [\n            [{ text: i18n.t('buttons.short3'), url: 'https://t.me/xunnichannel' }],\n            [{ text: i18n.t('buttons.short20'), callback_data: 'verify_channel_join' }],\n            [{ "
      }
    ],
    "count": 2
  },
  {
    "key": "errors.invalidRequest",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 351,
        "context": "\n  if (!chatId || !messageId || !taskId) {\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.invalidRequest'));\n    return;\n  }"
      },
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 468,
        "context": "        const user = await findUserByTelegramId(db, callbackQuery.from.id.toString());\n        const i18n = createI18n(user?.language_pref || 'zh-TW');\n        await telegram.sendMessage(chatId, i18n."
      }
    ],
    "count": 2
  },
  {
    "key": "errors.generic",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 84,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('errors.banned', { reason: i18n.t('errors.generic') }) // Generic reason if not available\n      );\n      return;"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 275,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('errors.generic') +\n        `\\n\\nError: ${error instanceof Error ? error.message : String(error)}`\n    );"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.bottle6",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 235,
        "context": "      i18n.t('throw.message7') +\n      '\\n\\n' +\n      i18n.t('throw.bottle6') +\n        '\\n\\n' +\n        i18n.t('common.text112') +"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 676,
        "context": "      summary +\n        '\\n\\n' +\n        i18n.t('throw.bottle6') +\n        '\\n\\n' +\n        i18n.t('throw.tips') +"
      }
    ],
    "count": 2
  },
  {
    "key": "common.text112",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 237,
        "context": "      i18n.t('throw.bottle6') +\n        '\\n\\n' +\n        i18n.t('common.text112') +\n          '\\n' +\n          i18n.t('common.text93') +"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 679,
        "context": "        '\\n\\n' +\n        i18n.t('throw.tips') +\n        i18n.t('common.text112') +\n        '\\n' +\n        i18n.t('common.text93') +"
      }
    ],
    "count": 2
  },
  {
    "key": "common.text93",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 239,
        "context": "        i18n.t('common.text112') +\n          '\\n' +\n          i18n.t('common.text93') +\n          '\\n' +\n          i18n.t('common.text77') +"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 681,
        "context": "        i18n.t('common.text112') +\n        '\\n' +\n        i18n.t('common.text93') +\n        '\\n' +\n        i18n.t('common.text77') +"
      }
    ],
    "count": 2
  },
  {
    "key": "common.text77",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 241,
        "context": "          i18n.t('common.text93') +\n          '\\n' +\n          i18n.t('common.text77') +\n          '\\n' +\n          i18n.t('throw.text13') +"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 683,
        "context": "        i18n.t('common.text93') +\n        '\\n' +\n        i18n.t('common.text77') +\n        '\\n' +\n        i18n.t('throw.text13') +"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.text13",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 243,
        "context": "          i18n.t('common.text77') +\n          '\\n' +\n          i18n.t('throw.text13') +\n          '\\n\\n' +\n          i18n.t('throw.text20') +"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 685,
        "context": "        i18n.t('common.text77') +\n        '\\n' +\n        i18n.t('throw.text13') +\n        '\\n' +\n        i18n.t('throw.friendlyContent')"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.text14",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 249,
        "context": "          i18n.t('throw.message6') +\n          '\\n\\n' +\n          i18n.t('throw.text14') +\n          '\\n' +\n          i18n.t('throw.bottle7') +"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 768,
        "context": "          i18n.t('throw.conversation5') +\n          '\\n\\n' +\n          i18n.t('throw.text14') +\n          '\\n' +\n          i18n.t('buttons.message') +"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.vip7",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 461,
        "context": "        isVip\n          ? i18n.t('throw.bottle3') + '\\n\\n' +\n              i18n.t('throw.vip7') + '\\n' +\n              i18n.t('throw.text6') + '\\n\\n' +\n              i18n.t('throw.complete4')"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 513,
        "context": "            ? i18n.t('throw.bottle3') + '\\n\\n' +\n        i18n.t('throw.bottle10') + '\\n' +\n          i18n.t('throw.vip7') + '\\n' +\n                i18n.t('throw.text6') + '\\n\\n' +\n                i18n"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.text6",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 462,
        "context": "          ? i18n.t('throw.bottle3') + '\\n\\n' +\n              i18n.t('throw.vip7') + '\\n' +\n              i18n.t('throw.text6') + '\\n\\n' +\n              i18n.t('throw.complete4')\n          : i18n.t('th"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 514,
        "context": "        i18n.t('throw.bottle10') + '\\n' +\n          i18n.t('throw.vip7') + '\\n' +\n                i18n.t('throw.text6') + '\\n\\n' +\n                i18n.t('throw.complete5')\n            : i18n.t('throw"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.text10",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 465,
        "context": "              i18n.t('throw.complete4')\n          : i18n.t('throw.bottle3') + '\\n\\n' +\n              i18n.t('throw.text10') + '\\n\\n' +\n              i18n.t('throw.complete5')\n      );"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 518,
        "context": "            : i18n.t('throw.bottle3') + '\\n\\n' +\n                i18n.t('success.bottle3') + '\\n' +\n                i18n.t('throw.text10') + '\\n\\n' +\n                i18n.t('throw.complete6')\n        "
      }
    ],
    "count": 2
  },
  {
    "key": "throw.complete5",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 466,
        "context": "          : i18n.t('throw.bottle3') + '\\n\\n' +\n              i18n.t('throw.text10') + '\\n\\n' +\n              i18n.t('throw.complete5')\n      );\n    } catch (sendError) {"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 515,
        "context": "          i18n.t('throw.vip7') + '\\n' +\n                i18n.t('throw.text6') + '\\n\\n' +\n                i18n.t('throw.complete5')\n            : i18n.t('throw.bottle3') + '\\n\\n' +\n                i18n"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.bottle10",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 512,
        "context": "          isVip\n            ? i18n.t('throw.bottle3') + '\\n\\n' +\n        i18n.t('throw.bottle10') + '\\n' +\n          i18n.t('throw.vip7') + '\\n' +\n                i18n.t('throw.text6') + '\\n\\n' +"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 795,
        "context": "      // 免費用戶成功訊息（加上 VIP 提示）\n      successMessage =\n        i18n.t('throw.bottle10') +\n        '\\n\\n' +\n        i18n.t('throw.bottle5', { bottleId }) +"
      }
    ],
    "count": 2
  },
  {
    "key": "success.bottle3",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 517,
        "context": "                i18n.t('throw.complete5')\n            : i18n.t('throw.bottle3') + '\\n\\n' +\n                i18n.t('success.bottle3') + '\\n' +\n                i18n.t('throw.text10') + '\\n\\n' +\n        "
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 544,
        "context": "            statusMsg.message_id,\n            i18n.t('throw.bottle3') + '\\n\\n' +\n          i18n.t('success.bottle3') + '\\n' +\n              i18n.t('throw.text8') + '\\n\\n' +\n              i18n.t('throw"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.catch2",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 758,
        "context": "          i18n.t('throw.text7') +\n          '\\n' +\n          i18n.t('throw.catch2') +\n          '\\n' +\n          i18n.t('throw.catch3') +"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 782,
        "context": "          i18n.t('throw.catch3') +\n          '\\n' +\n          i18n.t('throw.catch2') +\n          '\\n' +\n          i18n.t('throw.catch') +"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.catch3",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 760,
        "context": "          i18n.t('throw.catch2') +\n          '\\n' +\n          i18n.t('throw.catch3') +\n          '\\n\\n' +\n          i18n.t('throw.conversation3') +"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 780,
        "context": "          i18n.t('throw.bottle2') +\n          '\\n' +\n          i18n.t('throw.catch3') +\n          '\\n' +\n          i18n.t('throw.catch2') +"
      }
    ],
    "count": 2
  },
  {
    "key": "buttons.message",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 770,
        "context": "          i18n.t('throw.text14') +\n          '\\n' +\n          i18n.t('buttons.message') +\n          '\\n' +\n          i18n.t('catch.message4');"
      },
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 844,
        "context": "      if (conversationIdentifier) {\n        await telegram.sendMessageWithButtons(chatId, successMessage, [\n          [{ text: i18n.t('buttons.message'), callback_data: `conv_reply_${conversationIdent"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.vip3",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 110,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('throw.vip3') +\n        '\\n\\n' +\n        i18n.t('throw.text16') +"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 599,
        "context": "      chatId,\n      callbackQuery.message!.message_id,\n      i18n.t('throw.vip3') +\n        '\\n\\n' +\n        summary +"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.text23",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 122,
        "context": "        i18n.t('throw.gender3') +\n        '\\n\\n' +\n        i18n.t('throw.text23'),\n      [\n        [{ text: i18n.t('throw.mbti7'), callback_data: 'filter_mbti' }],"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 603,
        "context": "        summary +\n        '\\n' +\n        i18n.t('throw.text23'),\n      {\n        reply_markup: {"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.mbti7",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 124,
        "context": "        i18n.t('throw.text23'),\n      [\n        [{ text: i18n.t('throw.mbti7'), callback_data: 'filter_mbti' }],\n        [{ text: i18n.t('throw.zodiac7'), callback_data: 'filter_zodiac' }],\n        [{"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 607,
        "context": "        reply_markup: {\n          inline_keyboard: [\n            [{ text: i18n.t('throw.mbti7'), callback_data: 'filter_mbti' }],\n            [{ text: i18n.t('throw.zodiac7'), callback_data: 'filter_z"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.zodiac7",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 125,
        "context": "      [\n        [{ text: i18n.t('throw.mbti7'), callback_data: 'filter_mbti' }],\n        [{ text: i18n.t('throw.zodiac7'), callback_data: 'filter_zodiac' }],\n        [{ text: i18n.t('throw.bloodType4'"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 608,
        "context": "          inline_keyboard: [\n            [{ text: i18n.t('throw.mbti7'), callback_data: 'filter_mbti' }],\n            [{ text: i18n.t('throw.zodiac7'), callback_data: 'filter_zodiac' }],\n            ["
      }
    ],
    "count": 2
  },
  {
    "key": "throw.bloodType4",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 126,
        "context": "        [{ text: i18n.t('throw.mbti7'), callback_data: 'filter_mbti' }],\n        [{ text: i18n.t('throw.zodiac7'), callback_data: 'filter_zodiac' }],\n        [{ text: i18n.t('throw.bloodType4'), callb"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 827,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('throw.bloodType4') +\n        '\\n\\n' +\n        i18n.t('throw.currentSelection', { selection: bloodTypeText }) +"
      }
    ],
    "count": 2
  },
  {
    "key": "throw.gender5",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 127,
        "context": "        [{ text: i18n.t('throw.zodiac7'), callback_data: 'filter_zodiac' }],\n        [{ text: i18n.t('throw.bloodType4'), callback_data: 'filter_blood_type' }],\n        [{ text: i18n.t('throw.gender5'"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 609,
        "context": "            [{ text: i18n.t('throw.mbti7'), callback_data: 'filter_mbti' }],\n            [{ text: i18n.t('throw.zodiac7'), callback_data: 'filter_zodiac' }],\n            [{ text: i18n.t('throw.gender5"
      }
    ],
    "count": 2
  },
  {
    "key": "success.complete6",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 128,
        "context": "        [{ text: i18n.t('throw.bloodType4'), callback_data: 'filter_blood_type' }],\n        [{ text: i18n.t('throw.gender5'), callback_data: 'filter_gender' }],\n        [{ text: i18n.t('success.comple"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 610,
        "context": "            [{ text: i18n.t('throw.zodiac7'), callback_data: 'filter_zodiac' }],\n            [{ text: i18n.t('throw.gender5'), callback_data: 'filter_gender' }],\n            [{ text: i18n.t('success.c"
      }
    ],
    "count": 2
  },
  {
    "key": "buttons.short21",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 186,
        "context": "    // Add control buttons\n    mbtiButtons.push([\n      { text: i18n.t('buttons.short21'), callback_data: 'clear_mbti' },\n      { text: i18n.t('buttons.back'), callback_data: 'back_to_filter' },\n    ]"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 323,
        "context": "    // Add control buttons\n    zodiacButtons.push([\n      { text: i18n.t('buttons.short21'), callback_data: 'clear_zodiac' },\n      { text: i18n.t('buttons.back'), callback_data: 'back_to_filter' },\n "
      }
    ],
    "count": 2
  },
  {
    "key": "common.none",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 195,
        "context": "      i18n.t('throw.mbti4') +\n        '\\n\\n' +\n        i18n.t('throw.selected', { selected: selectedMBTI.length > 0 ? selectedMBTI.join(', ') : i18n.t('common.none') }) +\n        '\\n\\n' +\n        i18n"
      },
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 332,
        "context": "      i18n.t('throw.zodiac4') +\n        '\\n\\n' +\n        i18n.t('throw.selected', { selected: selectedZodiac.length > 0 ? selectedZodiac.map((z) => getZodiacName(z, i18n)).join(', ') : i18n.t('common."
      }
    ],
    "count": 2
  },
  {
    "key": "vip.vip22",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 73,
        "context": "          i18n.t('vip.text11', { expireDate }) +\n          '\\n\\n' +\n          i18n.t('vip.vip22') +\n          '\\n' +\n          i18n.t('vip.bottle6') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 106,
        "context": "          priceNote +\n          '\\n\\n' +\n          i18n.t('vip.vip22') +\n          '\\n' +\n          i18n.t('vip.bottle6') +"
      }
    ],
    "count": 2
  },
  {
    "key": "vip.bottle6",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 75,
        "context": "          i18n.t('vip.vip22') +\n          '\\n' +\n          i18n.t('vip.bottle6') +\n          '\\n' +\n          i18n.t('vip.text14') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 108,
        "context": "          i18n.t('vip.vip22') +\n          '\\n' +\n          i18n.t('vip.bottle6') +\n          '\\n' +\n          i18n.t('vip.text14') +"
      }
    ],
    "count": 2
  },
  {
    "key": "vip.text14",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 77,
        "context": "          i18n.t('vip.bottle6') +\n          '\\n' +\n          i18n.t('vip.text14') +\n          '\\n' +\n          i18n.t('vip.text23') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 110,
        "context": "          i18n.t('vip.bottle6') +\n          '\\n' +\n          i18n.t('vip.text14') +\n          '\\n' +\n          i18n.t('vip.text23') +"
      }
    ],
    "count": 2
  },
  {
    "key": "vip.mbti",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 83,
        "context": "          i18n.t('vip.quota2') +\n          '\\n' +\n          i18n.t('vip.mbti') +\n          '\\n' +\n          i18n.t('vip.text2') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 116,
        "context": "          i18n.t('vip.quota') +\n          '\\n' +\n          i18n.t('vip.mbti') +\n          '\\n' +\n          i18n.t('vip.text26') +"
      }
    ],
    "count": 2
  },
  {
    "key": "buttons.cancel",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 94,
        "context": "        [\n          [{ text: i18n.t('vip.vip4', { priceStars }), callback_data: 'vip_renew' }],\n          [{ text: i18n.t('buttons.cancel'), callback_data: 'vip_cancel' }],\n        ]\n      );"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 127,
        "context": "        [\n          [{ text: i18n.t('vip.vip5', { priceStars }), callback_data: 'vip_purchase' }],\n          [{ text: i18n.t('buttons.cancel'), callback_data: 'vip_cancel' }],\n        ]\n      );"
      }
    ],
    "count": 2
  },
  {
    "key": "success.text24",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 152,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.text24'));\n\n    // Delete menu"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 180,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.text24'));\n\n    // Delete menu"
      }
    ],
    "count": 2
  },
  {
    "key": "vip.mbti2",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 240,
        "context": "      i18n.t('vip.quota2') +\n      '\\n' +\n      i18n.t('vip.mbti2') +\n      '\\n' +\n      i18n.t('vip.text2') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 251,
        "context": "      i18n.t('vip.quota2') +\n      '\\n' +\n      i18n.t('vip.mbti2') +\n      '\\n' +\n      i18n.t('vip.text2');"
      }
    ],
    "count": 2
  },
  {
    "key": "vip.mbti3",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 430,
        "context": "        i18n.t('vip.quota2') +\n        '\\n' +\n        i18n.t('vip.mbti3') +\n        '\\n' +\n        i18n.t('vip.text26') +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 447,
        "context": "        i18n.t('vip.quota2') +\n        '\\n' +\n        i18n.t('vip.mbti3') +\n        '\\n' +\n        i18n.t('vip.text26') +"
      }
    ],
    "count": 2
  },
  {
    "key": "vip.settings2",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 434,
        "context": "        i18n.t('vip.text26') +\n        '\\n\\n' +\n        i18n.t('vip.settings2')\n      : i18n.t('vip.success4') +\n        '\\n\\n' +"
      },
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 453,
        "context": "        i18n.t('vip.text4') +\n        '\\n' +\n        i18n.t('vip.settings2') +\n        '\\n\\n' +\n        i18n.t('vip.start');"
      }
    ],
    "count": 2
  },
  {
    "key": "vip.refundRequestNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/vip_refund.ts",
        "line": 300,
        "context": "\n    if (!request) {\n      await telegram.sendMessage(chatId, i18n.t('vip.refundRequestNotFound'));\n      return;\n    }"
      },
      {
        "file": "src/telegram/handlers/vip_refund.ts",
        "line": 438,
        "context": "\n    if (!request) {\n      await telegram.sendMessage(chatId, i18n.t('vip.refundRequestNotFound'));\n      return;\n    }"
      }
    ],
    "count": 2
  },
  {
    "key": "adPrompt.waysToGetMore",
    "files": [
      {
        "file": "src/domain/ad_prompt.ts",
        "line": 141,
        "context": "\n  if (i18n) {\n    let message = i18n.t('adPrompt.quotaExhausted', { quotaDisplay }) + '\\n\\n' + i18n.t('adPrompt.waysToGetMore') + '\\n';\n\n    // Add ad option if available"
      }
    ],
    "count": 1
  },
  {
    "key": "adPrompt.watchAdLimit",
    "files": [
      {
        "file": "src/domain/ad_prompt.ts",
        "line": 148,
        "context": "      message += i18n.t('adPrompt.watchAd', { remaining }) + '\\n';\n    } else {\n      message += i18n.t('adPrompt.watchAdLimit') + '\\n';\n    }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "adPrompt.completeTask",
    "files": [
      {
        "file": "src/domain/ad_prompt.ts",
        "line": 153,
        "context": "    // Add task option if available\n    if (has_incomplete_tasks) {\n      message += i18n.t('adPrompt.completeTask') + '\\n';\n    }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "adPrompt.inviteFriends",
    "files": [
      {
        "file": "src/domain/ad_prompt.ts",
        "line": 157,
        "context": "\n    // Add invite and VIP options\n    message += i18n.t('adPrompt.inviteFriends') + '\\n';\n    message += i18n.t('adPrompt.upgradeVip');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "adPrompt.upgradeVip",
    "files": [
      {
        "file": "src/domain/ad_prompt.ts",
        "line": 158,
        "context": "    // Add invite and VIP options\n    message += i18n.t('adPrompt.inviteFriends') + '\\n';\n    message += i18n.t('adPrompt.upgradeVip');\n\n    return message;"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.statusTitle",
    "files": [
      {
        "file": "src/domain/broadcast.ts",
        "line": 96,
        "context": "\n  if (i18n) {\n    let message = i18n.t('broadcast.statusTitle') + '\\n\\n';\n    message += i18n.t('broadcast.id', { id: broadcast.id }) + '\\n';\n    message += i18n.t('broadcast.status', { status: progr"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.estimate.immediate",
    "files": [
      {
        "file": "src/domain/broadcast.ts",
        "line": 254,
        "context": "  if (i18n) {\n    if (totalUsers <= 25 && priority === 'high') {\n      return i18n.t('broadcast.estimate.immediate');\n    } else if (totalSeconds < 60) {\n      return i18n.t('broadcast.estimate.second"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filter.invalidZodiac",
    "files": [
      {
        "file": "src/domain/broadcast_filters.ts",
        "line": 114,
        "context": "          throw new Error(\n            i18n?.t('broadcast.filter.invalidZodiac', { value: trimmedValue, zodiacs: VALID_ZODIACS.join(', ') }) ||\n            `無效的星座：${trimmedValue}（必須是以下之一：${VALID_ZODIA"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filter.invalidMbti",
    "files": [
      {
        "file": "src/domain/broadcast_filters.ts",
        "line": 156,
        "context": "          throw new Error(\n            i18n?.t('broadcast.filter.invalidMbti', { value: trimmedValue, mbtis: VALID_MBTI.join(', ') }) ||\n            `無效的 MBTI 類型：${trimmedValue}（必須是以下之一：${VALID_MBTI.j"
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.title",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 101,
        "context": "  // 注意：這部分應該很少被使用，因為調用方應該總是傳入 i18n\n  // 以下所有 fallback 字符串都應該使用 i18n.t() 替代，這些僅作為最後的備用方案\n  const fallbackTitle = `💬 與 #${identifier} 的對話記錄（第 ${postNumber} 頁）\\n\\n`; // Fallback only, should use i18n.t"
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.nickname",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 104,
        "context": "  const fallbackPartnerInfo = partnerInfo\n    ? `👤 對方資料：\\n` + // Fallback only, should use i18n.t('conversationHistory.partnerInfo')\n      `📝 暱稱：${partnerInfo.maskedNickname}\\n` + // Fallback only, "
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.mbti",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 105,
        "context": "    ? `👤 對方資料：\\n` + // Fallback only, should use i18n.t('conversationHistory.partnerInfo')\n      `📝 暱稱：${partnerInfo.maskedNickname}\\n` + // Fallback only, should use i18n.t('conversationHistory.nic"
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.bloodType",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 106,
        "context": "      `📝 暱稱：${partnerInfo.maskedNickname}\\n` + // Fallback only, should use i18n.t('conversationHistory.nickname')\n      `🧠 MBTI：${partnerInfo.mbti}\\n` + // Fallback only, should use i18n.t('convers"
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.zodiac",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 107,
        "context": "      `🧠 MBTI：${partnerInfo.mbti}\\n` + // Fallback only, should use i18n.t('conversationHistory.mbti')\n      `🩸 血型：${partnerInfo.bloodType}\\n` + // Fallback only, should use i18n.t('conversationHist"
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.matchScore",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 108,
        "context": "      `🩸 血型：${partnerInfo.bloodType}\\n` + // Fallback only, should use i18n.t('conversationHistory.bloodType')\n      `⭐ 星座：${partnerInfo.zodiac}\\n` + // Fallback only, should use i18n.t('conversation"
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.totalMessages",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 113,
        "context": "  const fallbackSeparator = `━━━━━━━━━━━━━━━━\\n\\n`; // Fallback only\n  const fallbackHistoryNote = `💡 這是對話的歷史記錄\\n`; // Fallback only, should use i18n.t('conversationHistory.historyNote')\n  const fall"
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.lastUpdated",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 114,
        "context": "  const fallbackHistoryNote = `💡 這是對話的歷史記錄\\n`; // Fallback only, should use i18n.t('conversationHistory.historyNote')\n  const fallbackTotalMessages = `📊 總訊息數：${totalMessages} 則\\n`; // Fallback only,"
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.other",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 168,
        "context": "    }\n\n    const otherLabel = i18n.t('conversationHistory.other');\n    content += `[${timeStr}] ${otherLabel}：\\n${messageContent}\\n\\n`;\n    content += '━━━━━━━━━━━━━━━━\\n\\n';"
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.backToMenu",
    "files": [
      {
        "file": "src/domain/conversation_history.ts",
        "line": 173,
        "context": "    content += i18n.t('conversationHistory.replyHint') + '\\n';\n    content += i18n.t('conversationHistory.viewHistory', { identifier }) + '\\n';\n    content += i18n.t('conversationHistory.backToMenu');"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.age.justNow",
    "files": [
      {
        "file": "src/domain/draft.ts",
        "line": 53,
        "context": "  if (i18n) {\n    if (hours < 1) {\n      return i18n.t('draft.age.justNow');\n    } else if (hours < 24) {\n      return i18n.t('draft.age.hoursAgo', { hours: Math.floor(hours) });"
      }
    ],
    "count": 1
  },
  {
    "key": "warning.text8",
    "files": [
      {
        "file": "src/router.ts",
        "line": 101,
        "context": "          await telegram.sendMessage(\n            chatId,\n            i18n.t('warning.text8')\n          );\n          return;"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.clickButtonHint",
    "files": [
      {
        "file": "src/router.ts",
        "line": 351,
        "context": "      await telegram.sendMessage(\n        message.chat.id,\n        i18n.t('tutorial.clickButtonHint') + '\\n\\n' +\n          i18n.t('tutorial.throwBottleDesc') + '\\n' +\n          i18n.t('tutorial.catchB"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.commandMenu",
    "files": [
      {
        "file": "src/router.ts",
        "line": 359,
        "context": "          i18n.t('tutorial.commandCatch') + '\\n' +\n          i18n.t('tutorial.commandTasks') + '\\n' +\n          i18n.t('tutorial.commandMenu')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.stepLanguageSelection",
    "files": [
      {
        "file": "src/router.ts",
        "line": 827,
        "context": "      const i18n = createI18n(user.language_pref || 'zh-TW');\n      const stepMessages: Record<string, string> = {\n        language_selection: i18n.t('onboarding.stepLanguageSelection'),\n        nickn"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.stepNickname",
    "files": [
      {
        "file": "src/router.ts",
        "line": 828,
        "context": "      const stepMessages: Record<string, string> = {\n        language_selection: i18n.t('onboarding.stepLanguageSelection'),\n        nickname: i18n.t('onboarding.stepNickname'),\n        gender: i18n.t"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.stepGender",
    "files": [
      {
        "file": "src/router.ts",
        "line": 829,
        "context": "        language_selection: i18n.t('onboarding.stepLanguageSelection'),\n        nickname: i18n.t('onboarding.stepNickname'),\n        gender: i18n.t('onboarding.stepGender'),\n        birthday: i18n.t('"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.stepBirthday",
    "files": [
      {
        "file": "src/router.ts",
        "line": 830,
        "context": "        nickname: i18n.t('onboarding.stepNickname'),\n        gender: i18n.t('onboarding.stepGender'),\n        birthday: i18n.t('onboarding.stepBirthday'),\n        mbti: i18n.t('onboarding.stepMbti'),\n"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.stepMbti",
    "files": [
      {
        "file": "src/router.ts",
        "line": 831,
        "context": "        gender: i18n.t('onboarding.stepGender'),\n        birthday: i18n.t('onboarding.stepBirthday'),\n        mbti: i18n.t('onboarding.stepMbti'),\n        anti_fraud: i18n.t('onboarding.stepAntiFraud'"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.stepAntiFraud",
    "files": [
      {
        "file": "src/router.ts",
        "line": 832,
        "context": "        birthday: i18n.t('onboarding.stepBirthday'),\n        mbti: i18n.t('onboarding.stepMbti'),\n        anti_fraud: i18n.t('onboarding.stepAntiFraud'),\n        terms: i18n.t('onboarding.stepTerms'),"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.stepTerms",
    "files": [
      {
        "file": "src/router.ts",
        "line": 833,
        "context": "        mbti: i18n.t('onboarding.stepMbti'),\n        anti_fraud: i18n.t('onboarding.stepAntiFraud'),\n        terms: i18n.t('onboarding.stepTerms'),\n      };\n"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.stepDefault",
    "files": [
      {
        "file": "src/router.ts",
        "line": 836,
        "context": "      };\n\n      const stepMessage = stepMessages[user.onboarding_step] || i18n.t('onboarding.stepDefault');\n      await telegram.sendMessage(chatId, `💡 ${stepMessage}`);\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "common.bottle13",
    "files": [
      {
        "file": "src/router.ts",
        "line": 853,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('common.bottle13'),\n        {\n          reply_markup: {"
      }
    ],
    "count": 1
  },
  {
    "key": "common.bottle9",
    "files": [
      {
        "file": "src/router.ts",
        "line": 873,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('common.bottle9'),\n        {\n          reply_markup: {"
      }
    ],
    "count": 1
  },
  {
    "key": "router.suggestThrow",
    "files": [
      {
        "file": "src/router.ts",
        "line": 903,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('router.suggestThrow')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "router.suggestMenu",
    "files": [
      {
        "file": "src/router.ts",
        "line": 913,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('router.suggestMenu')\n    );\n    return;"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.purchaseCancelled",
    "files": [
      {
        "file": "src/router.ts",
        "line": 1622,
        "context": "      await telegram.sendMessage(\n        callbackQuery.message!.chat.id,\n        i18n.t('vip.purchaseCancelled') + '\\n\\n' + i18n.t('vip.viewVipCommand')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.renewalProcessing",
    "files": [
      {
        "file": "src/router.ts",
        "line": 1641,
        "context": "      const user = await findUserByTelegramId(db, callbackQuery.from.id.toString());\n      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      await telegram.answerCallbackQuery(callbackQue"
      }
    ],
    "count": 1
  },
  {
    "key": "adminNotification.vipPurchased",
    "files": [
      {
        "file": "src/services/admin_notification.ts",
        "line": 60,
        "context": "      case 'vip_purchased':\n        return (\n          i18n.t('adminNotification.vipPurchased') + '\\n\\n' +\n          i18n.t('adminNotification.user', { userId: data.user_id }) + '\\n' +\n          i18n."
      }
    ],
    "count": 1
  },
  {
    "key": "adminNotification.vipRenewed",
    "files": [
      {
        "file": "src/services/admin_notification.ts",
        "line": 69,
        "context": "      case 'vip_renewed':\n        return (\n          i18n.t('adminNotification.vipRenewed') + '\\n\\n' +\n          i18n.t('adminNotification.user', { userId: data.user_id }) + '\\n' +\n          i18n.t('a"
      }
    ],
    "count": 1
  },
  {
    "key": "adminNotification.paymentFailed",
    "files": [
      {
        "file": "src/services/admin_notification.ts",
        "line": 78,
        "context": "      case 'payment_failed':\n        return (\n          i18n.t('adminNotification.paymentFailed') + '\\n\\n' +\n          i18n.t('adminNotification.user', { userId: data.user_id }) + '\\n' +\n          i18"
      }
    ],
    "count": 1
  },
  {
    "key": "adminNotification.refundRequest",
    "files": [
      {
        "file": "src/services/admin_notification.ts",
        "line": 86,
        "context": "      case 'refund_request':\n        return (\n          i18n.t('adminNotification.refundRequest') + '\\n\\n' +\n          i18n.t('adminNotification.requestId', { id: data.request_id }) + '\\n' +\n         "
      }
    ],
    "count": 1
  },
  {
    "key": "adminNotification.viewRefundsHint",
    "files": [
      {
        "file": "src/services/admin_notification.ts",
        "line": 92,
        "context": "          i18n.t('adminNotification.reason', { reason: data.reason }) + '\\n' +\n          i18n.t('adminNotification.time', { time: timestamp }) + '\\n\\n' +\n          i18n.t('adminNotification.viewRefund"
      }
    ],
    "count": 1
  },
  {
    "key": "adminNotification.vipReminderSent",
    "files": [
      {
        "file": "src/services/admin_notification.ts",
        "line": 97,
        "context": "      case 'vip_reminder_sent':\n        return (\n          i18n.t('adminNotification.vipReminderSent') + '\\n\\n' +\n          i18n.t('adminNotification.user', { userId: data.user_id }) + '\\n' +\n        "
      }
    ],
    "count": 1
  },
  {
    "key": "adminNotification.vipDowngraded",
    "files": [
      {
        "file": "src/services/admin_notification.ts",
        "line": 106,
        "context": "      case 'vip_downgraded':\n        return (\n          i18n.t('adminNotification.vipDowngraded') + '\\n\\n' +\n          i18n.t('adminNotification.user', { userId: data.user_id }) + '\\n' +\n          i18"
      }
    ],
    "count": 1
  },
  {
    "key": "adminNotification.systemNotification",
    "files": [
      {
        "file": "src/services/admin_notification.ts",
        "line": 114,
        "context": "      default:\n        return (\n          i18n.t('adminNotification.systemNotification') + '\\n\\n' +\n          i18n.t('adminNotification.type', { type }) + '\\n' +\n          i18n.t('adminNotification.da"
      }
    ],
    "count": 1
  },
  {
    "key": "analytics.providerComparisonTitle",
    "files": [
      {
        "file": "src/services/analytics_reports.ts",
        "line": 272,
        "context": "  });\n\n  message += `\\n\\n${i18n.t('analytics.providerComparisonTitle')}`;\n\n  for (const provider of report.provider_comparison) {"
      }
    ],
    "count": 1
  },
  {
    "key": "analytics.conversionStepsTitle",
    "files": [
      {
        "file": "src/services/analytics_reports.ts",
        "line": 343,
        "context": "  });\n\n  message += `\\n\\n${i18n.t('analytics.conversionStepsTitle')}`;\n\n  const stepNames: Record<string, string> = {"
      }
    ],
    "count": 1
  },
  {
    "key": "analytics.vip3",
    "files": [
      {
        "file": "src/services/analytics_reports.ts",
        "line": 346,
        "context": "\n  const stepNames: Record<string, string> = {\n    awareness: i18n.t('analytics.vip3'),\n    interest: i18n.t('analytics.vip5'),\n    consideration: i18n.t('analytics.vip4'),"
      }
    ],
    "count": 1
  },
  {
    "key": "analytics.vip5",
    "files": [
      {
        "file": "src/services/analytics_reports.ts",
        "line": 347,
        "context": "  const stepNames: Record<string, string> = {\n    awareness: i18n.t('analytics.vip3'),\n    interest: i18n.t('analytics.vip5'),\n    consideration: i18n.t('analytics.vip4'),\n    purchase_intent: i18n.t("
      }
    ],
    "count": 1
  },
  {
    "key": "analytics.vip4",
    "files": [
      {
        "file": "src/services/analytics_reports.ts",
        "line": 348,
        "context": "    awareness: i18n.t('analytics.vip3'),\n    interest: i18n.t('analytics.vip5'),\n    consideration: i18n.t('analytics.vip4'),\n    purchase_intent: i18n.t('analytics.text2'),\n    purchase_success: i18n"
      }
    ],
    "count": 1
  },
  {
    "key": "analytics.text2",
    "files": [
      {
        "file": "src/services/analytics_reports.ts",
        "line": 349,
        "context": "    interest: i18n.t('analytics.vip5'),\n    consideration: i18n.t('analytics.vip4'),\n    purchase_intent: i18n.t('analytics.text2'),\n    purchase_success: i18n.t('analytics.purchaseSuccess'),\n  };"
      }
    ],
    "count": 1
  },
  {
    "key": "analytics.purchaseSuccess",
    "files": [
      {
        "file": "src/services/analytics_reports.ts",
        "line": 350,
        "context": "    consideration: i18n.t('analytics.vip4'),\n    purchase_intent: i18n.t('analytics.text2'),\n    purchase_success: i18n.t('analytics.purchaseSuccess'),\n  };\n"
      }
    ],
    "count": 1
  },
  {
    "key": "channelMembership.joined",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 51,
        "context": "          await telegram.sendMessageWithButtons(\n            parseInt(user.telegram_id),\n            i18n.t('channelMembership.joined') + '\\n\\n' +\n              i18n.t('channelMembership.claimReward')"
      }
    ],
    "count": 1
  },
  {
    "key": "channelMembership.claimReward",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 52,
        "context": "            parseInt(user.telegram_id),\n            i18n.t('channelMembership.joined') + '\\n\\n' +\n              i18n.t('channelMembership.claimReward') + '\\n\\n' +\n              i18n.t('channelMembersh"
      }
    ],
    "count": 1
  },
  {
    "key": "channelMembership.oneTimeReward",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 53,
        "context": "            i18n.t('channelMembership.joined') + '\\n\\n' +\n              i18n.t('channelMembership.claimReward') + '\\n\\n' +\n              i18n.t('channelMembership.oneTimeReward'),\n            [[{ text"
      }
    ],
    "count": 1
  },
  {
    "key": "channelMembership.claimButton",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 54,
        "context": "              i18n.t('channelMembership.claimReward') + '\\n\\n' +\n              i18n.t('channelMembership.oneTimeReward'),\n            [[{ text: i18n.t('channelMembership.claimButton'), callback_data: "
      }
    ],
    "count": 1
  },
  {
    "key": "channelMembership.notJoined",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 130,
        "context": "      const user = await findUserByTelegramId(db, userId);\n      const i18n = createI18n(user?.language_pref || 'zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('channelMemb"
      }
    ],
    "count": 1
  },
  {
    "key": "errors.verificationFailed",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 169,
        "context": "    const user = await findUserByTelegramId(db, userId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.verificati"
      }
    ],
    "count": 1
  },
  {
    "key": "channelMembership.leftChannel",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 209,
        "context": "        await telegram.answerCallbackQuery(\n          callbackQuery.id,\n          i18n.t('channelMembership.leftChannel')\n        );\n        return;"
      }
    ],
    "count": 1
  },
  {
    "key": "channelMembership.viewTaskCenter",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 231,
        "context": "      i18n.t('channelMembership.taskCompleted') + '\\n\\n' +\n        i18n.t('channelMembership.rewardAdded') + '\\n\\n' +\n        i18n.t('channelMembership.viewTaskCenter')\n    );\n  } catch (error) {"
      }
    ],
    "count": 1
  },
  {
    "key": "errors.claimRewardFailed",
    "files": [
      {
        "file": "src/services/channel_membership_check.ts",
        "line": 240,
        "context": "    const user = await findUserByTelegramId(db, userId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.claimRewar"
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.viewAllConversations",
    "files": [
      {
        "file": "src/services/conversation_history.ts",
        "line": 116,
        "context": "    const buttons = [\n      [{ text: i18n.t('conversationHistory.replyButton'), callback_data: `conv_reply_${identifier}` }],\n      [{ text: i18n.t('conversationHistory.viewAllConversations'), callbac"
      }
    ],
    "count": 1
  },
  {
    "key": "conversationHistory.viewProfileCard",
    "files": [
      {
        "file": "src/services/conversation_history.ts",
        "line": 497,
        "context": "    const buttons = [\n      [{ text: i18n.t('conversationHistory.replyButton'), callback_data: `conv_reply_${identifier}` }],\n      [{ text: i18n.t('conversationHistory.viewProfileCard'), callback_dat"
      }
    ],
    "count": 1
  },
  {
    "key": "dailyReports.header",
    "files": [
      {
        "file": "src/services/daily_reports.ts",
        "line": 82,
        "context": "        await telegram.sendMessage(\n          parseInt(adminId),\n          i18n.t('dailyReports.header') + '\\n' +\n            i18n.t('dailyReports.time', { time: new Date().toLocaleString('zh-TW', { t"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.reminderTitle",
    "files": [
      {
        "file": "src/services/vip_subscription.ts",
        "line": 92,
        "context": "        const message =\n          daysLeft > 0\n            ? i18n.t('vip.reminderTitle') + '\\n\\n' +\n              i18n.t('vip.reminderDaysLeft', { days: daysLeft }) + '\\n\\n' +\n              i18n.t('vi"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.reminderRenewHint",
    "files": [
      {
        "file": "src/services/vip_subscription.ts",
        "line": 95,
        "context": "              i18n.t('vip.reminderDaysLeft', { days: daysLeft }) + '\\n\\n' +\n              i18n.t('vip.reminderExpireDate', { date: new Date(sub.expire_date).toLocaleDateString(user?.language_pref || '"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.reminderExpiringToday",
    "files": [
      {
        "file": "src/services/vip_subscription.ts",
        "line": 96,
        "context": "              i18n.t('vip.reminderExpireDate', { date: new Date(sub.expire_date).toLocaleDateString(user?.language_pref || 'zh-TW') }) + '\\n\\n' +\n              i18n.t('vip.reminderRenewHint')\n        "
      }
    ],
    "count": 1
  },
  {
    "key": "vip.reminderExpiringTodayDesc",
    "files": [
      {
        "file": "src/services/vip_subscription.ts",
        "line": 97,
        "context": "              i18n.t('vip.reminderRenewHint')\n            : i18n.t('vip.reminderExpiringToday') + '\\n\\n' +\n              i18n.t('vip.reminderExpiringTodayDesc') + '\\n\\n' +\n              i18n.t('vip.re"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.reminderRenewHint2",
    "files": [
      {
        "file": "src/services/vip_subscription.ts",
        "line": 98,
        "context": "            : i18n.t('vip.reminderExpiringToday') + '\\n\\n' +\n              i18n.t('vip.reminderExpiringTodayDesc') + '\\n\\n' +\n              i18n.t('vip.reminderRenewHint2') + '\\n' +\n              i18n"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.reminderGracePeriod",
    "files": [
      {
        "file": "src/services/vip_subscription.ts",
        "line": 99,
        "context": "              i18n.t('vip.reminderExpiringTodayDesc') + '\\n\\n' +\n              i18n.t('vip.reminderRenewHint2') + '\\n' +\n              i18n.t('vip.reminderGracePeriod');\n\n        await telegram.sendMe"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.cancelReminderButton",
    "files": [
      {
        "file": "src/services/vip_subscription.ts",
        "line": 103,
        "context": "        await telegram.sendMessageWithButtons(parseInt(sub.user_id), message, [\n          [{ text: i18n.t('vip.renewButton', { stars: priceStars }), callback_data: 'vip_renew' }],\n          [{ text: i"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.vipNoAds",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 94,
        "context": "    if (user.is_vip) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('adReward.vipNoAds'),\n        show_alert: true,\n      });"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.pendingAd",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 104,
        "context": "    if (activeSession) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('adReward.pendingAd'),\n        show_alert: true,\n      });"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.cannotWatchMore",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 117,
        "context": "    if (!checkResult.can_watch) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: checkResult.reason || i18n.t('adReward.cannotWatchMore'),\n        show_alert: true,\n      }"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.noProviders",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 127,
        "context": "    if (providers.length === 0) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('adReward.noProviders'),\n        show_alert: true,\n      });"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.cannotSelectProvider",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 139,
        "context": "    if (!selection) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('adReward.cannotSelectProvider'),\n        show_alert: true,\n      });"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.watchAdTitle",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 156,
        "context": "    // Send message with ad link\n    const remainingAds = checkResult.remaining_ads;\n    const message = i18n.t('adReward.watchAdTitle') + '\\n\\n' +\n      i18n.t('adReward.watchAdReward') + '\\n' +\n    "
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.watchAdReward",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 157,
        "context": "    const remainingAds = checkResult.remaining_ads;\n    const message = i18n.t('adReward.watchAdTitle') + '\\n\\n' +\n      i18n.t('adReward.watchAdReward') + '\\n' +\n      i18n.t('adReward.watchAdRemaini"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.watchAdClickButton",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 159,
        "context": "      i18n.t('adReward.watchAdReward') + '\\n' +\n      i18n.t('adReward.watchAdRemaining', { remaining: remainingAds }) + '\\n\\n' +\n      i18n.t('adReward.watchAdClickButton');\n\n    await telegram.sendM"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.startWatchButton",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 166,
        "context": "          [\n            {\n              text: i18n.t('adReward.startWatchButton'),\n              url: adPageUrl,\n            },"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.clickButtonHint",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 181,
        "context": "\n    await telegram.answerCallbackQuery(callbackQuery.id, {\n      text: i18n.t('adReward.clickButtonHint'),\n    });\n  } catch (error) {"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.completedTitle",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 385,
        "context": "\n    // Send notification to user\n    const notificationMessage = i18n.t('adReward.completedTitle') + '\\n\\n' +\n      i18n.t('adReward.completedReward') + '\\n' +\n      i18n.t('adReward.completedWatched"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.completedReward",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 386,
        "context": "    // Send notification to user\n    const notificationMessage = i18n.t('adReward.completedTitle') + '\\n\\n' +\n      i18n.t('adReward.completedReward') + '\\n' +\n      i18n.t('adReward.completedWatched'"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.continueWatching",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 390,
        "context": "      i18n.t('adReward.completedEarned', { earned: updated.quota_earned }) + '\\n' +\n      i18n.t('adReward.completedRemaining', { remaining: result.remaining_ads }) + '\\n\\n' +\n      (result.remaining_"
      }
    ],
    "count": 1
  },
  {
    "key": "adReward.dailyLimitReached",
    "files": [
      {
        "file": "src/telegram/handlers/ad_reward.ts",
        "line": 390,
        "context": "      i18n.t('adReward.completedEarned', { earned: updated.quota_earned }) + '\\n' +\n      i18n.t('adReward.completedRemaining', { remaining: result.remaining_ads }) + '\\n\\n' +\n      (result.remaining_"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.noProviders",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 46,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.adConfig.noProviders') + '\\n\\n' +\n          i18n.t('admin.adConfig.addProviderScript') + '\\n' +\n          '`scripts/init-ad-prov"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.addProviderScript",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 47,
        "context": "        chatId,\n        i18n.t('admin.adConfig.noProviders') + '\\n\\n' +\n          i18n.t('admin.adConfig.addProviderScript') + '\\n' +\n          '`scripts/init-ad-providers-test.sql`'\n      );"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.providerList",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 53,
        "context": "    }\n\n    let message_text = i18n.t('admin.adConfig.providerList') + '\\n\\n';\n\n    for (const provider of providers) {"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.testMode",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 66,
        "context": "\n      if (config.test_mode) {\n        message_text += i18n.t('admin.adConfig.testMode') + '\\n';\n      }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.enableCommand",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 74,
        "context": "    message_text += '━━━━━━━━━━━━━━━━\\n';\n    message_text += i18n.t('admin.adConfig.managementCommands') + '\\n';\n    message_text += i18n.t('admin.adConfig.enableCommand') + '\\n';\n    message_text +="
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.disableCommand",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 75,
        "context": "    message_text += i18n.t('admin.adConfig.managementCommands') + '\\n';\n    message_text += i18n.t('admin.adConfig.enableCommand') + '\\n';\n    message_text += i18n.t('admin.adConfig.disableCommand') +"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.priorityCommand",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 76,
        "context": "    message_text += i18n.t('admin.adConfig.enableCommand') + '\\n';\n    message_text += i18n.t('admin.adConfig.disableCommand') + '\\n';\n    message_text += i18n.t('admin.adConfig.priorityCommand');\n\n  "
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.getListFailed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 82,
        "context": "    console.error('[handleAdProviders] Error:', error);\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('admin.adConfig.getListFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.enableFailed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 120,
        "context": "    console.error('[handleAdProviderEnable] Error:', error);\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('admin.adConfig.enableFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.disableFailed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 158,
        "context": "    console.error('[handleAdProviderDisable] Error:', error);\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('admin.adConfig.disableFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.priorityMustBeNonNegative",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 192,
        "context": "\n    if (isNaN(priority) || priority < 0) {\n      await telegram.sendMessage(chatId, i18n.t('admin.adConfig.priorityMustBeNonNegative'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.prioritySet",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 201,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.adConfig.prioritySet') + '\\n\\n' +\n        i18n.t('admin.adConfig.provider', { name: providerName }) + '\\n' +\n        i18n.t('admin.adC"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.setPriorityFailed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 209,
        "context": "    console.error('[handleAdProviderPriority] Error:', error);\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('admin.adConfig.setPriorityFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.noOfficialAds",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 235,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.adConfig.noOfficialAds') + '\\n\\n' +\n          i18n.t('admin.adConfig.addOfficialAdScript') + '\\n' +\n          '`scripts/create-o"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.addOfficialAdScript",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 236,
        "context": "        chatId,\n        i18n.t('admin.adConfig.noOfficialAds') + '\\n\\n' +\n          i18n.t('admin.adConfig.addOfficialAdScript') + '\\n' +\n          '`scripts/create-official-ads.sql`'\n      );"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.officialAdList",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 243,
        "context": "\n    const i18n = createI18n('zh-TW');\n    let message_text = i18n.t('admin.adConfig.officialAdList') + '\\n\\n';\n\n    for (const ad of ads) {"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.enableOfficialAdCommand",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 267,
        "context": "    message_text += '━━━━━━━━━━━━━━━━\\n';\n    message_text += i18n.t('admin.adConfig.managementCommands') + '\\n';\n    message_text += i18n.t('admin.adConfig.enableOfficialAdCommand') + '\\n';\n    messa"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.disableOfficialAdCommand",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 268,
        "context": "    message_text += i18n.t('admin.adConfig.managementCommands') + '\\n';\n    message_text += i18n.t('admin.adConfig.enableOfficialAdCommand') + '\\n';\n    message_text += i18n.t('admin.adConfig.disableO"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.viewStatsCommand",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 269,
        "context": "    message_text += i18n.t('admin.adConfig.enableOfficialAdCommand') + '\\n';\n    message_text += i18n.t('admin.adConfig.disableOfficialAdCommand') + '\\n';\n    message_text += i18n.t('admin.adConfig.vi"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.getOfficialAdListFailed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 275,
        "context": "    console.error('[handleOfficialAds] Error:', error);\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('admin.adConfig.getOfficialAdListFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.enableOfficialAdFailed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 317,
        "context": "    console.error('[handleOfficialAdEnable] Error:', error);\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('admin.adConfig.enableOfficialAdFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.adConfig.disableOfficialAdFailed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ad_config.ts",
        "line": 359,
        "context": "    console.error('[handleOfficialAdDisable] Error:', error);\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('admin.adConfig.disableOfficialAdFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.analytics.noPermission",
    "files": [
      {
        "file": "src/telegram/handlers/admin_analytics.ts",
        "line": 47,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    if (!user || user.role !== 'god') {\n      await telegram.sendMessage(chatId, i18n.t('admin.analytics.noPermission'));\n      return;\n   "
      }
    ],
    "count": 1
  },
  {
    "key": "admin.analytics.getDataFailed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_analytics.ts",
        "line": 62,
        "context": "    console.error('[handleAnalytics] Error:', error);\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('admin.analytics.getDataFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.analytics.noPermissionAd",
    "files": [
      {
        "file": "src/telegram/handlers/admin_analytics.ts",
        "line": 87,
        "context": "    if (!user || user.role !== 'god') {\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('admin.analytics.noPermissionAd'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.analytics.getAdDataFailed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_analytics.ts",
        "line": 109,
        "context": "    console.error('[handleAdPerformance] Error:', error);\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('admin.analytics.getAdDataFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.analytics.noPermissionVip",
    "files": [
      {
        "file": "src/telegram/handlers/admin_analytics.ts",
        "line": 139,
        "context": "      console.error('[handleVIPFunnel] Permission denied for user:', telegramId);\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('admin.analytics.noPermissionV"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.analytics.getVipDataFailed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_analytics.ts",
        "line": 169,
        "context": "    console.error('[handleVIPFunnel] Error:', error);\n    const i18n = createI18n('zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('admin.analytics.getVipDataFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.banUsageError",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 81,
        "context": "\n    if (parts.length < 2) {\n      await telegram.sendMessage(chatId, i18n.t('admin.banUsageError'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.cannotBanAdmin",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 91,
        "context": "    const adminIds = getAdminIds(env);\n    if (adminIds.includes(targetUserId)) {\n      await telegram.sendMessage(chatId, i18n.t('admin.cannotBanAdmin'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.banUserNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 98,
        "context": "    const targetUser = await findUserByTelegramId(db, targetUserId);\n    if (!targetUser) {\n      await telegram.sendMessage(chatId, i18n.t('admin.banUserNotFound'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.durationMustBePositive",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 114,
        "context": "      const hours = parseInt(durationArg);\n      if (isNaN(hours) || hours <= 0) {\n        await telegram.sendMessage(chatId, i18n.t('admin.ban.durationMustBePositive'));\n        return;\n      }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.unbanUsageError",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 229,
        "context": "\n    if (parts.length < 2) {\n      await telegram.sendMessage(chatId, i18n.t('admin.unbanUsageError'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.unbanUserNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 238,
        "context": "    const targetUser = await findUserByTelegramId(db, targetUserId);\n    if (!targetUser) {\n      await telegram.sendMessage(chatId, i18n.t('admin.unbanUserNotFound'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.unbanNotBanned",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 244,
        "context": "    // Check if user is banned\n    if (!targetUser.is_banned) {\n      await telegram.sendMessage(chatId, i18n.t('admin.unbanNotBanned'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.listNotRegistered",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 325,
        "context": "      adminInfos.push({\n        id: adminId,\n        nickname: admin?.nickname || i18n.t('admin.listNotRegistered'),\n        username: admin?.username || '-',\n        role: isSuperAdminFlag ? i18n.t('"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.listRoleSuperAdmin",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 327,
        "context": "        nickname: admin?.nickname || i18n.t('admin.listNotRegistered'),\n        username: admin?.username || '-',\n        role: isSuperAdminFlag ? i18n.t('admin.listRoleSuperAdmin') : i18n.t('admin.li"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.listRoleAdmin",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 327,
        "context": "        nickname: admin?.nickname || i18n.t('admin.listNotRegistered'),\n        username: admin?.username || '-',\n        role: isSuperAdminFlag ? i18n.t('admin.listRoleSuperAdmin') : i18n.t('admin.li"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.listTitle",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 331,
        "context": "    }\n\n    let listMessage = i18n.t('admin.listTitle') + `\\n\\n`;\n    listMessage += i18n.t('admin.listTotal', { count: adminInfos.length }) + `\\n\\n`;\n"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.listFooter",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 342,
        "context": "\n    listMessage += `━━━━━━━━━━━━━━━━\\n`;\n    listMessage += i18n.t('admin.listFooter');\n\n    await telegram.sendMessage(chatId, listMessage);"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.addUsageError",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 375,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.addUsageError') +\n          i18n.t('admin.adConfig.correctFormat') + '\\n' +\n          i18n.t('admin.addCommand') +"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.addCommand",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 377,
        "context": "        i18n.t('admin.addUsageError') +\n          i18n.t('admin.adConfig.correctFormat') + '\\n' +\n          i18n.t('admin.addCommand') +\n          i18n.t('admin.adConfig.example') + '\\n' +\n          i"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.addExample",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 379,
        "context": "          i18n.t('admin.addCommand') +\n          i18n.t('admin.adConfig.example') + '\\n' +\n          i18n.t('admin.addExample') +\n          i18n.t('admin.admin')\n      );"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.addAlreadySuperAdmin",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 389,
        "context": "    // Check if already super admin\n    if (isSuperAdmin(targetUserId)) {\n      await telegram.sendMessage(chatId, i18n.t('admin.addAlreadySuperAdmin'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.addAlreadyAdmin",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 396,
        "context": "    const currentAdminIds = getAdminIds(env);\n    if (currentAdminIds.includes(targetUserId)) {\n      await telegram.sendMessage(chatId, i18n.t('admin.addAlreadyAdmin'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.addUserNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 403,
        "context": "    const targetUser = await findUserByTelegramId(db, targetUserId);\n    if (!targetUser) {\n      await telegram.sendMessage(chatId, i18n.t('admin.addUserNotFound'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.removeUsageError",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 445,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.removeUsageError') +\n          i18n.t('admin.adConfig.correctFormat') + '\\n' +\n          i18n.t('admin.removeCommand') +"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.removeCommand",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 447,
        "context": "        i18n.t('admin.removeUsageError') +\n          i18n.t('admin.adConfig.correctFormat') + '\\n' +\n          i18n.t('admin.removeCommand') +\n          i18n.t('admin.adConfig.example') + '\\n' +\n     "
      }
    ],
    "count": 1
  },
  {
    "key": "admin.removeExample",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 449,
        "context": "          i18n.t('admin.removeCommand') +\n          i18n.t('admin.adConfig.example') + '\\n' +\n          i18n.t('admin.removeExample') +\n          i18n.t('admin.admin')\n      );"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.removeCannotRemoveSuperAdmin",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 459,
        "context": "    // Cannot remove super admin\n    if (isSuperAdmin(targetUserId)) {\n      await telegram.sendMessage(chatId, i18n.t('admin.removeCannotRemoveSuperAdmin'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.notAdmin",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 468,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW'); // Admin messages default to zh-TW\n      await telegram.sendMessage(chatId, i18n.t('admin.ban.notAdmin'));\n"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 509,
        "context": "  // Get user\n  if (!user) {\n    await telegram.sendMessage(chatId, i18n.t('admin.userNotFound'));\n    return;\n  }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.noBanRecordsList",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 540,
        "context": "    const i18n = createI18n('zh-TW');\n    if (!recentBans.results || recentBans.results.length === 0) {\n      await telegram.sendMessage(chatId, i18n.t('admin.ban.noBanRecordsList'));\n      return;\n  "
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.recentBans",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 545,
        "context": "\n    const i18n = createI18n('zh-TW');\n    let message = i18n.t('admin.ban.recentBans') + '\\n\\n';\n    for (const ban of recentBans.results) {\n      const banStart = new Date(ban.ban_start).toLocaleStr"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.viewHistory",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 575,
        "context": "    }\n\n    message += i18n.t('admin.ban.viewHistory');\n\n    await telegram.sendMessage(chatId, message);"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.userBanHistory",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 606,
        "context": "\n  const targetUser = await findUserByTelegramId(db, targetUserId);\n  let responseText = i18n.t('admin.ban.userBanHistory') + '\\n\\n';\n  responseText += i18n.t('admin.ban.user', { user: targetUser?.nic"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.noAppeals",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 683,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n('zh-TW'); // Admin messages default to zh-TW\n    await telegram.sendMessage(chatId, i18n.t('admin.ban.noAppeals'));\n    r"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.appealList",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 689,
        "context": "  const { createI18n } = await import('~/i18n');\n  const i18n = createI18n('zh-TW'); // Admin messages default to zh-TW\n  let responseText = i18n.t('admin.ban.appealList');\n  for (const appeal of pend"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.appealReviewHint",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 709,
        "context": "\n  responseText +=\n    i18n.t('admin.appealReviewHint') +\n    i18n.t('admin.appealReviewCommands');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.appealReviewCommands",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 710,
        "context": "  responseText +=\n    i18n.t('admin.appealReviewHint') +\n    i18n.t('admin.appealReviewCommands');\n\n  await telegram.sendMessage(chatId, responseText);"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.appealApproved",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 737,
        "context": "  const { createI18n } = await import('~/i18n');\n  const i18n = createI18n('zh-TW'); // Admin messages default to zh-TW\n  const notes = parts.slice(2).join(' ') || i18n.t('admin.ban.appealApproved');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.usageApprove",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 742,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.ban.provideAppealId') + i18n.t('admin.ban.usageApprove')\n    );\n    return;"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.appealRejected",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 826,
        "context": "  const { createI18n } = await import('~/i18n');\n  const i18n = createI18n('zh-TW'); // Admin messages default to zh-TW\n  const notes = parts.slice(2).join(' ') || i18n.t('admin.ban.appealRejected');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.ban.usageReject",
    "files": [
      {
        "file": "src/telegram/handlers/admin_ban.ts",
        "line": 831,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.ban.provideAppealId') + i18n.t('admin.ban.usageReject')\n    );\n    return;"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.title",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 92,
        "context": "\n    // Build diagnosis message\n    let message = i18n.t('admin.diagnose.title') + '\\n\\n';\n    message += i18n.t('admin.diagnose.userInfo') + '\\n';\n    message += i18n.t('admin.diagnose.userId', { use"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.userInfo",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 93,
        "context": "    // Build diagnosis message\n    let message = i18n.t('admin.diagnose.title') + '\\n\\n';\n    message += i18n.t('admin.diagnose.userInfo') + '\\n';\n    message += i18n.t('admin.diagnose.userId', { user"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.none",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 96,
        "context": "    message += i18n.t('admin.diagnose.userId', { userId }) + '\\n';\n    message += i18n.t('admin.diagnose.nickname', { nickname: user.nickname || i18n.t('common.notSet') }) + '\\n';\n    message += i18n."
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.yes",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 97,
        "context": "    message += i18n.t('admin.diagnose.nickname', { nickname: user.nickname || i18n.t('common.notSet') }) + '\\n';\n    message += i18n.t('admin.diagnose.username', { username: user.username || i18n.t('a"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.no",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 97,
        "context": "    message += i18n.t('admin.diagnose.nickname', { nickname: user.nickname || i18n.t('common.notSet') }) + '\\n';\n    message += i18n.t('admin.diagnose.username', { username: user.username || i18n.t('a"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.avatarCache",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 103,
        "context": "    }\n\n    message += `\\n` + i18n.t('admin.diagnose.avatarCache') + '\\n';\n    if (avatarInfo?.avatar_file_id) {\n      message += i18n.t('admin.diagnose.fileId', { fileId: avatarInfo.avatar_file_id.sub"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.unknown",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 108,
        "context": "      message += i18n.t('admin.diagnose.originalUrl', { status: avatarInfo.avatar_original_url ? '✅' : '❌' }) + '\\n';\n      message += i18n.t('admin.diagnose.blurredUrl', { status: avatarInfo.avatar_b"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.noCache",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 110,
        "context": "      message += i18n.t('admin.diagnose.updatedAt', { date: avatarInfo.avatar_updated_at ? new Date(avatarInfo.avatar_updated_at).toLocaleString('zh-TW') : i18n.t('admin.diagnose.unknown') }) + '\\n';\n"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.historyPosts",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 113,
        "context": "    }\n\n    message += `\\n` + i18n.t('admin.diagnose.historyPosts') + '\\n';\n    if (historyPosts.results && historyPosts.results.length > 0) {\n      message += i18n.t('admin.diagnose.totalPosts', { cou"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.noHistoryPosts",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 130,
        "context": "      }\n    } else {\n      message += i18n.t('admin.diagnose.noHistoryPosts') + '\\n';\n    }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.analysis",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 134,
        "context": "\n    // Analysis\n    message += `\\n` + i18n.t('admin.diagnose.analysis') + '\\n';\n\n    if (!historyPosts.results || historyPosts.results.length === 0) {"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.noHistoryPostsWarning",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 137,
        "context": "\n    if (!historyPosts.results || historyPosts.results.length === 0) {\n      message += i18n.t('admin.diagnose.noHistoryPostsWarning') + '\\n';\n      message += i18n.t('admin.diagnose.historyPostsHint'"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.historyPostsHint",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 138,
        "context": "    if (!historyPosts.results || historyPosts.results.length === 0) {\n      message += i18n.t('admin.diagnose.noHistoryPostsWarning') + '\\n';\n      message += i18n.t('admin.diagnose.historyPostsHint')"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.refreshHint",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 146,
        "context": "      if (outdatedPosts.length > 0) {\n        message += i18n.t('admin.diagnose.outdatedPostsFound', { count: outdatedPosts.length }) + '\\n';\n        message += i18n.t('admin.diagnose.refreshHint') + "
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.allUpToDateVip",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 148,
        "context": "        message += i18n.t('admin.diagnose.refreshHint') + '\\n';\n      } else if (isVip) {\n        message += i18n.t('admin.diagnose.allUpToDateVip') + '\\n';\n      } else {\n        message += i18n.t('a"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.allUpToDateFree",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 150,
        "context": "        message += i18n.t('admin.diagnose.allUpToDateVip') + '\\n';\n      } else {\n        message += i18n.t('admin.diagnose.allUpToDateFree') + '\\n';\n      }\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.diagnose.failed",
    "files": [
      {
        "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
        "line": 161,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.diagnose.failed') + '\\n\\n' + i18n.t('admin.diagnose.error', { error: error instanceof Error ? error.message : String(error) })\n    );\n"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.refresh.noRefreshNeeded",
    "files": [
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 43,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('admin.refresh.noRefreshNeeded') + '\\n\\n' +\n          i18n.t('admin.refresh.stats') + '\\n' +\n          i18n.t('admin.refresh.totalVipUs"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.refresh.allUpToDate",
    "files": [
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 48,
        "context": "          i18n.t('admin.refresh.usersNeedingRefresh', { count: stats.usersNeedingRefresh }) + '\\n' +\n          i18n.t('admin.refresh.outdatedPosts', { count: stats.totalOutdatedPosts }) + '\\n\\n' +\n   "
      }
    ],
    "count": 1
  },
  {
    "key": "admin.refresh.startingBatchRefresh",
    "files": [
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 59,
        "context": "    const initialMsg = await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.refresh.startingBatchRefresh') + '\\n\\n' +\n        i18n.t('admin.refresh.stats') + '\\n' +\n        i18n.t('admin.refr"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.refresh.processing",
    "files": [
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 64,
        "context": "        i18n.t('admin.refresh.usersNeedingRefresh', { count: stats.usersNeedingRefresh }) + '\\n' +\n        i18n.t('admin.refresh.outdatedPosts', { count: stats.totalOutdatedPosts }) + '\\n\\n' +\n       "
      }
    ],
    "count": 1
  },
  {
    "key": "admin.refresh.batchComplete",
    "files": [
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 79,
        "context": "\n    // Send detailed results\n    let resultMessage = i18n.t('admin.refresh.batchComplete') + '\\n\\n';\n    resultMessage += i18n.t('admin.refresh.duration', { duration }) + '\\n\\n';\n    resultMessage +="
      }
    ],
    "count": 1
  },
  {
    "key": "admin.refresh.summary",
    "files": [
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 81,
        "context": "    let resultMessage = i18n.t('admin.refresh.batchComplete') + '\\n\\n';\n    resultMessage += i18n.t('admin.refresh.duration', { duration }) + '\\n\\n';\n    resultMessage += i18n.t('admin.refresh.summary"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.refresh.details",
    "files": [
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 89,
        "context": "\n    if (results.details.length > 0) {\n      resultMessage += i18n.t('admin.refresh.details') + '\\n';\n      for (const detail of results.details.slice(0, 10)) {\n        // Show first 10"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.refresh.errorOccurred",
    "files": [
      {
        "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
        "line": 109,
        "context": "      chatId,\n      i18n.t('admin.refresh.failed') + '\\n\\n' +\n        i18n.t('admin.refresh.errorOccurred') + '\\n\\n' +\n        i18n.t('admin.refresh.error', { error: error instanceof Error ? error.mes"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.refresh.startingRefresh",
    "files": [
      {
        "file": "src/telegram/handlers/admin_test_refresh.ts",
        "line": 33,
        "context": "    }\n\n    await telegram.sendMessage(chatId, i18n.t('admin.refresh.startingRefresh'));\n\n    console.error('[AdminTestRefresh] Starting refresh for user:', telegramId);"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.refresh.complete",
    "files": [
      {
        "file": "src/telegram/handlers/admin_test_refresh.ts",
        "line": 43,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('admin.refresh.complete') + '\\n\\n' +\n        i18n.t('admin.refresh.updated', { count: result.updated }) + '\\n' +\n        i18n.t('admin.refres"
      }
    ],
    "count": 1
  },
  {
    "key": "admin.refresh.checkHint",
    "files": [
      {
        "file": "src/telegram/handlers/admin_test_refresh.ts",
        "line": 46,
        "context": "        i18n.t('admin.refresh.updated', { count: result.updated }) + '\\n' +\n        i18n.t('admin.refresh.failed', { count: result.failed }) + '\\n\\n' +\n        i18n.t('admin.refresh.checkHint'),\n     "
      }
    ],
    "count": 1
  },
  {
    "key": "appeal.statusApproved",
    "files": [
      {
        "file": "src/telegram/handlers/appeal.ts",
        "line": 205,
        "context": "    statusText = i18n.t('appeal.statusPending');\n  } else if (appeal.status === 'approved') {\n    statusText = i18n.t('appeal.statusApproved');\n  } else if (appeal.status === 'rejected') {\n    statusT"
      }
    ],
    "count": 1
  },
  {
    "key": "appeal.statusRejected",
    "files": [
      {
        "file": "src/telegram/handlers/appeal.ts",
        "line": 207,
        "context": "    statusText = i18n.t('appeal.statusApproved');\n  } else if (appeal.status === 'rejected') {\n    statusText = i18n.t('appeal.statusRejected');\n  }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "appeal.reviewedAt",
    "files": [
      {
        "file": "src/telegram/handlers/appeal.ts",
        "line": 237,
        "context": "    );\n    reviewInfo =\n      i18n.t('appeal.reviewedAt') + reviewedAt +\n      '\\n' +\n      (appeal.review_notes"
      }
    ],
    "count": 1
  },
  {
    "key": "appeal.notes",
    "files": [
      {
        "file": "src/telegram/handlers/appeal.ts",
        "line": 240,
        "context": "      '\\n' +\n      (appeal.review_notes\n        ? i18n.t('appeal.notes') + appeal.review_notes\n        : '');\n  }"
      }
    ],
    "count": 1
  },
  {
    "key": "block.replyRequired",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 41,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('block.replyRequired') + '\\n\\n' +\n          i18n.t('block.steps') + '\\n' +\n          i18n.t('block.step1') + '\\n' +"
      }
    ],
    "count": 1
  },
  {
    "key": "block.steps",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 42,
        "context": "        chatId,\n        i18n.t('block.replyRequired') + '\\n\\n' +\n          i18n.t('block.steps') + '\\n' +\n          i18n.t('block.step1') + '\\n' +\n          i18n.t('block.step2') + '\\n' +"
      }
    ],
    "count": 1
  },
  {
    "key": "block.step1",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 43,
        "context": "        i18n.t('block.replyRequired') + '\\n\\n' +\n          i18n.t('block.steps') + '\\n' +\n          i18n.t('block.step1') + '\\n' +\n          i18n.t('block.step2') + '\\n' +\n          i18n.t('block.step"
      }
    ],
    "count": 1
  },
  {
    "key": "block.step2",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 44,
        "context": "          i18n.t('block.steps') + '\\n' +\n          i18n.t('block.step1') + '\\n' +\n          i18n.t('block.step2') + '\\n' +\n          i18n.t('block.step3') + '\\n\\n' +\n          i18n.t('block.hint')"
      }
    ],
    "count": 1
  },
  {
    "key": "block.step3",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 45,
        "context": "          i18n.t('block.step1') + '\\n' +\n          i18n.t('block.step2') + '\\n' +\n          i18n.t('block.step3') + '\\n\\n' +\n          i18n.t('block.hint')\n      );"
      }
    ],
    "count": 1
  },
  {
    "key": "block.hint",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 46,
        "context": "          i18n.t('block.step2') + '\\n' +\n          i18n.t('block.step3') + '\\n\\n' +\n          i18n.t('block.hint')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "block.cannotIdentify",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 58,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('block.cannotIdentify') + '\\n\\n' + i18n.t('block.ensureReply')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "block.ensureReply",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 58,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('block.cannotIdentify') + '\\n\\n' + i18n.t('block.ensureReply')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "block.conversationNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 81,
        "context": "\n    if (!conversation) {\n      await telegram.sendMessage(chatId, i18n.t('block.conversationNotFound') + '\\n\\n' + i18n.t('block.conversationMayEnded'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "block.conversationMayEnded",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 81,
        "context": "\n    if (!conversation) {\n      await telegram.sendMessage(chatId, i18n.t('block.conversationNotFound') + '\\n\\n' + i18n.t('block.conversationMayEnded'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "block.conversationInfoError",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 88,
        "context": "    const otherUserId = getOtherUserId(conversation, telegramId);\n    if (!otherUserId) {\n      await telegram.sendMessage(chatId, i18n.t('block.conversationInfoError'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "block.willNotMatch",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 110,
        "context": "      chatId,\n      i18n.t('block.success', { identifier: conversationIdentifier }) + '\\n\\n' +\n        i18n.t('block.willNotMatch') + '\\n\\n' +\n        i18n.t('block.catchNewBottle')\n    );"
      }
    ],
    "count": 1
  },
  {
    "key": "block.catchNewBottle",
    "files": [
      {
        "file": "src/telegram/handlers/block.ts",
        "line": 111,
        "context": "      i18n.t('block.success', { identifier: conversationIdentifier }) + '\\n\\n' +\n        i18n.t('block.willNotMatch') + '\\n\\n' +\n        i18n.t('block.catchNewBottle')\n    );\n  } catch (error) {"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.example",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 42,
        "context": "          i18n.t('broadcast.correctFormat') +\n          `/broadcast <${i18n.t('broadcast.messageContent')}>\\n\\n` +\n          i18n.t('broadcast.example') +\n          `/broadcast ${i18n.t('broadcast.exa"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.exampleMessage",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 43,
        "context": "          `/broadcast <${i18n.t('broadcast.messageContent')}>\\n\\n` +\n          i18n.t('broadcast.example') +\n          `/broadcast ${i18n.t('broadcast.exampleMessage')}`\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.targetAll",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 79,
        "context": "      i18n.t('broadcast.created') +\n        i18n.t('broadcast.id', { id: broadcastId }) +\n        i18n.t('broadcast.target', { target: i18n.t('broadcast.targetAll') }) +\n        i18n.t('broadcast.user"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.createFailed",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 88,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('broadcast.createFailed'));\n  }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.targetVip",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 143,
        "context": "      i18n.t('broadcast.created') +\n        i18n.t('broadcast.id', { id: broadcastId }) +\n        i18n.t('broadcast.target', { target: i18n.t('broadcast.targetVip') }) +\n        i18n.t('broadcast.user"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.targetNonVip",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 207,
        "context": "      i18n.t('broadcast.created') +\n        i18n.t('broadcast.id', { id: broadcastId }) +\n        i18n.t('broadcast.target', { target: i18n.t('broadcast.targetNonVip') }) +\n        i18n.t('broadcast.u"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.queueProcessed",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 256,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('broadcast.queueProcessed') +\n          i18n.t('broadcast.noPendingBroadcasts') +\n          i18n.t('broadcast.viewAllRecords')"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.noPendingBroadcasts",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 257,
        "context": "        chatId,\n        i18n.t('broadcast.queueProcessed') +\n          i18n.t('broadcast.noPendingBroadcasts') +\n          i18n.t('broadcast.viewAllRecords')\n      );"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.viewAllRecords",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 258,
        "context": "        i18n.t('broadcast.queueProcessed') +\n          i18n.t('broadcast.noPendingBroadcasts') +\n          i18n.t('broadcast.viewAllRecords')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.statusPending",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 266,
        "context": "    const broadcast = pendingBroadcasts.results[0];\n    const statusEmoji = broadcast.status === 'pending' ? '⏳' : '🔄';\n    const statusText = broadcast.status === 'pending' ? i18n.t('broadcast.statu"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.statusStuck",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 266,
        "context": "    const broadcast = pendingBroadcasts.results[0];\n    const statusEmoji = broadcast.status === 'pending' ? '⏳' : '🔄';\n    const statusText = broadcast.status === 'pending' ? i18n.t('broadcast.statu"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.checkProgressLater",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 278,
        "context": "    }\n\n    message += i18n.t('broadcast.checkProgressLater');\n\n    await telegram.sendMessage(chatId, message);"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.cancelUsageError",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 314,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('broadcast.cancelUsageError') +\n          i18n.t('broadcast.cancelCorrectFormat') +\n          i18n.t('broadcast.cancelCommand') +"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.cancelCorrectFormat",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 315,
        "context": "        chatId,\n        i18n.t('broadcast.cancelUsageError') +\n          i18n.t('broadcast.cancelCorrectFormat') +\n          i18n.t('broadcast.cancelCommand') +\n          i18n.t('broadcast.cancelExamp"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.cancelCommand",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 316,
        "context": "        i18n.t('broadcast.cancelUsageError') +\n          i18n.t('broadcast.cancelCorrectFormat') +\n          i18n.t('broadcast.cancelCommand') +\n          i18n.t('broadcast.cancelExample') +\n         "
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.cancelExample",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 317,
        "context": "          i18n.t('broadcast.cancelCorrectFormat') +\n          i18n.t('broadcast.cancelCommand') +\n          i18n.t('broadcast.cancelExample') +\n          i18n.t('broadcast.cancelExampleCommand')\n     "
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.cancelExampleCommand",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 318,
        "context": "          i18n.t('broadcast.cancelCommand') +\n          i18n.t('broadcast.cancelExample') +\n          i18n.t('broadcast.cancelExampleCommand')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.admin",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 350,
        "context": "         WHERE id = ?`\n      )\n      .bind(i18n.t('broadcast.admin'), broadcastId)\n      .run();\n    await telegram.sendMessage("
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.cancelled",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 354,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('broadcast.cancelled') +\n        i18n.t('broadcast.cancelledId', { id: broadcastId }) +\n        i18n.t('broadcast.cancelledStatus') +"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.cancelledStatus",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 356,
        "context": "      i18n.t('broadcast.cancelled') +\n        i18n.t('broadcast.cancelledId', { id: broadcastId }) +\n        i18n.t('broadcast.cancelledStatus') +\n        i18n.t('broadcast.viewUpdatedStatus')\n    );"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.viewUpdatedStatus",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 357,
        "context": "        i18n.t('broadcast.cancelledId', { id: broadcastId }) +\n        i18n.t('broadcast.cancelledStatus') +\n        i18n.t('broadcast.viewUpdatedStatus')\n    );\n  } catch (error) {"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.noRecords",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 403,
        "context": "\n      if (!broadcasts.results || broadcasts.results.length === 0) {\n        await telegram.sendMessage(chatId, i18n.t('broadcast.noRecords'));\n        return;\n      }"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.recentRecords",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 407,
        "context": "      }\n\n      let responseMessage = i18n.t('broadcast.recentRecords');\n      for (const b of broadcasts.results) {\n        responseMessage += i18n.t('broadcast.recordId', { id: b.id });"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.viewDetailsHint",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 416,
        "context": "      }\n\n      responseMessage += i18n.t('broadcast.viewDetailsHint');\n      console.error('[handleBroadcastStatus] Sending response');\n      await telegram.sendMessage(chatId, responseMessage);"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.noStuckBroadcasts",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 489,
        "context": "\n    if (!stuckBroadcasts.results || stuckBroadcasts.results.length === 0) {\n      await telegram.sendMessage(chatId, i18n.t('broadcast.noStuckBroadcasts') + i18n.t('broadcast.allBroadcastsNormal'));\n"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.allBroadcastsNormal",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 489,
        "context": "\n    if (!stuckBroadcasts.results || stuckBroadcasts.results.length === 0) {\n      await telegram.sendMessage(chatId, i18n.t('broadcast.noStuckBroadcasts') + i18n.t('broadcast.allBroadcastsNormal'));\n"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.stuckBroadcastDivider",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 513,
        "context": "      }\n\n      message_text += i18n.t('broadcast.stuckBroadcastDivider');\n      message_text += i18n.t('broadcast.stuckBroadcastWillMarkFailed');\n      message_text += i18n.t('broadcast.stuckBroadcast"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.stuckBroadcastWillMarkFailed",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 514,
        "context": "\n      message_text += i18n.t('broadcast.stuckBroadcastDivider');\n      message_text += i18n.t('broadcast.stuckBroadcastWillMarkFailed');\n      message_text += i18n.t('broadcast.stuckBroadcastNoRetry'"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.stuckBroadcastNoRetry",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 515,
        "context": "      message_text += i18n.t('broadcast.stuckBroadcastDivider');\n      message_text += i18n.t('broadcast.stuckBroadcastWillMarkFailed');\n      message_text += i18n.t('broadcast.stuckBroadcastNoRetry')"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.stuckBroadcastConfirm",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 516,
        "context": "      message_text += i18n.t('broadcast.stuckBroadcastWillMarkFailed');\n      message_text += i18n.t('broadcast.stuckBroadcastNoRetry');\n      message_text += i18n.t('broadcast.stuckBroadcastConfirm')"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.stuckBroadcastConfirmCommand",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 517,
        "context": "      message_text += i18n.t('broadcast.stuckBroadcastNoRetry');\n      message_text += i18n.t('broadcast.stuckBroadcastConfirm');\n      message_text += i18n.t('broadcast.stuckBroadcastConfirmCommand')"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.admin2",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 533,
        "context": "         WHERE id IN (${ids.map(() => '?').join(', ')})`\n      )\n      .bind(i18n.t('broadcast.admin2'), ...ids)\n      .run();\n"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.cleanupMarkedFailed",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 540,
        "context": "      i18n.t('broadcast.cleanupSuccess', { count: ids.length }) +\n        i18n.t('broadcast.cleanupIds', { ids: ids.join(', ') }) +\n        i18n.t('broadcast.cleanupMarkedFailed') +\n        i18n.t('br"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.cleanupViewStatus",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 541,
        "context": "        i18n.t('broadcast.cleanupIds', { ids: ids.join(', ') }) +\n        i18n.t('broadcast.cleanupMarkedFailed') +\n        i18n.t('broadcast.cleanupViewStatus')\n    );\n  } catch (error) {"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterUsageError",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 583,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('broadcast.filterUsageError') +\n          i18n.t('broadcast.filterCorrectFormat') +\n          i18n.t('broadcast.filterCommand') +"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterCorrectFormat",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 584,
        "context": "        chatId,\n        i18n.t('broadcast.filterUsageError') +\n          i18n.t('broadcast.filterCorrectFormat') +\n          i18n.t('broadcast.filterCommand') +\n          i18n.t('broadcast.filterForma"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterCommand",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 585,
        "context": "        i18n.t('broadcast.filterUsageError') +\n          i18n.t('broadcast.filterCorrectFormat') +\n          i18n.t('broadcast.filterCommand') +\n          i18n.t('broadcast.filterFormat') +\n          "
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterFormat",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 586,
        "context": "          i18n.t('broadcast.filterCorrectFormat') +\n          i18n.t('broadcast.filterCommand') +\n          i18n.t('broadcast.filterFormat') +\n          i18n.t('broadcast.filterGender') +\n          i1"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterGender",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 587,
        "context": "          i18n.t('broadcast.filterCommand') +\n          i18n.t('broadcast.filterFormat') +\n          i18n.t('broadcast.filterGender') +\n          i18n.t('broadcast.filterZodiac') +\n          i18n.t('b"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterZodiac",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 588,
        "context": "          i18n.t('broadcast.filterFormat') +\n          i18n.t('broadcast.filterGender') +\n          i18n.t('broadcast.filterZodiac') +\n          i18n.t('broadcast.filterCountry') +\n          i18n.t('b"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterCountry",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 589,
        "context": "          i18n.t('broadcast.filterGender') +\n          i18n.t('broadcast.filterZodiac') +\n          i18n.t('broadcast.filterCountry') +\n          i18n.t('broadcast.filterAge') +\n          i18n.t('broa"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterAge",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 590,
        "context": "          i18n.t('broadcast.filterZodiac') +\n          i18n.t('broadcast.filterCountry') +\n          i18n.t('broadcast.filterAge') +\n          i18n.t('broadcast.filterMbti') +\n          i18n.t('broadc"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterMbti",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 591,
        "context": "          i18n.t('broadcast.filterCountry') +\n          i18n.t('broadcast.filterAge') +\n          i18n.t('broadcast.filterMbti') +\n          i18n.t('broadcast.filterVip') +\n          i18n.t('broadcast"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterVip",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 592,
        "context": "          i18n.t('broadcast.filterAge') +\n          i18n.t('broadcast.filterMbti') +\n          i18n.t('broadcast.filterVip') +\n          i18n.t('broadcast.filterExamples') +\n          i18n.t('broadcas"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterExamples",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 593,
        "context": "          i18n.t('broadcast.filterMbti') +\n          i18n.t('broadcast.filterVip') +\n          i18n.t('broadcast.filterExamples') +\n          i18n.t('broadcast.filterExample1') +\n          i18n.t('bro"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterExample1",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 594,
        "context": "          i18n.t('broadcast.filterVip') +\n          i18n.t('broadcast.filterExamples') +\n          i18n.t('broadcast.filterExample1') +\n          i18n.t('broadcast.filterExample2') +\n          i18n.t("
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterExample2",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 595,
        "context": "          i18n.t('broadcast.filterExamples') +\n          i18n.t('broadcast.filterExample1') +\n          i18n.t('broadcast.filterExample2') +\n          i18n.t('broadcast.filterExample3')\n      );"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterExample3",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 596,
        "context": "          i18n.t('broadcast.filterExample1') +\n          i18n.t('broadcast.filterExample2') +\n          i18n.t('broadcast.filterExample3')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterViewFormat",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 617,
        "context": "        chatId,\n        i18n.t('broadcast.filterFormatError', { error: error instanceof Error ? error.message : String(error) }) +\n          i18n.t('broadcast.filterViewFormat')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterConfirmTitle",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 649,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('broadcast.filterConfirmTitle') +\n        i18n.t('broadcast.filterConfirmConditions', { conditions: filtersDesc }) +\n        i18n.t('broadcas"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterQueryingUsers",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 652,
        "context": "        i18n.t('broadcast.filterConfirmConditions', { conditions: filtersDesc }) +\n        i18n.t('broadcast.filterConfirmMessage', { message: broadcastMessage }) +\n        i18n.t('broadcast.filterQue"
      }
    ],
    "count": 1
  },
  {
    "key": "broadcast.filterCreated",
    "files": [
      {
        "file": "src/telegram/handlers/broadcast.ts",
        "line": 670,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('broadcast.filterCreated') +\n        i18n.t('broadcast.filterCreatedId', { id: broadcastId }) +\n        i18n.t('broadcast.filterCreatedCondit"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.notRegistered",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 56,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('catch.notRegistered')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.banned",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 65,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('catch.banned')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.bottle5",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 131,
        "context": "        await telegram.sendMessage(\n          chatId,\n          i18n.t('catch.quotaExhausted', { quotaDisplay }) + '\\n\\n' + i18n.t('catch.bottle5')\n        );\n      }"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.bottle",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 181,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('catch.bottle') + '\\n' + i18n.t('catch.bottle2')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.bottle2",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 181,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('catch.bottle') + '\\n' + i18n.t('catch.bottle2')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.conversationError",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 207,
        "context": "\n    if (!conversationId) {\n      await telegram.sendMessage(chatId, i18n.t('catch.conversationError'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "error.bottle3",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 222,
        "context": "      if (!availableSlot) {\n        // 所有槽位都已配對\n        await telegram.sendMessage(chatId, i18n.t('error.bottle3'));\n        return;\n      }"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.translationServiceFallback",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 371,
        "context": "\n        if (result.fallback && catcherIsVip) {\n          translationSection += i18n.t('catch.translationServiceFallback') + '\\n';\n        }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.bottle4",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 434,
        "context": "    \n    const catchMessage =\n      i18n.t('catch.bottle4') + '\\n\\n' +\n      matchScoreText +\n      i18n.t('catch.nickname', { ownerMaskedNickname }) + '\\n' +"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.replyMethods",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 444,
        "context": "      `${translationSection}` +\n      '━━━━━━━━━━━━━━━━\\n\\n' +\n      i18n.t('catch.replyMethods') + '\\n' +\n      i18n.t('catch.message5') + '\\n' +\n      i18n.t('catch.message4') + '\\n\\n' +"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.message5",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 445,
        "context": "      '━━━━━━━━━━━━━━━━\\n\\n' +\n      i18n.t('catch.replyMethods') + '\\n' +\n      i18n.t('catch.message5') + '\\n' +\n      i18n.t('catch.message4') + '\\n\\n' +\n      i18n.t('catch.catch', { newCatchesCou"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.safetyTips",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 448,
        "context": "      i18n.t('catch.message4') + '\\n\\n' +\n      i18n.t('catch.catch', { newCatchesCount, quota }) + '\\n' +\n      i18n.t('catch.safetyTips') + '\\n' +\n      i18n.t('catch.conversation2') + '\\n' +\n      "
      }
    ],
    "count": 1
  },
  {
    "key": "catch.conversation2",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 449,
        "context": "      i18n.t('catch.catch', { newCatchesCount, quota }) + '\\n' +\n      i18n.t('catch.safetyTips') + '\\n' +\n      i18n.t('catch.conversation2') + '\\n' +\n      i18n.t('catch.report') + '\\n' +\n      i18n"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.report",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 450,
        "context": "      i18n.t('catch.safetyTips') + '\\n' +\n      i18n.t('catch.conversation2') + '\\n' +\n      i18n.t('catch.report') + '\\n' +\n      i18n.t('catch.block') + '\\n\\n' +\n      i18n.t('catch.back');"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.block",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 451,
        "context": "      i18n.t('catch.conversation2') + '\\n' +\n      i18n.t('catch.report') + '\\n' +\n      i18n.t('catch.block') + '\\n\\n' +\n      i18n.t('catch.back');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.back",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 452,
        "context": "      i18n.t('catch.report') + '\\n' +\n      i18n.t('catch.block') + '\\n\\n' +\n      i18n.t('catch.back');\n\n    // Build buttons based on VIP status"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.conversation3",
    "files": [
      {
        "file": "src/telegram/handlers/catch.ts",
        "line": 497,
        "context": "        await telegram.sendMessageWithButtons(chatId, catchMessage, [\n          [{ text: i18n.t('catch.replyButton'), callback_data: `conv_reply_${conversationIdentifier}` }],\n          [{ text: i18n."
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.notCompleted",
    "files": [
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 35,
        "context": "    // Check if user completed onboarding\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('onboarding.notCompleted'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.conversation5",
    "files": [
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 45,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('conversation.conversation5') +\n          '\\n\\n' +\n          i18n.t('conversation.conversation10') +"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.conversation10",
    "files": [
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 47,
        "context": "        i18n.t('conversation.conversation5') +\n          '\\n\\n' +\n          i18n.t('conversation.conversation10') +\n          '\\n\\n' +\n          i18n.t('bottle.bottle13') +"
      }
    ],
    "count": 1
  },
  {
    "key": "bottle.bottle13",
    "files": [
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 49,
        "context": "          i18n.t('conversation.conversation10') +\n          '\\n\\n' +\n          i18n.t('bottle.bottle13') +\n          '\\n\\n' +\n          i18n.t('common.back3')"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.message77",
    "files": [
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 74,
        "context": "      const lastMessageTime = conv.last_message_at\n        ? formatRelativeTime(new Date(conv.last_message_at), i18n)\n        : i18n.t('conversation.message77');\n\n      messageText +="
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.conversation3",
    "files": [
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 86,
        "context": "    messageText +=\n      `━━━━━━━━━━━━━━━━\\n` +\n      i18n.t('conversation.conversation3') +\n      '\\n' +\n      i18n.t('conversation.stats') +"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.stats",
    "files": [
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 88,
        "context": "      i18n.t('conversation.conversation3') +\n      '\\n' +\n      i18n.t('conversation.stats') +\n      '\\n' +\n      i18n.t('common.back3');"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.short3",
    "files": [
      {
        "file": "src/telegram/handlers/chats.ts",
        "line": 153,
        "context": "\n  if (diffMins < 1) {\n    return i18n.t('conversation.short3');\n  } else if (diffMins < 60) {\n    return i18n.t('conversation.text14', { diffMins });"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.profileCardTitle",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 97,
        "context": "\n    // Build anonymous profile card\n    let profileMessage = i18n.t('conversation.profileCardTitle') + '\\n\\n';\n    profileMessage += i18n.t('conversation.separator') + '\\n';\n    profileMessage += i18"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.anonymousCardHint",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 120,
        "context": "\n    profileMessage += i18n.t('conversation.separator') + '\\n\\n';\n    profileMessage += i18n.t('conversation.anonymousCardHint') + '\\n\\n';\n\n    // Add VIP hint for free users"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.vipUnlockAvatar",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 124,
        "context": "    // Add VIP hint for free users\n    if (!isVip) {\n      profileMessage += i18n.t('conversation.vipUnlockAvatar') + '\\n';\n      profileMessage += i18n.t('conversation.vipLearnMore') + '\\n\\n';\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.vipLearnMore",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 125,
        "context": "    if (!isVip) {\n      profileMessage += i18n.t('conversation.vipUnlockAvatar') + '\\n';\n      profileMessage += i18n.t('conversation.vipLearnMore') + '\\n\\n';\n    }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.replyMethodsTitle",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 128,
        "context": "    }\n\n    profileMessage += i18n.t('conversation.replyMethodsTitle') + '\\n';\n    profileMessage += i18n.t('conversation.replyMethod1') + '\\n';\n    profileMessage += i18n.t('conversation.replyMethod2'"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.replyMethod1",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 129,
        "context": "\n    profileMessage += i18n.t('conversation.replyMethodsTitle') + '\\n';\n    profileMessage += i18n.t('conversation.replyMethod1') + '\\n';\n    profileMessage += i18n.t('conversation.replyMethod2') + '\\"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.replyMethod2",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 130,
        "context": "    profileMessage += i18n.t('conversation.replyMethodsTitle') + '\\n';\n    profileMessage += i18n.t('conversation.replyMethod1') + '\\n';\n    profileMessage += i18n.t('conversation.replyMethod2') + '\\n"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.editProfileCommand",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 131,
        "context": "    profileMessage += i18n.t('conversation.replyMethod1') + '\\n';\n    profileMessage += i18n.t('conversation.replyMethod2') + '\\n\\n';\n    profileMessage += i18n.t('conversation.editProfileCommand') + "
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.backToMenuCommand",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 132,
        "context": "    profileMessage += i18n.t('conversation.replyMethod2') + '\\n\\n';\n    profileMessage += i18n.t('conversation.editProfileCommand') + '\\n';\n    profileMessage += i18n.t('conversation.backToMenuCommand"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.replyButton",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 135,
        "context": "\n    // Build buttons\n    const buttons = [[{ text: i18n.t('conversation.replyButton'), callback_data: `conv_reply_${identifier}` }]];\n\n    // Add ad/task button for non-VIP users"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.blockConfirmTitle",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 214,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('conversation.blockConfirmTitle') + '\\n\\n' + i18n.t('conversation.blockConfirmMessage'),\n      [\n        ["
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.blockConfirmMessage",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 214,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('conversation.blockConfirmTitle') + '\\n\\n' + i18n.t('conversation.blockConfirmMessage'),\n      [\n        ["
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.blockConfirmButton",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 217,
        "context": "      [\n        [\n          { text: i18n.t('conversation.blockConfirmButton'), callback_data: `conv_block_confirm_${conversationId}` },\n          { text: i18n.t('conversation.cancelButton'), callback_"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.reportConfirmTitle",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 254,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('conversation.reportConfirmTitle') + '\\n\\n' + i18n.t('conversation.reportConfirmMessage'),\n      [\n        ["
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.reportConfirmMessage",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 254,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('conversation.reportConfirmTitle') + '\\n\\n' + i18n.t('conversation.reportConfirmMessage'),\n      [\n        ["
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.reportConfirmButton",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 257,
        "context": "      [\n        [\n          { text: i18n.t('conversation.reportConfirmButton'), callback_data: `conv_report_confirm_${conversationId}` },\n          { text: i18n.t('conversation.cancelButton'), callbac"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.blocked",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 325,
        "context": "    await endConversation(db, conversationId);\n\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('conversation.blocked'));\n    await telegram.deleteMessage(chatId, callbackQuery.message"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.blockSuccessTitle",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 328,
        "context": "    await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n\n    await telegram.sendMessage(chatId, i18n.t('conversation.blockSuccessTitle') + '\\n\\n' + i18n.t('conversation.blockSucce"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.blockSuccessMessage",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 328,
        "context": "    await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n\n    await telegram.sendMessage(chatId, i18n.t('conversation.blockSuccessTitle') + '\\n\\n' + i18n.t('conversation.blockSucce"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.blockSuccessNewConversation",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 333,
        "context": "    await telegram.sendMessage(\n      parseInt(otherUserId),\n      i18n.t('conversation.blockSuccessNewConversation')\n    );\n  } catch (error) {"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.reported",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 400,
        "context": "    await endConversation(db, conversationId);\n\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('conversation.reported'));\n    await telegram.deleteMessage(chatId, callbackQuery.messag"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.reportSuccessTitle",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 403,
        "context": "    await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n\n    await telegram.sendMessage(chatId, i18n.t('conversation.reportSuccessTitle') + '\\n\\n' + i18n.t('conversation.reportSuc"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.reportSuccessMessage",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 403,
        "context": "    await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n\n    await telegram.sendMessage(chatId, i18n.t('conversation.reportSuccessTitle') + '\\n\\n' + i18n.t('conversation.reportSuc"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.reportSuccessNewConversation",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 408,
        "context": "    await telegram.sendMessage(\n      parseInt(otherUserId),\n      i18n.t('conversation.reportSuccessNewConversation')\n    );\n  } catch (error) {"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.cancelSuccess",
    "files": [
      {
        "file": "src/telegram/handlers/conversation_actions.ts",
        "line": 432,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('conversation.cancelSuccess'));\n    await telegram.deleteMessage(chatId, c"
      }
    ],
    "count": 1
  },
  {
    "key": "country.confirmTitle",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 25,
        "context": "\n  const message =\n    i18n.t('country.confirmTitle') +\n    i18n.t('country.confirmDetected') +\n    `${currentFlag} **${currentCountry}**\\n\\n` +"
      }
    ],
    "count": 1
  },
  {
    "key": "country.confirmDetected",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 26,
        "context": "  const message =\n    i18n.t('country.confirmTitle') +\n    i18n.t('country.confirmDetected') +\n    `${currentFlag} **${currentCountry}**\\n\\n` +\n    i18n.t('country.confirmQuestion') +"
      }
    ],
    "count": 1
  },
  {
    "key": "country.confirmQuestion",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 28,
        "context": "    i18n.t('country.confirmDetected') +\n    `${currentFlag} **${currentCountry}**\\n\\n` +\n    i18n.t('country.confirmQuestion') +\n    i18n.t('country.confirmHint') +\n    i18n.t('country.confirmReward')"
      }
    ],
    "count": 1
  },
  {
    "key": "country.confirmHint",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 29,
        "context": "    `${currentFlag} **${currentCountry}**\\n\\n` +\n    i18n.t('country.confirmQuestion') +\n    i18n.t('country.confirmHint') +\n    i18n.t('country.confirmReward');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "country.confirmReward",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 30,
        "context": "    i18n.t('country.confirmQuestion') +\n    i18n.t('country.confirmHint') +\n    i18n.t('country.confirmReward');\n\n  await telegram.sendMessageWithButtons(chatId, message, ["
      }
    ],
    "count": 1
  },
  {
    "key": "country.confirmButton",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 34,
        "context": "  await telegram.sendMessageWithButtons(chatId, message, [\n    [\n      { text: i18n.t('country.confirmButton'), callback_data: 'country_confirm_yes' },\n      { text: i18n.t('country.notCorrectButton')"
      }
    ],
    "count": 1
  },
  {
    "key": "country.notCorrectButton",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 35,
        "context": "    [\n      { text: i18n.t('country.confirmButton'), callback_data: 'country_confirm_yes' },\n      { text: i18n.t('country.notCorrectButton'), callback_data: 'country_select' },\n    ],\n    [{ text: i1"
      }
    ],
    "count": 1
  },
  {
    "key": "country.useUnFlagButton",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 37,
        "context": "      { text: i18n.t('country.notCorrectButton'), callback_data: 'country_select' },\n    ],\n    [{ text: i18n.t('country.useUnFlagButton'), callback_data: 'country_set_UN' }],\n  ]);\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "country.confirmed",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 65,
        "context": "\n    if (completed) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('country.confirmed'));\n      await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n    } else"
      }
    ],
    "count": 1
  },
  {
    "key": "country.confirmFailed",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 68,
        "context": "      await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n    } else {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('country.confirmFailed'));\n    }\n  } catch"
      }
    ],
    "count": 1
  },
  {
    "key": "country.setFailed",
    "files": [
      {
        "file": "src/telegram/handlers/country_confirmation.ts",
        "line": 123,
        "context": "      await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n    } else {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('country.setFailed'));\n    }\n  } catch (er"
      }
    ],
    "count": 1
  },
  {
    "key": "country.selectTitle",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 28,
        "context": "\n  const message =\n    i18n.t('country.selectTitle') +\n    i18n.t('country.selectHint') +\n    i18n.t('country.selectUnFlagHint');"
      }
    ],
    "count": 1
  },
  {
    "key": "country.selectHint",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 29,
        "context": "  const message =\n    i18n.t('country.selectTitle') +\n    i18n.t('country.selectHint') +\n    i18n.t('country.selectUnFlagHint');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "country.selectUnFlagHint",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 30,
        "context": "    i18n.t('country.selectTitle') +\n    i18n.t('country.selectHint') +\n    i18n.t('country.selectUnFlagHint');\n\n  const buttons = ["
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonTW",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 34,
        "context": "  const buttons = [\n    [\n      { text: i18n.t('country.buttonTW'), callback_data: 'country_set_TW' },\n      { text: i18n.t('country.buttonCN'), callback_data: 'country_set_CN' },\n      { text: i18n.t"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonCN",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 35,
        "context": "    [\n      { text: i18n.t('country.buttonTW'), callback_data: 'country_set_TW' },\n      { text: i18n.t('country.buttonCN'), callback_data: 'country_set_CN' },\n      { text: i18n.t('country.buttonHK')"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonHK",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 36,
        "context": "      { text: i18n.t('country.buttonTW'), callback_data: 'country_set_TW' },\n      { text: i18n.t('country.buttonCN'), callback_data: 'country_set_CN' },\n      { text: i18n.t('country.buttonHK'), call"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonUS",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 39,
        "context": "    ],\n    [\n      { text: i18n.t('country.buttonUS'), callback_data: 'country_set_US' },\n      { text: i18n.t('country.buttonJP'), callback_data: 'country_set_JP' },\n      { text: i18n.t('country.but"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonJP",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 40,
        "context": "    [\n      { text: i18n.t('country.buttonUS'), callback_data: 'country_set_US' },\n      { text: i18n.t('country.buttonJP'), callback_data: 'country_set_JP' },\n      { text: i18n.t('country.buttonKR')"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonKR",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 41,
        "context": "      { text: i18n.t('country.buttonUS'), callback_data: 'country_set_US' },\n      { text: i18n.t('country.buttonJP'), callback_data: 'country_set_JP' },\n      { text: i18n.t('country.buttonKR'), call"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonGB",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 44,
        "context": "    ],\n    [\n      { text: i18n.t('country.buttonGB'), callback_data: 'country_set_GB' },\n      { text: i18n.t('country.buttonFR'), callback_data: 'country_set_FR' },\n      { text: i18n.t('country.but"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonFR",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 45,
        "context": "    [\n      { text: i18n.t('country.buttonGB'), callback_data: 'country_set_GB' },\n      { text: i18n.t('country.buttonFR'), callback_data: 'country_set_FR' },\n      { text: i18n.t('country.buttonDE')"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonDE",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 46,
        "context": "      { text: i18n.t('country.buttonGB'), callback_data: 'country_set_GB' },\n      { text: i18n.t('country.buttonFR'), callback_data: 'country_set_FR' },\n      { text: i18n.t('country.buttonDE'), call"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonSG",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 49,
        "context": "    ],\n    [\n      { text: i18n.t('country.buttonSG'), callback_data: 'country_set_SG' },\n      { text: i18n.t('country.buttonMY'), callback_data: 'country_set_MY' },\n      { text: i18n.t('country.but"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonMY",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 50,
        "context": "    [\n      { text: i18n.t('country.buttonSG'), callback_data: 'country_set_SG' },\n      { text: i18n.t('country.buttonMY'), callback_data: 'country_set_MY' },\n      { text: i18n.t('country.buttonTH')"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonTH",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 51,
        "context": "      { text: i18n.t('country.buttonSG'), callback_data: 'country_set_SG' },\n      { text: i18n.t('country.buttonMY'), callback_data: 'country_set_MY' },\n      { text: i18n.t('country.buttonTH'), call"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonAU",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 54,
        "context": "    ],\n    [\n      { text: i18n.t('country.buttonAU'), callback_data: 'country_set_AU' },\n      { text: i18n.t('country.buttonCA'), callback_data: 'country_set_CA' },\n      { text: i18n.t('country.but"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonCA",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 55,
        "context": "    [\n      { text: i18n.t('country.buttonAU'), callback_data: 'country_set_AU' },\n      { text: i18n.t('country.buttonCA'), callback_data: 'country_set_CA' },\n      { text: i18n.t('country.buttonNZ')"
      }
    ],
    "count": 1
  },
  {
    "key": "country.buttonNZ",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 56,
        "context": "      { text: i18n.t('country.buttonAU'), callback_data: 'country_set_AU' },\n      { text: i18n.t('country.buttonCA'), callback_data: 'country_set_CA' },\n      { text: i18n.t('country.buttonNZ'), call"
      }
    ],
    "count": 1
  },
  {
    "key": "country.unFlagButton",
    "files": [
      {
        "file": "src/telegram/handlers/country_selection.ts",
        "line": 58,
        "context": "      { text: i18n.t('country.buttonNZ'), callback_data: 'country_set_NZ' },\n    ],\n    [{ text: i18n.t('country.unFlagButton'), callback_data: 'country_set_UN' }],\n  ];\n"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.dataReset",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 207,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    \n    await telegram.sendMessage(chatId, i18n.t('dev.dataReset'));\n  } catch (error) {\n    console.error('[handleDevReset] Error:', erro"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 245,
        "context": "\n    if (!user) {\n      await telegram.sendMessage(chatId, i18n.t('dev.userNotFound'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.userInfo",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 281,
        "context": "\n    const info =\n      i18n.t('dev.userInfo') +\n      i18n.t('dev.telegramId', { id: user.telegram_id }) +\n      i18n.t('dev.nickname', { nickname: user.nickname || i18n.t('dev.notSet') }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.notSet",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 283,
        "context": "      i18n.t('dev.userInfo') +\n      i18n.t('dev.telegramId', { id: user.telegram_id }) +\n      i18n.t('dev.nickname', { nickname: user.nickname || i18n.t('dev.notSet') }) +\n      i18n.t('dev.onboardi"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.yes",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 285,
        "context": "      i18n.t('dev.nickname', { nickname: user.nickname || i18n.t('dev.notSet') }) +\n      i18n.t('dev.onboardingStep', { step: user.onboarding_step }) +\n      i18n.t('dev.vip', { status: user.is_vip ?"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.no",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 285,
        "context": "      i18n.t('dev.nickname', { nickname: user.nickname || i18n.t('dev.notSet') }) +\n      i18n.t('dev.onboardingStep', { step: user.onboarding_step }) +\n      i18n.t('dev.vip', { status: user.is_vip ?"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.notGenerated",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 287,
        "context": "      i18n.t('dev.vip', { status: user.is_vip ? i18n.t('dev.yes') : i18n.t('dev.no') }) +\n      i18n.t('dev.language', { lang: user.language_pref }) +\n      i18n.t('dev.inviteCode', { code: user.invit"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.none",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 288,
        "context": "      i18n.t('dev.language', { lang: user.language_pref }) +\n      i18n.t('dev.inviteCode', { code: user.invite_code || i18n.t('dev.notGenerated') }) +\n      i18n.t('dev.invitedBy', { invitedBy: user."
      }
    ],
    "count": 1
  },
  {
    "key": "dev.stats",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 289,
        "context": "      i18n.t('dev.inviteCode', { code: user.invite_code || i18n.t('dev.notGenerated') }) +\n      i18n.t('dev.invitedBy', { invitedBy: user.invited_by || i18n.t('dev.none') }) +\n      i18n.t('dev.stats"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.inviteStats",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 293,
        "context": "      i18n.t('dev.conversations', { count: conversationsCount?.count || 0 }) +\n      i18n.t('dev.messages', { count: messagesCount?.count || 0 }) +\n      i18n.t('dev.inviteStats') +\n      i18n.t('dev."
      }
    ],
    "count": 1
  },
  {
    "key": "dev.getUserInfoFailed",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 303,
        "context": "  } catch (error) {\n    console.error('[handleDevInfo] Error:', error);\n    await telegram.sendMessage(chatId, i18n.t('dev.getUserInfoFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.testUser",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 538,
        "context": "    const inviteCode = generateInviteCode();\n\n    const testUserNickname = i18n.t('dev.testUser');\n\n    // Create or update user with completed onboarding"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.skipRegistration",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 590,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('dev.skipRegistration') +\n        i18n.t('dev.autoCompleted') +\n        i18n.t('dev.testCoreFeatures') +"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.autoCompleted",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 591,
        "context": "      chatId,\n      i18n.t('dev.skipRegistration') +\n        i18n.t('dev.autoCompleted') +\n        i18n.t('dev.testCoreFeatures') +\n        i18n.t('dev.throwCommand') +"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.testCoreFeatures",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 592,
        "context": "      i18n.t('dev.skipRegistration') +\n        i18n.t('dev.autoCompleted') +\n        i18n.t('dev.testCoreFeatures') +\n        i18n.t('dev.throwCommand') +\n        i18n.t('dev.catchCommand') +"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.throwCommand",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 593,
        "context": "        i18n.t('dev.autoCompleted') +\n        i18n.t('dev.testCoreFeatures') +\n        i18n.t('dev.throwCommand') +\n        i18n.t('dev.catchCommand') +\n        i18n.t('dev.statsCommand') +"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.catchCommand",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 594,
        "context": "        i18n.t('dev.testCoreFeatures') +\n        i18n.t('dev.throwCommand') +\n        i18n.t('dev.catchCommand') +\n        i18n.t('dev.statsCommand') +\n        i18n.t('dev.stagingOnly')"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.statsCommand",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 595,
        "context": "        i18n.t('dev.throwCommand') +\n        i18n.t('dev.catchCommand') +\n        i18n.t('dev.statsCommand') +\n        i18n.t('dev.stagingOnly')\n    );"
      }
    ],
    "count": 1
  },
  {
    "key": "dev.skipFailed",
    "files": [
      {
        "file": "src/telegram/handlers/dev.ts",
        "line": 600,
        "context": "  } catch (error) {\n    console.error('[handleDevSkip] Error:', error);\n    await telegram.sendMessage(chatId, i18n.t('dev.skipFailed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.continueEditing",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 27,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    \n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('draft.continueEditing'));\n    await telegram.deleteMessage(chatId, ca"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.contentTitle",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 40,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('draft.contentTitle') +\n        `${draft.content}\\n\\n` +\n        `━━━━━━━━━━━━━━━━\\n\\n` +"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.contentHint",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 43,
        "context": "        `${draft.content}\\n\\n` +\n        `━━━━━━━━━━━━━━━━\\n\\n` +\n        i18n.t('draft.contentHint')\n    );\n"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.sendQuestion",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 47,
        "context": "\n    // Show send draft button\n    await telegram.sendMessageWithButtons(chatId, i18n.t('draft.sendQuestion'), [\n      [\n        { text: i18n.t('draft.sendButton'), callback_data: 'draft_send' },"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.sendButton",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 49,
        "context": "    await telegram.sendMessageWithButtons(chatId, i18n.t('draft.sendQuestion'), [\n      [\n        { text: i18n.t('draft.sendButton'), callback_data: 'draft_send' },\n        { text: i18n.t('draft.editB"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.editButton",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 50,
        "context": "      [\n        { text: i18n.t('draft.sendButton'), callback_data: 'draft_send' },\n        { text: i18n.t('draft.editButton'), callback_data: 'draft_edit' },\n      ],\n      [{ text: i18n.t('draft.dele"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.deleteButton",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 52,
        "context": "        { text: i18n.t('draft.editButton'), callback_data: 'draft_edit' },\n      ],\n      [{ text: i18n.t('draft.deleteButton'), callback_data: 'draft_delete' }],\n    ]);\n  } catch (error) {"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.deleted",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 83,
        "context": "    await deleteUserDrafts(db, telegramId);\n\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('draft.deleted'));\n    await telegram.deleteMessage(chatId, callbackQuery.message!.message_"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.newBottle",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 143,
        "context": "    }\n\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('draft.newBottle'));\n    await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.sending",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 209,
        "context": "    }\n\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('draft.sending'));\n    await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.editPrompt",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 239,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    \n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('draft.editPrompt'));\n    await telegram.deleteMessage(chatId, callbac"
      }
    ],
    "count": 1
  },
  {
    "key": "draft.editInput",
    "files": [
      {
        "file": "src/telegram/handlers/draft.ts",
        "line": 242,
        "context": "    await telegram.deleteMessage(chatId, callbackQuery.message!.message_id);\n\n    await telegram.sendMessage(chatId, i18n.t('draft.editInput'));\n  } catch (error) {\n    console.error('[handleDraftEdit"
      }
    ],
    "count": 1
  },
  {
    "key": "warnings.register4",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 134,
        "context": "\n    if (user.onboarding_step !== 'completed') {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warnings.register4'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "common.nickname6",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 237,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('common.nickname6') +\n        '\\n\\n' +\n        i18n.t('common.nickname10') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.nickname10",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 239,
        "context": "      i18n.t('common.nickname6') +\n        '\\n\\n' +\n        i18n.t('common.nickname10') +\n        '\\n\\n' +\n        i18n.t('common.nickname11') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.ad6",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 249,
        "context": "        i18n.t('common.nickname') +\n        '\\n' +\n        i18n.t('common.ad6') +\n        '\\n\\n' +\n        i18n.t('common.back')"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text96",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 283,
        "context": "      i18n.t('common.text68') +\n        '\\n\\n' +\n        i18n.t('common.text96') +\n        '\\n\\n' +\n        i18n.t('common.text68') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text97",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 287,
        "context": "        i18n.t('common.text68') +\n        '\\n' +\n        i18n.t('common.text97') +\n        '\\n' +\n        i18n.t('common.text58') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text58",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 289,
        "context": "        i18n.t('common.text97') +\n        '\\n' +\n        i18n.t('common.text58') +\n        '\\n' +\n        i18n.t('common.text98') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text98",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 291,
        "context": "        i18n.t('common.text58') +\n        '\\n' +\n        i18n.t('common.text98') +\n        '\\n\\n' +\n        i18n.t('common.back')"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text87",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 326,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('common.text87') +\n        '\\n\\n' +\n        i18n.t('common.text114') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text114",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 328,
        "context": "      i18n.t('common.text87') +\n        '\\n\\n' +\n        i18n.t('common.text114') +\n        '\\n\\n' +\n        i18n.t('common.text68') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text88",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 332,
        "context": "        i18n.t('common.text68') +\n        '\\n' +\n        i18n.t('common.text88') +\n        '\\n' +\n        i18n.t('common.text89') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text89",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 334,
        "context": "        i18n.t('common.text88') +\n        '\\n' +\n        i18n.t('common.text89') +\n        '\\n\\n' +\n        i18n.t('common.back')"
      }
    ],
    "count": 1
  },
  {
    "key": "common.bottle12",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 374,
        "context": "      i18n.t('common.short32') +\n        '\\n\\n' +\n        i18n.t('common.bottle12') +\n        '\\n\\n' +\n        i18n.t('common.text68') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.short33",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 414,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('common.short33'));\n\n    await db.d1"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text59",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 465,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('common.text59') +\n        '\\n\\n' +\n        i18n.t('common.text39') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text39",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 467,
        "context": "      i18n.t('common.text59') +\n        '\\n\\n' +\n        i18n.t('common.text39') +\n        '\\n\\n' +\n        i18n.t('common.text68') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text40",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 471,
        "context": "        i18n.t('common.text68') +\n        '\\n' +\n        i18n.t('common.text40') +\n        '\\n' +\n        i18n.t('common.text116') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text116",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 473,
        "context": "        i18n.t('common.text40') +\n        '\\n' +\n        i18n.t('common.text116') +\n        '\\n' +\n        i18n.t('common.text47') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text47",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 475,
        "context": "        i18n.t('common.text116') +\n        '\\n' +\n        i18n.t('common.text47') +\n        '\\n\\n' +\n        i18n.t('common.back')"
      }
    ],
    "count": 1
  },
  {
    "key": "common.bloodType2",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 511,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('common.bloodType2') +\n        '\\n\\n' +\n        i18n.t('common.vip8') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.vip8",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 513,
        "context": "      i18n.t('common.bloodType2') +\n        '\\n\\n' +\n        i18n.t('common.vip8') +\n        '\\n\\n' +\n        i18n.t('common.bloodType3'),"
      }
    ],
    "count": 1
  },
  {
    "key": "success.bloodType",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 567,
        "context": "    const bloodTypeDisplay = bloodType ? getBloodTypeDisplay(bloodType as any) : '';\n    const displayText = bloodType\n      ? i18n.t('success.bloodType').replace(/\\$\\{getBloodTypeDisplay\\(bloodType a"
      }
    ],
    "count": 1
  },
  {
    "key": "success.bloodType2",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 568,
        "context": "    const displayText = bloodType\n      ? i18n.t('success.bloodType').replace(/\\$\\{getBloodTypeDisplay\\(bloodType as any\\)\\}/, bloodTypeDisplay)\n      : i18n.t('success.bloodType2');\n\n    await telegr"
      }
    ],
    "count": 1
  },
  {
    "key": "errors.error.cancel4",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 634,
        "context": "          await telegram.sendMessageWithButtons(\n            chatId,\n            i18n.t('errors.error.cancel4') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),"
      }
    ],
    "count": 1
  },
  {
    "key": "errors.error.cancel",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 645,
        "context": "          await telegram.sendMessageWithButtons(\n            chatId,\n            i18n.t('errors.error.cancel') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),"
      }
    ],
    "count": 1
  },
  {
    "key": "errors.error.nickname2",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 659,
        "context": "          await telegram.sendMessageWithButtons(\n            chatId,\n            i18n.t('errors.error.nickname2') +\n              '\\n\\n' +\n              i18n.t('common.nickname') +"
      }
    ],
    "count": 1
  },
  {
    "key": "errors.error.cancel2",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 755,
        "context": "          await telegram.sendMessageWithButtons(\n            chatId,\n            i18n.t('errors.error.cancel2') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),"
      }
    ],
    "count": 1
  },
  {
    "key": "errors.error.text2",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 769,
        "context": "          await telegram.sendMessageWithButtons(\n            chatId,\n            i18n.t('errors.error.text2') +\n              '\\n\\n' +\n              i18n.t('common.text60') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text60",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 771,
        "context": "            i18n.t('errors.error.text2') +\n              '\\n\\n' +\n              i18n.t('common.text60') +\n              '\\n' +\n              '• t.me (Telegram)\\n' +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.message18",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 776,
        "context": "              '• telegram.org\\n' +\n              '• telegram.me\\n\\n' +\n              i18n.t('common.message18') +\n              '\\n' +\n              `${urlCheck.blockedUrls?.map((url) => `• ${url}`).j"
      }
    ],
    "count": 1
  },
  {
    "key": "success.text4",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 802,
        "context": "\n        await deleteSession(db, telegramId, SESSION_TYPE);\n        await telegram.sendMessageWithButtons(chatId, i18n.t('success.text4') + '\\n\\n' + text, [\n          [{ text: i18n.t('common.short3'),"
      }
    ],
    "count": 1
  },
  {
    "key": "errors.error.cancel3",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 813,
        "context": "          await telegram.sendMessageWithButtons(\n            chatId,\n            i18n.t('errors.error.cancel3') +\n              '\\n\\n' +\n              i18n.t('common.cancel3'),"
      }
    ],
    "count": 1
  },
  {
    "key": "success.text2",
    "files": [
      {
        "file": "src/telegram/handlers/edit_profile.ts",
        "line": 891,
        "context": "\n        await deleteSession(db, telegramId, SESSION_TYPE);\n        await telegram.sendMessageWithButtons(chatId, i18n.t('success.text2') + '\\n\\n' + interestsStr, [\n          [{ text: i18n.t('common.s"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text10",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 31,
        "context": "    // Base commands for all users\n    let helpMessage =\n      i18n.t('help.text10') +\n      `━━━━━━━━━━━━━━━━\\n` +\n      i18n.t('help.text24') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text24",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 33,
        "context": "      i18n.t('help.text10') +\n      `━━━━━━━━━━━━━━━━\\n` +\n      i18n.t('help.text24') +\n      i18n.t('help.register') +\n      i18n.t('help.text25') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.register",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 34,
        "context": "      `━━━━━━━━━━━━━━━━\\n` +\n      i18n.t('help.text24') +\n      i18n.t('help.register') +\n      i18n.t('help.text25') +\n      i18n.t('help.bottle7') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text25",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 35,
        "context": "      i18n.t('help.text24') +\n      i18n.t('help.register') +\n      i18n.t('help.text25') +\n      i18n.t('help.bottle7') +\n      i18n.t('help.bottle8') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.bottle7",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 36,
        "context": "      i18n.t('help.register') +\n      i18n.t('help.text25') +\n      i18n.t('help.bottle7') +\n      i18n.t('help.bottle8') +\n      i18n.t('help.conversation') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.bottle8",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 37,
        "context": "      i18n.t('help.text25') +\n      i18n.t('help.bottle7') +\n      i18n.t('help.bottle8') +\n      i18n.t('help.conversation') +\n      i18n.t('help.profile3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.conversation",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 38,
        "context": "      i18n.t('help.bottle7') +\n      i18n.t('help.bottle8') +\n      i18n.t('help.conversation') +\n      i18n.t('help.profile3') +\n      i18n.t('help.profile2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.profile3",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 39,
        "context": "      i18n.t('help.bottle8') +\n      i18n.t('help.conversation') +\n      i18n.t('help.profile3') +\n      i18n.t('help.profile2') +\n      i18n.t('help.text5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.profile2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 40,
        "context": "      i18n.t('help.conversation') +\n      i18n.t('help.profile3') +\n      i18n.t('help.profile2') +\n      i18n.t('help.text5') +\n      i18n.t('help.profile') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text5",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 41,
        "context": "      i18n.t('help.profile3') +\n      i18n.t('help.profile2') +\n      i18n.t('help.text5') +\n      i18n.t('help.profile') +\n      i18n.t('help.text2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.profile",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 42,
        "context": "      i18n.t('help.profile2') +\n      i18n.t('help.text5') +\n      i18n.t('help.profile') +\n      i18n.t('help.text2') +\n      i18n.t('help.mbti2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 43,
        "context": "      i18n.t('help.text5') +\n      i18n.t('help.profile') +\n      i18n.t('help.text2') +\n      i18n.t('help.mbti2') +\n      i18n.t('help.stats') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.mbti2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 44,
        "context": "      i18n.t('help.profile') +\n      i18n.t('help.text2') +\n      i18n.t('help.mbti2') +\n      i18n.t('help.stats') +\n      i18n.t('help.vip4') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.stats",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 45,
        "context": "      i18n.t('help.text2') +\n      i18n.t('help.mbti2') +\n      i18n.t('help.stats') +\n      i18n.t('help.vip4') +\n      i18n.t('help.text16') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.vip4",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 46,
        "context": "      i18n.t('help.mbti2') +\n      i18n.t('help.stats') +\n      i18n.t('help.vip4') +\n      i18n.t('help.text16') +\n      i18n.t('help.bottle2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text16",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 47,
        "context": "      i18n.t('help.stats') +\n      i18n.t('help.vip4') +\n      i18n.t('help.text16') +\n      i18n.t('help.bottle2') +\n      i18n.t('help.invite2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.bottle2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 48,
        "context": "      i18n.t('help.vip4') +\n      i18n.t('help.text16') +\n      i18n.t('help.bottle2') +\n      i18n.t('help.invite2') +\n      i18n.t('help.vip5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.invite2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 49,
        "context": "      i18n.t('help.text16') +\n      i18n.t('help.bottle2') +\n      i18n.t('help.invite2') +\n      i18n.t('help.vip5') +\n      i18n.t('help.ad3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.vip5",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 50,
        "context": "      i18n.t('help.bottle2') +\n      i18n.t('help.invite2') +\n      i18n.t('help.vip5') +\n      i18n.t('help.ad3') +\n      i18n.t('help.ad4') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ad3",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 51,
        "context": "      i18n.t('help.invite2') +\n      i18n.t('help.vip5') +\n      i18n.t('help.ad3') +\n      i18n.t('help.ad4') +\n      i18n.t('help.appeal5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ad4",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 52,
        "context": "      i18n.t('help.vip5') +\n      i18n.t('help.ad3') +\n      i18n.t('help.ad4') +\n      i18n.t('help.appeal5') +\n      i18n.t('help.text18') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.appeal5",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 53,
        "context": "      i18n.t('help.ad3') +\n      i18n.t('help.ad4') +\n      i18n.t('help.appeal5') +\n      i18n.t('help.text18') +\n      i18n.t('help.report') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text18",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 54,
        "context": "      i18n.t('help.ad4') +\n      i18n.t('help.appeal5') +\n      i18n.t('help.text18') +\n      i18n.t('help.report') +\n      i18n.t('help.ban5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.report",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 55,
        "context": "      i18n.t('help.appeal5') +\n      i18n.t('help.text18') +\n      i18n.t('help.report') +\n      i18n.t('help.ban5') +\n      i18n.t('help.appeal3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ban5",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 56,
        "context": "      i18n.t('help.text18') +\n      i18n.t('help.report') +\n      i18n.t('help.ban5') +\n      i18n.t('help.appeal3') +\n      i18n.t('help.settings2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.appeal3",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 57,
        "context": "      i18n.t('help.report') +\n      i18n.t('help.ban5') +\n      i18n.t('help.appeal3') +\n      i18n.t('help.settings2') +\n      i18n.t('help.text19') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.settings2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 58,
        "context": "      i18n.t('help.ban5') +\n      i18n.t('help.appeal3') +\n      i18n.t('help.settings2') +\n      i18n.t('help.text19') +\n      i18n.t('help.text17') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text19",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 59,
        "context": "      i18n.t('help.appeal3') +\n      i18n.t('help.settings2') +\n      i18n.t('help.text19') +\n      i18n.t('help.text17') +\n      i18n.t('help.settings');"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text17",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 60,
        "context": "      i18n.t('help.settings2') +\n      i18n.t('help.text19') +\n      i18n.t('help.text17') +\n      i18n.t('help.settings');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "help.settings",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 61,
        "context": "      i18n.t('help.text19') +\n      i18n.t('help.text17') +\n      i18n.t('help.settings');\n\n    // Add admin commands (for both regular admin and super admin)"
      }
    ],
    "count": 1
  },
  {
    "key": "help.admin5",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 67,
        "context": "      helpMessage +=\n        `\\n\\n━━━━━━━━━━━━━━━━\\n` +\n        i18n.t('help.admin5') +\n        i18n.t('help.text31') +\n        i18n.t('help.ban') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text31",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 68,
        "context": "        `\\n\\n━━━━━━━━━━━━━━━━\\n` +\n        i18n.t('help.admin5') +\n        i18n.t('help.text31') +\n        i18n.t('help.ban') +\n        i18n.t('help.ban3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ban",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 69,
        "context": "        i18n.t('help.admin5') +\n        i18n.t('help.text31') +\n        i18n.t('help.ban') +\n        i18n.t('help.ban3') +\n        i18n.t('help.ban4') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ban3",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 70,
        "context": "        i18n.t('help.text31') +\n        i18n.t('help.ban') +\n        i18n.t('help.ban3') +\n        i18n.t('help.ban4') +\n        i18n.t('help.ban2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ban4",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 71,
        "context": "        i18n.t('help.ban') +\n        i18n.t('help.ban3') +\n        i18n.t('help.ban4') +\n        i18n.t('help.ban2') +\n        i18n.t('help.appeal6') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ban2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 72,
        "context": "        i18n.t('help.ban3') +\n        i18n.t('help.ban4') +\n        i18n.t('help.ban2') +\n        i18n.t('help.appeal6') +\n        i18n.t('help.appeal4') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.appeal6",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 73,
        "context": "        i18n.t('help.ban4') +\n        i18n.t('help.ban2') +\n        i18n.t('help.appeal6') +\n        i18n.t('help.appeal4') +\n        i18n.t('help.appeal2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.appeal4",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 74,
        "context": "        i18n.t('help.ban2') +\n        i18n.t('help.appeal6') +\n        i18n.t('help.appeal4') +\n        i18n.t('help.appeal2') +\n        i18n.t('help.appeal') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.appeal2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 75,
        "context": "        i18n.t('help.appeal6') +\n        i18n.t('help.appeal4') +\n        i18n.t('help.appeal2') +\n        i18n.t('help.appeal') +\n        i18n.t('help.broadcast5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.appeal",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 76,
        "context": "        i18n.t('help.appeal4') +\n        i18n.t('help.appeal2') +\n        i18n.t('help.appeal') +\n        i18n.t('help.broadcast5') +\n        i18n.t('help.broadcast4') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.broadcast5",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 77,
        "context": "        i18n.t('help.appeal2') +\n        i18n.t('help.appeal') +\n        i18n.t('help.broadcast5') +\n        i18n.t('help.broadcast4') +\n        i18n.t('help.broadcast') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.broadcast4",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 78,
        "context": "        i18n.t('help.appeal') +\n        i18n.t('help.broadcast5') +\n        i18n.t('help.broadcast4') +\n        i18n.t('help.broadcast') +\n        i18n.t('help.broadcast2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.broadcast",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 79,
        "context": "        i18n.t('help.broadcast5') +\n        i18n.t('help.broadcast4') +\n        i18n.t('help.broadcast') +\n        i18n.t('help.broadcast2') +\n        i18n.t('help.broadcast3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.broadcast2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 80,
        "context": "        i18n.t('help.broadcast4') +\n        i18n.t('help.broadcast') +\n        i18n.t('help.broadcast2') +\n        i18n.t('help.broadcast3') +\n        i18n.t('help.cancel') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.broadcast3",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 81,
        "context": "        i18n.t('help.broadcast') +\n        i18n.t('help.broadcast2') +\n        i18n.t('help.broadcast3') +\n        i18n.t('help.cancel') +\n        i18n.t('help.text32') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.cancel",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 82,
        "context": "        i18n.t('help.broadcast2') +\n        i18n.t('help.broadcast3') +\n        i18n.t('help.cancel') +\n        i18n.t('help.text32') +\n        i18n.t('help.text');"
      }
    ],
    "count": 1
  },
  {
    "key": "help.admin4",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 91,
        "context": "      helpMessage +=\n        `\\n\\n━━━━━━━━━━━━━━━━\\n` +\n        i18n.t('help.admin4') +\n        i18n.t('help.admin6') +\n        i18n.t('help.admin3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.admin6",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 92,
        "context": "        `\\n\\n━━━━━━━━━━━━━━━━\\n` +\n        i18n.t('help.admin4') +\n        i18n.t('help.admin6') +\n        i18n.t('help.admin3') +\n        i18n.t('help.admin2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.admin3",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 93,
        "context": "        i18n.t('help.admin4') +\n        i18n.t('help.admin6') +\n        i18n.t('help.admin3') +\n        i18n.t('help.admin2') +\n        i18n.t('help.admin') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.admin2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 94,
        "context": "        i18n.t('help.admin6') +\n        i18n.t('help.admin3') +\n        i18n.t('help.admin2') +\n        i18n.t('help.admin') +\n        i18n.t('help.broadcast6') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.admin",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 95,
        "context": "        i18n.t('help.admin3') +\n        i18n.t('help.admin2') +\n        i18n.t('help.admin') +\n        i18n.t('help.broadcast6') +\n        i18n.t('help.message8') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.broadcast6",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 96,
        "context": "        i18n.t('help.admin2') +\n        i18n.t('help.admin') +\n        i18n.t('help.broadcast6') +\n        i18n.t('help.message8') +\n        i18n.t('help.message5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.message8",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 97,
        "context": "        i18n.t('help.admin') +\n        i18n.t('help.broadcast6') +\n        i18n.t('help.message8') +\n        i18n.t('help.message5') +\n        i18n.t('help.message2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.message5",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 98,
        "context": "        i18n.t('help.broadcast6') +\n        i18n.t('help.message8') +\n        i18n.t('help.message5') +\n        i18n.t('help.message2') +\n        i18n.t('help.message4') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.message2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 99,
        "context": "        i18n.t('help.message8') +\n        i18n.t('help.message5') +\n        i18n.t('help.message2') +\n        i18n.t('help.message4') +\n        i18n.t('help.text3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.message4",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 100,
        "context": "        i18n.t('help.message5') +\n        i18n.t('help.message2') +\n        i18n.t('help.message4') +\n        i18n.t('help.text3') +\n        i18n.t('help.text7') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text3",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 101,
        "context": "        i18n.t('help.message2') +\n        i18n.t('help.message4') +\n        i18n.t('help.text3') +\n        i18n.t('help.text7') +\n        i18n.t('help.message3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text7",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 102,
        "context": "        i18n.t('help.message4') +\n        i18n.t('help.text3') +\n        i18n.t('help.text7') +\n        i18n.t('help.message3') +\n        i18n.t('help.vip') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.message3",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 103,
        "context": "        i18n.t('help.text3') +\n        i18n.t('help.text7') +\n        i18n.t('help.message3') +\n        i18n.t('help.vip') +\n        i18n.t('help.birthday') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.vip",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 104,
        "context": "        i18n.t('help.text7') +\n        i18n.t('help.message3') +\n        i18n.t('help.vip') +\n        i18n.t('help.birthday') +\n        i18n.t('help.text33') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.birthday",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 105,
        "context": "        i18n.t('help.message3') +\n        i18n.t('help.vip') +\n        i18n.t('help.birthday') +\n        i18n.t('help.text33') +\n        i18n.t('help.text11') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text33",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 106,
        "context": "        i18n.t('help.vip') +\n        i18n.t('help.birthday') +\n        i18n.t('help.text33') +\n        i18n.t('help.text11') +\n        i18n.t('help.ad2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text11",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 107,
        "context": "        i18n.t('help.birthday') +\n        i18n.t('help.text33') +\n        i18n.t('help.text11') +\n        i18n.t('help.ad2') +\n        i18n.t('help.vip3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ad2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 108,
        "context": "        i18n.t('help.text33') +\n        i18n.t('help.text11') +\n        i18n.t('help.ad2') +\n        i18n.t('help.vip3') +\n        i18n.t('help.text32') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.vip3",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 109,
        "context": "        i18n.t('help.text11') +\n        i18n.t('help.ad2') +\n        i18n.t('help.vip3') +\n        i18n.t('help.text32') +\n        i18n.t('help.text') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.message",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 112,
        "context": "        i18n.t('help.text32') +\n        i18n.t('help.text') +\n        i18n.t('help.message') +\n        i18n.t('help.message6') +\n        i18n.t('help.text34') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.message6",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 113,
        "context": "        i18n.t('help.text') +\n        i18n.t('help.message') +\n        i18n.t('help.message6') +\n        i18n.t('help.text34') +\n        i18n.t('help.text15') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text34",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 114,
        "context": "        i18n.t('help.message') +\n        i18n.t('help.message6') +\n        i18n.t('help.text34') +\n        i18n.t('help.text15') +\n        i18n.t('help.text6') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text15",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 115,
        "context": "        i18n.t('help.message6') +\n        i18n.t('help.text34') +\n        i18n.t('help.text15') +\n        i18n.t('help.text6') +\n        i18n.t('help.text12');"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text6",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 116,
        "context": "        i18n.t('help.text34') +\n        i18n.t('help.text15') +\n        i18n.t('help.text6') +\n        i18n.t('help.text12');\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text12",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 117,
        "context": "        i18n.t('help.text15') +\n        i18n.t('help.text6') +\n        i18n.t('help.text12');\n    }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text13",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 143,
        "context": "\n    const rulesMessage =\n      i18n.t('help.text13') +\n      i18n.t('help.bottle9') +\n      i18n.t('help.bottle3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.bottle9",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 144,
        "context": "    const rulesMessage =\n      i18n.t('help.text13') +\n      i18n.t('help.bottle9') +\n      i18n.t('help.bottle3') +\n      i18n.t('help.bottle6') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.bottle3",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 145,
        "context": "      i18n.t('help.text13') +\n      i18n.t('help.bottle9') +\n      i18n.t('help.bottle3') +\n      i18n.t('help.bottle6') +\n      i18n.t('help.bottle4') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.bottle6",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 146,
        "context": "      i18n.t('help.bottle9') +\n      i18n.t('help.bottle3') +\n      i18n.t('help.bottle6') +\n      i18n.t('help.bottle4') +\n      i18n.t('help.quota') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.bottle4",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 147,
        "context": "      i18n.t('help.bottle3') +\n      i18n.t('help.bottle6') +\n      i18n.t('help.bottle4') +\n      i18n.t('help.quota') +\n      i18n.t('help.bottle5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.quota",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 148,
        "context": "      i18n.t('help.bottle6') +\n      i18n.t('help.bottle4') +\n      i18n.t('help.quota') +\n      i18n.t('help.bottle5') +\n      i18n.t('help.text26') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.bottle5",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 149,
        "context": "      i18n.t('help.bottle4') +\n      i18n.t('help.quota') +\n      i18n.t('help.bottle5') +\n      i18n.t('help.text26') +\n      i18n.t('help.conversation2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text26",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 150,
        "context": "      i18n.t('help.quota') +\n      i18n.t('help.bottle5') +\n      i18n.t('help.text26') +\n      i18n.t('help.conversation2') +\n      i18n.t('help.text14') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.conversation2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 151,
        "context": "      i18n.t('help.bottle5') +\n      i18n.t('help.text26') +\n      i18n.t('help.conversation2') +\n      i18n.t('help.text14') +\n      i18n.t('help.text22') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text14",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 152,
        "context": "      i18n.t('help.text26') +\n      i18n.t('help.conversation2') +\n      i18n.t('help.text14') +\n      i18n.t('help.text22') +\n      i18n.t('help.text20') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text22",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 153,
        "context": "      i18n.t('help.conversation2') +\n      i18n.t('help.text14') +\n      i18n.t('help.text22') +\n      i18n.t('help.text20') +\n      i18n.t('help.text21') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text20",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 154,
        "context": "      i18n.t('help.text14') +\n      i18n.t('help.text22') +\n      i18n.t('help.text20') +\n      i18n.t('help.text21') +\n      i18n.t('help.vip2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text21",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 155,
        "context": "      i18n.t('help.text22') +\n      i18n.t('help.text20') +\n      i18n.t('help.text21') +\n      i18n.t('help.vip2') +\n      i18n.t('help.bottle') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.vip2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 156,
        "context": "      i18n.t('help.text20') +\n      i18n.t('help.text21') +\n      i18n.t('help.vip2') +\n      i18n.t('help.bottle') +\n      i18n.t('help.invite') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.bottle",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 157,
        "context": "      i18n.t('help.text21') +\n      i18n.t('help.vip2') +\n      i18n.t('help.bottle') +\n      i18n.t('help.invite') +\n      i18n.t('help.ad') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.invite",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 158,
        "context": "      i18n.t('help.vip2') +\n      i18n.t('help.bottle') +\n      i18n.t('help.invite') +\n      i18n.t('help.ad') +\n      i18n.t('help.ad5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ad",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 159,
        "context": "      i18n.t('help.bottle') +\n      i18n.t('help.invite') +\n      i18n.t('help.ad') +\n      i18n.t('help.ad5') +\n      i18n.t('help.text9') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ad5",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 160,
        "context": "      i18n.t('help.invite') +\n      i18n.t('help.ad') +\n      i18n.t('help.ad5') +\n      i18n.t('help.text9') +\n      i18n.t('help.text23') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text9",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 161,
        "context": "      i18n.t('help.ad') +\n      i18n.t('help.ad5') +\n      i18n.t('help.text9') +\n      i18n.t('help.text23') +\n      i18n.t('help.text28') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text23",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 162,
        "context": "      i18n.t('help.ad5') +\n      i18n.t('help.text9') +\n      i18n.t('help.text23') +\n      i18n.t('help.text28') +\n      i18n.t('help.text27') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text28",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 163,
        "context": "      i18n.t('help.text9') +\n      i18n.t('help.text23') +\n      i18n.t('help.text28') +\n      i18n.t('help.text27') +\n      i18n.t('help.text30') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text27",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 164,
        "context": "      i18n.t('help.text23') +\n      i18n.t('help.text28') +\n      i18n.t('help.text27') +\n      i18n.t('help.text30') +\n      i18n.t('help.ban6') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text30",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 165,
        "context": "      i18n.t('help.text28') +\n      i18n.t('help.text27') +\n      i18n.t('help.text30') +\n      i18n.t('help.ban6') +\n      i18n.t('help.vip6') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ban6",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 166,
        "context": "      i18n.t('help.text27') +\n      i18n.t('help.text30') +\n      i18n.t('help.ban6') +\n      i18n.t('help.vip6') +\n      i18n.t('help.throw') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.vip6",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 167,
        "context": "      i18n.t('help.text30') +\n      i18n.t('help.ban6') +\n      i18n.t('help.vip6') +\n      i18n.t('help.throw') +\n      i18n.t('help.success') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.throw",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 168,
        "context": "      i18n.t('help.ban6') +\n      i18n.t('help.vip6') +\n      i18n.t('help.throw') +\n      i18n.t('help.success') +\n      i18n.t('help.text29') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.success",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 169,
        "context": "      i18n.t('help.vip6') +\n      i18n.t('help.throw') +\n      i18n.t('help.success') +\n      i18n.t('help.text29') +\n      i18n.t('help.quota2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text29",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 170,
        "context": "      i18n.t('help.throw') +\n      i18n.t('help.success') +\n      i18n.t('help.text29') +\n      i18n.t('help.quota2') +\n      i18n.t('help.mbti') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.quota2",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 171,
        "context": "      i18n.t('help.success') +\n      i18n.t('help.text29') +\n      i18n.t('help.quota2') +\n      i18n.t('help.mbti') +\n      i18n.t('help.text4') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.mbti",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 172,
        "context": "      i18n.t('help.text29') +\n      i18n.t('help.quota2') +\n      i18n.t('help.mbti') +\n      i18n.t('help.text4') +\n      i18n.t('help.ad6') +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text4",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 173,
        "context": "      i18n.t('help.quota2') +\n      i18n.t('help.mbti') +\n      i18n.t('help.text4') +\n      i18n.t('help.ad6') +\n      `━━━━━━━━━━━━━━━━\\n` +"
      }
    ],
    "count": 1
  },
  {
    "key": "help.ad6",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 174,
        "context": "      i18n.t('help.mbti') +\n      i18n.t('help.text4') +\n      i18n.t('help.ad6') +\n      `━━━━━━━━━━━━━━━━\\n` +\n      i18n.t('help.text8');"
      }
    ],
    "count": 1
  },
  {
    "key": "help.text8",
    "files": [
      {
        "file": "src/telegram/handlers/help.ts",
        "line": 176,
        "context": "      i18n.t('help.ad6') +\n      `━━━━━━━━━━━━━━━━\\n` +\n      i18n.t('help.text8');\n\n    await telegram.sendMessage(chatId, rulesMessage);"
      }
    ],
    "count": 1
  },
  {
    "key": "history.errorRetry",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 60,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('history.errorRetry'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "history.noHistory",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 79,
        "context": "\n  if (conversations.length === 0) {\n    await telegram.sendMessage(chatId, i18n.t('history.noHistory'));\n    return;\n  }"
      }
    ],
    "count": 1
  },
  {
    "key": "history.chatHistory",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 83,
        "context": "  }\n\n  let message = i18n.t('history.chatHistory');\n\n  for (const conv of conversations) {"
      }
    ],
    "count": 1
  },
  {
    "key": "history.stats",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 139,
        "context": "  \n  let message = i18n.t('history.conversationWith', { identifier: formatIdentifier(identifier) });\n  message += i18n.t('history.stats');\n  message += i18n.t('history.totalMessages', { total: stats.t"
      }
    ],
    "count": 1
  },
  {
    "key": "history.recentMessages",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 151,
        "context": "  }\n\n  message += i18n.t('history.recentMessages');\n\n  if (messages.length === 0) {"
      }
    ],
    "count": 1
  },
  {
    "key": "history.you",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 158,
        "context": "    for (const msg of messages) {\n      const time = formatTime(msg.created_at, user?.language_pref || 'zh-TW');\n      const sender = msg.sender_telegram_id === telegramId ? i18n.t('history.you') : fo"
      }
    ],
    "count": 1
  },
  {
    "key": "history.continueConversation",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 165,
        "context": "  }\n\n  message += i18n.t('history.continueConversation');\n  message += i18n.t('history.returnToMenu');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "history.continueChatButton",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 169,
        "context": "\n  await telegram.sendMessageWithButtons(chatId, message, [\n    [{ text: i18n.t('history.continueChatButton'), callback_data: 'menu_chats' }],\n    [{ text: i18n.t('history.returnToMenuButton'), callba"
      }
    ],
    "count": 1
  },
  {
    "key": "history.returnToMenuButton",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 170,
        "context": "  await telegram.sendMessageWithButtons(chatId, message, [\n    [{ text: i18n.t('history.continueChatButton'), callback_data: 'menu_chats' }],\n    [{ text: i18n.t('history.returnToMenuButton'), callbac"
      }
    ],
    "count": 1
  },
  {
    "key": "history.minutesAgo",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 202,
        "context": "    return locale === 'zh-TW' ? '剛剛' : 'just now'; // Fallback only, should use i18n.t('history.justNow')\n  } else if (diffMins < 60) {\n    return locale === 'zh-TW' ? `${diffMins} 分鐘前` : `${diffMins}"
      }
    ],
    "count": 1
  },
  {
    "key": "history.hoursAgo",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 204,
        "context": "    return locale === 'zh-TW' ? `${diffMins} 分鐘前` : `${diffMins} min ago`; // Fallback only, should use i18n.t('history.minutesAgo')\n  } else if (diffHours < 24) {\n    return locale === 'zh-TW' ? `${d"
      }
    ],
    "count": 1
  },
  {
    "key": "history.daysAgo",
    "files": [
      {
        "file": "src/telegram/handlers/history.ts",
        "line": 206,
        "context": "    return locale === 'zh-TW' ? `${diffHours} 小時前` : `${diffHours} hr ago`; // Fallback only, should use i18n.t('history.hoursAgo')\n  } else if (diffDays < 7) {\n    return locale === 'zh-TW' ? `${diff"
      }
    ],
    "count": 1
  },
  {
    "key": "common.newUser",
    "files": [
      {
        "file": "src/telegram/handlers/invite_activation.ts",
        "line": 62,
        "context": "  const { formatNicknameWithFlag } = await import('~/utils/country_flag');\n  const displayNickname = formatNicknameWithFlag(\n    maskNickname(invitee.nickname || i18n.t('common.newUser')),\n    invitee"
      }
    ],
    "count": 1
  },
  {
    "key": "common.free",
    "files": [
      {
        "file": "src/telegram/handlers/invite_activation.ts",
        "line": 70,
        "context": "  const maxInvites = getInviteLimit(inviter);\n  const newQuota = calculateDailyQuota(inviter);\n  const userType = inviter.is_vip ? 'VIP ' : i18n.t('common.free');\n\n  // Build message"
      }
    ],
    "count": 1
  },
  {
    "key": "invite.upgradePrompt",
    "files": [
      {
        "file": "src/telegram/handlers/invite_activation.ts",
        "line": 95,
        "context": "      });\n  } else if (!inviter.is_vip) {\n    message += '\\n\\n' + i18n.t('invite.upgradePrompt');\n  }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "invite.inviteeSuccess",
    "files": [
      {
        "file": "src/telegram/handlers/invite_activation.ts",
        "line": 107,
        "context": "  const i18n = createI18n(invitee.language_pref || 'zh-TW');\n\n  const message = i18n.t('invite.inviteeSuccess');\n\n  await telegram.sendMessage(invitee.telegram_id, message);"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.startRegistration",
    "files": [
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 163,
        "context": "  const i18n = createI18n(languageCode);\n\n  await telegram.sendMessage(chatId, i18n.t('onboarding.startRegistration'));\n\n  // Offer nickname options"
      }
    ],
    "count": 1
  },
  {
    "key": "common.nickname7",
    "files": [
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 170,
        "context": "  if (suggestedNickname) {\n    const nicknameMessage =\n      i18n.t('common.nickname7') +\n      i18n.t('warnings.warning.short4') +\n      i18n.t('common.nickname5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.customNickname",
    "files": [
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 186,
        "context": "          },\n        ],\n        [{ text: i18n.t('onboarding.customNickname'), callback_data: 'nickname_custom' }],\n      ]\n    );"
      }
    ],
    "count": 1
  },
  {
    "key": "common.nickname8",
    "files": [
      {
        "file": "src/telegram/handlers/language_selection.ts",
        "line": 192,
        "context": "    // No Telegram nickname, ask for custom nickname\n    const nicknameMessage =\n      i18n.t('common.nickname8') +\n      i18n.t('warnings.warning.short4') +\n      i18n.t('common.nickname5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "maintenance.usageError",
    "files": [
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 39,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('maintenance.usageError') + '\\n\\n' +\n          i18n.t('maintenance.correctFormat') + '\\n' +\n          i18n.t('maintenance.example')"
      }
    ],
    "count": 1
  },
  {
    "key": "maintenance.correctFormat",
    "files": [
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 40,
        "context": "        chatId,\n        i18n.t('maintenance.usageError') + '\\n\\n' +\n          i18n.t('maintenance.correctFormat') + '\\n' +\n          i18n.t('maintenance.example')\n      );"
      }
    ],
    "count": 1
  },
  {
    "key": "maintenance.example",
    "files": [
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 41,
        "context": "        i18n.t('maintenance.usageError') + '\\n\\n' +\n          i18n.t('maintenance.correctFormat') + '\\n' +\n          i18n.t('maintenance.example')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "maintenance.durationMustBeNumber",
    "files": [
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 49,
        "context": "    const duration = parseInt(parts[1]);\n    if (isNaN(duration)) {\n      await telegram.sendMessage(chatId, i18n.t('maintenance.durationMustBeNumber'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "maintenance.enableFailed",
    "files": [
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 115,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('maintenance.enableFailed'));\n  "
      }
    ],
    "count": 1
  },
  {
    "key": "maintenance.disableSuccess",
    "files": [
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 152,
        "context": "\n    // Confirm to admin\n    await telegram.sendMessage(chatId, i18n.t('maintenance.disableSuccess'));\n  } catch (error) {\n    console.error('[handleMaintenanceDisable] Error:', error);"
      }
    ],
    "count": 1
  },
  {
    "key": "maintenance.disableFailed",
    "files": [
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 158,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('maintenance.disableFailed'));\n "
      }
    ],
    "count": 1
  },
  {
    "key": "maintenance.statusFailed",
    "files": [
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 177,
        "context": "    const maintenance = await getMaintenanceMode(db);\n    if (!maintenance) {\n      await telegram.sendMessage(chatId, i18n.t('maintenance.statusFailed'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "error.failed10",
    "files": [
      {
        "file": "src/telegram/handlers/maintenance.ts",
        "line": 188,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('error.failed10'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "warnings.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 30,
        "context": "    if (!user) {\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('warnings.userNotFound'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "common.mbti5",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 37,
        "context": "\n    // Build status message\n    let statusMessage = i18n.t('common.mbti5') + '\\n\\n';\n\n    if (user.mbti_result) {"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.unknown",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 47,
        "context": "          : user.mbti_source === 'test'\n            ? i18n.t('common.short106')\n            : i18n.t('catch.unknown');\n\n      statusMessage +="
      }
    ],
    "count": 1
  },
  {
    "key": "common.short58",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 55,
        "context": "        '\\n\\n' +\n        `${description?.zh_TW || ''}\\n\\n` +\n        i18n.t('common.short58');\n    } else {\n      // User has no MBTI set"
      }
    ],
    "count": 1
  },
  {
    "key": "common.settings10",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 59,
        "context": "      // User has no MBTI set\n      statusMessage +=\n        i18n.t('common.settings10') +\n        '\\n\\n' +\n        i18n.t('common.help') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.back2",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 70,
        "context": "      [{ text: i18n.t('common.mbti9'), callback_data: 'mbti_menu_test' }],\n      [{ text: i18n.t('common.mbti10'), callback_data: 'mbti_menu_manual' }],\n      [{ text: i18n.t('common.back2'), callback"
      }
    ],
    "count": 1
  },
  {
    "key": "common.mbti4",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 105,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('common.mbti4') +\n        '\\n\\n' +\n        i18n.t('common.text61') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text61",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 107,
        "context": "      i18n.t('common.mbti4') +\n        '\\n\\n' +\n        i18n.t('common.text61') +\n        '\\n' +\n        i18n.t('common.text106') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text106",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 109,
        "context": "        i18n.t('common.text61') +\n        '\\n' +\n        i18n.t('common.text106') +\n        '\\n' +\n        i18n.t('success.text7') +"
      }
    ],
    "count": 1
  },
  {
    "key": "success.text7",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 111,
        "context": "        i18n.t('common.text106') +\n        '\\n' +\n        i18n.t('success.text7') +\n        '\\n\\n' +\n        i18n.t('common.text62') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text62",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 113,
        "context": "        i18n.t('success.text7') +\n        '\\n\\n' +\n        i18n.t('common.text62') +\n        '\\n' +\n        i18n.t('common.text107') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text107",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 115,
        "context": "        i18n.t('common.text62') +\n        '\\n' +\n        i18n.t('common.text107') +\n        '\\n' +\n        i18n.t('success.text13') +"
      }
    ],
    "count": 1
  },
  {
    "key": "success.text13",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 117,
        "context": "        i18n.t('common.text107') +\n        '\\n' +\n        i18n.t('success.text13') +\n        '\\n' +\n        i18n.t('success.text9') +"
      }
    ],
    "count": 1
  },
  {
    "key": "success.text9",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 119,
        "context": "        i18n.t('success.text13') +\n        '\\n' +\n        i18n.t('success.text9') +\n        '\\n\\n' +\n        i18n.t('common.short21'),"
      }
    ],
    "count": 1
  },
  {
    "key": "common.short21",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 121,
        "context": "        i18n.t('success.text9') +\n        '\\n\\n' +\n        i18n.t('common.short21'),\n      [\n        [{ text: i18n.t('common.text117'), callback_data: 'mbti_test_quick' }],"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text117",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 123,
        "context": "        i18n.t('common.short21'),\n      [\n        [{ text: i18n.t('common.text117'), callback_data: 'mbti_test_quick' }],\n        [{ text: i18n.t('common.text118'), callback_data: 'mbti_test_full' }],"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text118",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 124,
        "context": "      [\n        [{ text: i18n.t('common.text117'), callback_data: 'mbti_test_quick' }],\n        [{ text: i18n.t('common.text118'), callback_data: 'mbti_test_full' }],\n        [{ text: i18n.t('buttons."
      }
    ],
    "count": 1
  },
  {
    "key": "success.start2",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 153,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.start2'));\n\n    // Delete menu message"
      }
    ],
    "count": 1
  },
  {
    "key": "success.start3",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 186,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.start3'));\n\n    // Delete menu message"
      }
    ],
    "count": 1
  },
  {
    "key": "success.mbti3",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 280,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.mbti3'));\n\n    // Delete menu message"
      }
    ],
    "count": 1
  },
  {
    "key": "success.mbti2",
    "files": [
      {
        "file": "src/telegram/handlers/mbti.ts",
        "line": 288,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('success.mbti2') +\n        '\\n\\n' +\n        i18n.t('common.settings9')"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.fullTest",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 66,
        "context": "\n  // Determine test title and disclaimer based on version\n  const testTitle = version === 'full' ? i18n.t('mbtiTest.fullTest') : i18n.t('mbtiTest.quickTest');\n  const testInfo = version === 'full' ? "
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.quickTest",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 66,
        "context": "\n  // Determine test title and disclaimer based on version\n  const testTitle = version === 'full' ? i18n.t('mbtiTest.fullTest') : i18n.t('mbtiTest.quickTest');\n  const testInfo = version === 'full' ? "
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.questions36",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 67,
        "context": "  // Determine test title and disclaimer based on version\n  const testTitle = version === 'full' ? i18n.t('mbtiTest.fullTest') : i18n.t('mbtiTest.quickTest');\n  const testInfo = version === 'full' ? i"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.questions12",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 67,
        "context": "  // Determine test title and disclaimer based on version\n  const testTitle = version === 'full' ? i18n.t('mbtiTest.fullTest') : i18n.t('mbtiTest.quickTest');\n  const testInfo = version === 'full' ? i"
      }
    ],
    "count": 1
  },
  {
    "key": "warning.end",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 117,
        "context": "    const progress = await getMBTITestProgress(db, telegramId);\n    if (!progress) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warning.end'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.questionOrderError",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 123,
        "context": "    // Verify question index matches current progress\n    if (questionIndex !== progress.current_question) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('mbtiTest.questionOrderEr"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.answerRecorded",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 131,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('mbtiTest.answerRecorded'));\n\n    // Delete question message"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.fullTestTitle",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 187,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n(user.language_pref || 'zh-TW');\n    const testTitle = version === 'full' ? i18n.t('mbtiTest.fullTestTitle') : i18n.t('mbt"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.quickTestTitle",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 187,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n(user.language_pref || 'zh-TW');\n    const testTitle = version === 'full' ? i18n.t('mbtiTest.fullTestTitle') : i18n.t('mbt"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.fullQuestions",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 188,
        "context": "    const i18n = createI18n(user.language_pref || 'zh-TW');\n    const testTitle = version === 'full' ? i18n.t('mbtiTest.fullTestTitle') : i18n.t('mbtiTest.quickTestTitle');\n    const testInfo = versio"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.quickQuestions",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 188,
        "context": "    const i18n = createI18n(user.language_pref || 'zh-TW');\n    const testTitle = version === 'full' ? i18n.t('mbtiTest.fullTestTitle') : i18n.t('mbtiTest.quickTestTitle');\n    const testInfo = versio"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.fullAccuracy",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 189,
        "context": "    const testTitle = version === 'full' ? i18n.t('mbtiTest.fullTestTitle') : i18n.t('mbtiTest.quickTestTitle');\n    const testInfo = version === 'full' ? i18n.t('mbtiTest.fullQuestions') : i18n.t('mb"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.quickAccuracy",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 189,
        "context": "    const testTitle = version === 'full' ? i18n.t('mbtiTest.fullTestTitle') : i18n.t('mbtiTest.quickTestTitle');\n    const testInfo = version === 'full' ? i18n.t('mbtiTest.fullQuestions') : i18n.t('mb"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.afterRegistration",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 197,
        "context": "      `${result.description_zh_TW}\\n\\n` +\n      i18n.t('mbtiTest.note', { testInfo, testTitle, accuracy }) +\n      i18n.t('mbtiTest.afterRegistration') +\n      i18n.t('mbtiTest.moreDetailedTest') +\n  "
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.moreDetailedTest",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 198,
        "context": "      i18n.t('mbtiTest.note', { testInfo, testTitle, accuracy }) +\n      i18n.t('mbtiTest.afterRegistration') +\n      i18n.t('mbtiTest.moreDetailedTest') +\n      i18n.t('mbtiTest.manualModify');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "mbtiTest.manualModify",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 199,
        "context": "      i18n.t('mbtiTest.afterRegistration') +\n      i18n.t('mbtiTest.moreDetailedTest') +\n      i18n.t('mbtiTest.manualModify');\n\n    // If in onboarding, show message only (no buttons)"
      }
    ],
    "count": 1
  },
  {
    "key": "buttons.mbtiMenu",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 207,
        "context": "      // If not in onboarding, show buttons to navigate\n      await telegram.sendMessageWithButtons(chatId, completionMessage, [\n        [{ text: i18n.t('buttons.mbtiMenu'), callback_data: 'mbti_menu_"
      }
    ],
    "count": 1
  },
  {
    "key": "buttons.returnToMenu",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 208,
        "context": "      await telegram.sendMessageWithButtons(chatId, completionMessage, [\n        [{ text: i18n.t('buttons.mbtiMenu'), callback_data: 'mbti_menu_from_completion' }],\n        [{ text: i18n.t('buttons.re"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraudFinalStep",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 220,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.antiFraudFinalStep') +\n          i18n.t('onboarding.antiFraudQuestions') +\n          i18n.t('onboarding.antiFrau"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraudQuestions",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 221,
        "context": "        chatId,\n        i18n.t('onboarding.antiFraudFinalStep') +\n          i18n.t('onboarding.antiFraudQuestions') +\n          i18n.t('onboarding.antiFraudQuestion1') +\n          i18n.t('onboarding.a"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraudQuestion1",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 222,
        "context": "        i18n.t('onboarding.antiFraudFinalStep') +\n          i18n.t('onboarding.antiFraudQuestions') +\n          i18n.t('onboarding.antiFraudQuestion1') +\n          i18n.t('onboarding.antiFraudQuestion"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraudQuestion2",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 223,
        "context": "          i18n.t('onboarding.antiFraudQuestions') +\n          i18n.t('onboarding.antiFraudQuestion1') +\n          i18n.t('onboarding.antiFraudQuestion2') +\n          i18n.t('onboarding.antiFraudQuesti"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraudQuestion3",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 224,
        "context": "          i18n.t('onboarding.antiFraudQuestion1') +\n          i18n.t('onboarding.antiFraudQuestion2') +\n          i18n.t('onboarding.antiFraudQuestion3') +\n          i18n.t('onboarding.antiFraudConfir"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraudConfirm",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 225,
        "context": "          i18n.t('onboarding.antiFraudQuestion2') +\n          i18n.t('onboarding.antiFraudQuestion3') +\n          i18n.t('onboarding.antiFraudConfirm'),\n        [\n          [{ text: i18n.t('onboarding"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraudYes",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 227,
        "context": "          i18n.t('onboarding.antiFraudConfirm'),\n        [\n          [{ text: i18n.t('onboarding.antiFraudYes'), callback_data: 'anti_fraud_yes' }],\n          [{ text: i18n.t('onboarding.antiFraudLear"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraudLearn",
    "files": [
      {
        "file": "src/telegram/handlers/mbti_test.ts",
        "line": 228,
        "context": "        [\n          [{ text: i18n.t('onboarding.antiFraudYes'), callback_data: 'anti_fraud_yes' }],\n          [{ text: i18n.t('onboarding.antiFraudLearn'), callback_data: 'anti_fraud_learn' }],\n      "
      }
    ],
    "count": 1
  },
  {
    "key": "menu.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 35,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n('zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('menu.userNotFound'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.notRegistered",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 44,
        "context": "    // Check if user completed onboarding\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('menu.notRegistered'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.title",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 59,
        "context": "    // Build menu message\n    let menuMessage =\n      `${i18n.t('menu.title')} ${vipBadge}\\n\\n` +\n      `${i18n.t('menu.greeting', { nickname: user.nickname })}\\n\\n` +\n      `${i18n.t('menu.yourStatus"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.yourStatus",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 61,
        "context": "      `${i18n.t('menu.title')} ${vipBadge}\\n\\n` +\n      `${i18n.t('menu.greeting', { nickname: user.nickname })}\\n\\n` +\n      `${i18n.t('menu.yourStatus')}\\n` +\n      `• ${isVip ? i18n.t('menu.levelVi"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.levelVip",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 62,
        "context": "      `${i18n.t('menu.greeting', { nickname: user.nickname })}\\n\\n` +\n      `${i18n.t('menu.yourStatus')}\\n` +\n      `• ${isVip ? i18n.t('menu.levelVip') : i18n.t('menu.levelFree')}\\n` +\n      `${i18n"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.levelFree",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 62,
        "context": "      `${i18n.t('menu.greeting', { nickname: user.nickname })}\\n\\n` +\n      `${i18n.t('menu.yourStatus')}\\n` +\n      `• ${isVip ? i18n.t('menu.levelVip') : i18n.t('menu.levelFree')}\\n` +\n      `${i18n"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.selectFeature",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 79,
        "context": "    }\n\n    menuMessage += i18n.t('menu.selectFeature');\n\n    // Build menu buttons"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.buttonThrow",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 84,
        "context": "    const buttons = [\n      [\n        { text: i18n.t('menu.buttonThrow'), callback_data: 'menu_throw' },\n        { text: i18n.t('menu.buttonCatch'), callback_data: 'menu_catch' },\n      ],"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.buttonCatch",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 85,
        "context": "      [\n        { text: i18n.t('menu.buttonThrow'), callback_data: 'menu_throw' },\n        { text: i18n.t('menu.buttonCatch'), callback_data: 'menu_catch' },\n      ],\n      ["
      }
    ],
    "count": 1
  },
  {
    "key": "menu.buttonProfile",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 88,
        "context": "      ],\n      [\n        { text: i18n.t('menu.buttonProfile'), callback_data: 'menu_profile' },\n        { text: i18n.t('menu.buttonStats'), callback_data: 'menu_stats' },\n      ],"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.buttonStats",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 89,
        "context": "      [\n        { text: i18n.t('menu.buttonProfile'), callback_data: 'menu_profile' },\n        { text: i18n.t('menu.buttonStats'), callback_data: 'menu_stats' },\n      ],\n      ["
      }
    ],
    "count": 1
  },
  {
    "key": "menu.buttonInvite",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 92,
        "context": "      ],\n      [\n        { text: i18n.t('menu.buttonInvite'), callback_data: 'menu_invite' },\n        { text: i18n.t('menu.buttonChats'), callback_data: 'menu_chats' },\n      ],"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.buttonChats",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 93,
        "context": "      [\n        { text: i18n.t('menu.buttonInvite'), callback_data: 'menu_invite' },\n        { text: i18n.t('menu.buttonChats'), callback_data: 'menu_chats' },\n      ],\n      ["
      }
    ],
    "count": 1
  },
  {
    "key": "menu.buttonSettings",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 96,
        "context": "      ],\n      [\n        { text: i18n.t('menu.buttonSettings'), callback_data: 'menu_settings' },\n        { text: i18n.t('menu.buttonHelp'), callback_data: 'menu_help' },\n      ],"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.buttonHelp",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 97,
        "context": "      [\n        { text: i18n.t('menu.buttonSettings'), callback_data: 'menu_settings' },\n        { text: i18n.t('menu.buttonHelp'), callback_data: 'menu_help' },\n      ],\n    ];"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.buttonVip",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 109,
        "context": "    // Add VIP button for non-VIP users\n    if (!isVip) {\n      buttons.push([{ text: i18n.t('menu.buttonVip'), callback_data: 'menu_vip' }]);\n    }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "warning.invite",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 183,
        "context": "        // Get user's invite code and show share options\n        if (!user || !user.invite_code) {\n          await telegram.sendMessage(chatId, i18n.t('warning.invite'));\n          break;\n        }"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.invite",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 194,
        "context": "        await telegram.sendMessageWithButtons(\n          chatId,\n          i18n.t('menu.invite') + '\\n\\n' +\n            i18n.t('menu.invite2').replace('\\\\`', '`').replace('${inviteCode}', inviteCode) "
      }
    ],
    "count": 1
  },
  {
    "key": "menu.invite2",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 195,
        "context": "          chatId,\n          i18n.t('menu.invite') + '\\n\\n' +\n            i18n.t('menu.invite2').replace('\\\\`', '`').replace('${inviteCode}', inviteCode) + '\\n\\n' +\n            i18n.t('menu.text3') + '"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.text3",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 196,
        "context": "          i18n.t('menu.invite') + '\\n\\n' +\n            i18n.t('menu.invite2').replace('\\\\`', '`').replace('${inviteCode}', inviteCode) + '\\n\\n' +\n            i18n.t('menu.text3') + '\\n' +\n            "
      }
    ],
    "count": 1
  },
  {
    "key": "menu.register",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 197,
        "context": "            i18n.t('menu.invite2').replace('\\\\`', '`').replace('${inviteCode}', inviteCode) + '\\n\\n' +\n            i18n.t('menu.text3') + '\\n' +\n            i18n.t('menu.register') + '\\n' +\n          "
      }
    ],
    "count": 1
  },
  {
    "key": "menu.bottle",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 198,
        "context": "            i18n.t('menu.text3') + '\\n' +\n            i18n.t('menu.register') + '\\n' +\n            i18n.t('menu.bottle') + '\\n' +\n            i18n.t('menu.quota') + '\\n\\n' +\n            i18n.t('menu.s"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.quota",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 199,
        "context": "            i18n.t('menu.register') + '\\n' +\n            i18n.t('menu.bottle') + '\\n' +\n            i18n.t('menu.quota') + '\\n\\n' +\n            i18n.t('menu.stats'),\n          ["
      }
    ],
    "count": 1
  },
  {
    "key": "menu.stats",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 200,
        "context": "            i18n.t('menu.bottle') + '\\n' +\n            i18n.t('menu.quota') + '\\n\\n' +\n            i18n.t('menu.stats'),\n          [\n            [{ text: i18n.t('menu.invite3'), url: shareUrl }],"
      }
    ],
    "count": 1
  },
  {
    "key": "menu.stats2",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 203,
        "context": "          [\n            [{ text: i18n.t('menu.invite3'), url: shareUrl }],\n            [{ text: i18n.t('menu.stats2'), callback_data: 'menu_profile' }],\n            [{ text: i18n.t('common.back3'), ca"
      }
    ],
    "count": 1
  },
  {
    "key": "common.loading",
    "files": [
      {
        "file": "src/telegram/handlers/menu.ts",
        "line": 276,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('common.loadin"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.mediaRestriction",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 54,
        "context": "      message.animation\n    ) {\n      await telegram.sendMessage(chatId, i18n.t('conversation.mediaRestriction'));\n      return true; // Handled, stop processing\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "messageForward.replyHint",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 169,
        "context": "      }\n\n      await telegram.sendMessage(chatId, i18n.t('messageForward.replyHint'));\n      return true;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "messageForward.urlNotAllowed",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 186,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('messageForward.urlNotAllowed') +\n          i18n.t('messageForward.urlNotAllowedDesc') +\n          i18n.t('messageForward.blockedUrls',"
      }
    ],
    "count": 1
  },
  {
    "key": "messageForward.urlNotAllowedDesc",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 187,
        "context": "        chatId,\n        i18n.t('messageForward.urlNotAllowed') +\n          i18n.t('messageForward.urlNotAllowedDesc') +\n          i18n.t('messageForward.blockedUrls', { urls: blockedUrlsText }) +\n    "
      }
    ],
    "count": 1
  },
  {
    "key": "messageForward.removeLinks",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 189,
        "context": "          i18n.t('messageForward.urlNotAllowedDesc') +\n          i18n.t('messageForward.blockedUrls', { urls: blockedUrlsText }) +\n          i18n.t('messageForward.removeLinks')\n      );\n      return "
      }
    ],
    "count": 1
  },
  {
    "key": "messageForward.vipDailyLimit",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 217,
        "context": "        i18n.t('messageForward.quotaExceeded', { used: usedToday, limit: dailyLimit }) +\n          (user.is_vip\n            ? i18n.t('messageForward.vipDailyLimit')\n            : i18n.t('messageForwar"
      }
    ],
    "count": 1
  },
  {
    "key": "messageForward.upgradeVip",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 218,
        "context": "          (user.is_vip\n            ? i18n.t('messageForward.vipDailyLimit')\n            : i18n.t('messageForward.upgradeVip'))\n      );\n      return true;"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.conversationInfoError",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 226,
        "context": "    const receiverId = getOtherUserId(conversation, telegramId);\n    if (!receiverId) {\n      await telegram.sendMessage(chatId, i18n.t('conversation.conversationInfoError'));\n      return true;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.otherUserNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 233,
        "context": "    const receiver = await findUserByTelegramId(db, receiverId);\n    if (!receiver) {\n      await telegram.sendMessage(chatId, i18n.t('onboarding.otherUserNotFound'));\n      return true;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.senderInfoError",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 240,
        "context": "    const sender = await findUserByTelegramId(db, telegramId);\n    if (!sender) {\n      await telegram.sendMessage(chatId, i18n.t('onboarding.senderInfoError'));\n      return true;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "conversation.replyHint",
    "files": [
      {
        "file": "src/telegram/handlers/message_forward.ts",
        "line": 479,
        "context": "\n    // Answer callback query\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('conversation.replyHint'));\n\n    // Send ForceReply message with conversation identifier"
      }
    ],
    "count": 1
  },
  {
    "key": "nickname.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/nickname_callback.ts",
        "line": 31,
        "context": "    \n    if (!user) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('nickname.userNotFound'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "nickname.cannotGetNickname",
    "files": [
      {
        "file": "src/telegram/handlers/nickname_callback.ts",
        "line": 39,
        "context": "\n    if (!nickname) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('nickname.cannotGetNickname'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "nickname.nicknameSet",
    "files": [
      {
        "file": "src/telegram/handlers/nickname_callback.ts",
        "line": 60,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('nickname.nicknameSet'));\n\n    // Delete nickname selection message"
      }
    ],
    "count": 1
  },
  {
    "key": "nickname.genderHint",
    "files": [
      {
        "file": "src/telegram/handlers/nickname_callback.ts",
        "line": 69,
        "context": "      chatId,\n      i18n.t('nickname.genderSelection', { nickname: truncatedNickname }) +\n        i18n.t('nickname.genderHint'),\n      [\n        ["
      }
    ],
    "count": 1
  },
  {
    "key": "nickname.customPrompt",
    "files": [
      {
        "file": "src/telegram/handlers/nickname_callback.ts",
        "line": 107,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('nickname.customPrompt') +\n        i18n.t('nickname.customHint')\n    );"
      }
    ],
    "count": 1
  },
  {
    "key": "nickname.customHint",
    "files": [
      {
        "file": "src/telegram/handlers/nickname_callback.ts",
        "line": 108,
        "context": "      chatId,\n      i18n.t('nickname.customPrompt') +\n        i18n.t('nickname.customHint')\n    );\n  } catch (error) {"
      }
    ],
    "count": 1
  },
  {
    "key": "officialAd.noAdsAvailable",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 101,
        "context": "    if (!ad) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('officialAd.noAdsAvailable'),\n        show_alert: true,\n      });"
      }
    ],
    "count": 1
  },
  {
    "key": "officialAd.claimRewardButton",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 146,
        "context": "        buttons.push([\n          {\n            text: i18n.t('officialAd.claimRewardButton'),\n            callback_data: `claim_ad_${ad.id}`,\n          },"
      }
    ],
    "count": 1
  },
  {
    "key": "officialAd.nextAd",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 157,
        "context": "      buttons.push([\n        {\n          text: i18n.t('officialAd.nextAd'),\n          callback_data: 'view_official_ad',\n        },"
      }
    ],
    "count": 1
  },
  {
    "key": "common.close",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 166,
        "context": "    buttons.push([\n      {\n        text: i18n.t('common.close'),\n        callback_data: 'cancel',\n      },"
      }
    ],
    "count": 1
  },
  {
    "key": "officialAd.cannotClaim",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 243,
        "context": "    if (!eligibility.is_eligible) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: eligibility.reason || i18n.t('officialAd.cannotClaim'),\n        show_alert: true,\n      }"
      }
    ],
    "count": 1
  },
  {
    "key": "officialAd.moreAdsAvailable",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 280,
        "context": "• 永久額度：+${ad.reward_quota}\n\n${availableAds.length > 0 ? i18n.t('officialAd.moreAdsAvailable') : i18n.t('officialAd.allAdsViewed')}\n    `.trim();\n"
      }
    ],
    "count": 1
  },
  {
    "key": "officialAd.noVerificationRequired",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 352,
        "context": "    if (!ad.requires_verification) {\n      await telegram.answerCallbackQuery(callbackQuery.id, {\n        text: i18n.t('officialAd.noVerificationRequired'),\n        show_alert: true,\n      });"
      }
    ],
    "count": 1
  },
  {
    "key": "officialAd.statsNoPermission",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 452,
        "context": "    \n    if (!user || !user.is_super_admin) {\n      await telegram.sendMessage(chatId, i18n.t('officialAd.statsNoPermission'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "officialAd.statsAdNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 460,
        "context": "      const ad = await getOfficialAdById(db, adId);\n      if (!ad) {\n        await telegram.sendMessage(chatId, i18n.t('officialAd.statsAdNotFound'));\n        return;\n      }"
      }
    ],
    "count": 1
  },
  {
    "key": "officialAd.statsNoAds",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 473,
        "context": "\n      if (allAds.length === 0) {\n        await telegram.sendMessage(chatId, i18n.t('officialAd.statsNoAds'));\n        return;\n      }"
      }
    ],
    "count": 1
  },
  {
    "key": "officialAd.statsTitle",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 477,
        "context": "      }\n\n      let message = i18n.t('officialAd.statsTitle');\n\n      for (const ad of allAds) {"
      }
    ],
    "count": 1
  },
  {
    "key": "error.failed16",
    "files": [
      {
        "file": "src/telegram/handlers/official_ad.ts",
        "line": 500,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('error.failed16'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "success.confirm3",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 58,
        "context": "          inline_keyboard: [\n            [\n              { text: i18n.t('success.confirm3'), callback_data: `gender_confirm_${gender}` },\n              { text: i18n.t('errors.error.short12'), callback"
      }
    ],
    "count": 1
  },
  {
    "key": "errors.error.short12",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 59,
        "context": "            [\n              { text: i18n.t('success.confirm3'), callback_data: `gender_confirm_${gender}` },\n              { text: i18n.t('errors.error.short12'), callback_data: 'gender_reselect' },\n "
      }
    ],
    "count": 1
  },
  {
    "key": "success.gender",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 104,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.gender'));\n\n    // Delete confirmation message"
      }
    ],
    "count": 1
  },
  {
    "key": "common.birthday3",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 112,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('common.birthday3') +\n        '\\n\\n' +\n        i18n.t('common.text10') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.gender3",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 150,
        "context": "      chatId,\n      callbackQuery.message!.message_id,\n      i18n.t('common.gender3') +\n        '\\n\\n' +\n        i18n.t('warnings.settings'),"
      }
    ],
    "count": 1
  },
  {
    "key": "common.short86",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 157,
        "context": "          inline_keyboard: [\n            [\n              { text: i18n.t('common.short86'), callback_data: 'gender_male' },\n              { text: i18n.t('common.short87'), callback_data: 'gender_female"
      }
    ],
    "count": 1
  },
  {
    "key": "common.short87",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 158,
        "context": "            [\n              { text: i18n.t('common.short86'), callback_data: 'gender_male' },\n              { text: i18n.t('common.short87'), callback_data: 'gender_female' },\n            ],\n         "
      }
    ],
    "count": 1
  },
  {
    "key": "errors.error.birthday3",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 212,
        "context": "\n    if (age === null || zodiacSign === null) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.error.birthday3'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "errors.error.text23",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 222,
        "context": "        chatId,\n        callbackQuery.message!.message_id,\n        i18n.t('errors.error.text23') +\n          '\\n\\n' +\n          i18n.t('common.text20')"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text20",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 224,
        "context": "        i18n.t('errors.error.text23') +\n          '\\n\\n' +\n          i18n.t('common.text20')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "success.birthday",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 240,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.birthday'));\n\n    // Delete confirmation message"
      }
    ],
    "count": 1
  },
  {
    "key": "common.bloodType",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 251,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('common.bloodType') +\n        '\\n\\n' +\n        i18n.t('common.vip') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.vip",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 253,
        "context": "      i18n.t('common.bloodType') +\n        '\\n\\n' +\n        i18n.t('common.vip') +\n        '\\n\\n' +\n        i18n.t('common.bloodType3'),"
      }
    ],
    "count": 1
  },
  {
    "key": "warnings.bloodType",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 302,
        "context": "    // Check if user is in blood_type step\n    if (user.onboarding_step !== 'blood_type') {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warnings.bloodType'));\n      return;\n    "
      }
    ],
    "count": 1
  },
  {
    "key": "success.settings6",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 321,
        "context": "    const displayText = bloodType\n      ? i18n.t('success.settings4', { getBloodTypeDisplay: () => getBloodTypeDisplay(bloodType as any) }).replace(/\\$\\{getBloodTypeDisplay\\(bloodType as any\\)\\}/, get"
      }
    ],
    "count": 1
  },
  {
    "key": "common.birthday2",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 368,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('common.birthday2') +\n        '\\n\\n' +\n        i18n.t('common.text10') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.settings4",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 425,
        "context": "      i18n.t('common.mbti8') +\n        '\\n\\n' +\n        i18n.t('common.settings4'),\n      [\n        ["
      }
    ],
    "count": 1
  },
  {
    "key": "success.start4",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 486,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.start4'));\n\n    // Delete choice message"
      }
    ],
    "count": 1
  },
  {
    "key": "success.short18",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 525,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.short18'));\n\n    // Delete choice message"
      }
    ],
    "count": 1
  },
  {
    "key": "common.settings3",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 533,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('common.settings3') +\n        '\\n\\n' +\n        i18n.t('common.settings') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.settings",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 535,
        "context": "      i18n.t('common.settings3') +\n        '\\n\\n' +\n        i18n.t('common.settings') +\n        '\\n\\n' +\n        i18n.t('common.confirm2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.confirm2",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 537,
        "context": "        i18n.t('common.settings') +\n        '\\n\\n' +\n        i18n.t('common.confirm2') +\n        '\\n\\n' +\n        i18n.t('common.confirm') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text2",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 670,
        "context": "        '\\n\\n' +\n        `${description?.zh_TW || ''}\\n\\n` +\n        i18n.t('common.text2')\n    );\n"
      }
    ],
    "count": 1
  },
  {
    "key": "warnings.mbti",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 726,
        "context": "    // Check if user is in MBTI step\n    if (user.onboarding_step !== 'mbti') {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warnings.mbti'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "warnings.text5",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 797,
        "context": "    // Check if user is in anti_fraud step\n    if (user.onboarding_step !== 'anti_fraud') {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warnings.text5'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "success.confirm2",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 809,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.confirm2'));\n\n    // Delete anti-fraud message"
      }
    ],
    "count": 1
  },
  {
    "key": "success.text29",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 817,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('success.text29') +\n        '\\n\\n' +\n        i18n.t('common.text12') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text12",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 819,
        "context": "      i18n.t('success.text29') +\n        '\\n\\n' +\n        i18n.t('common.text12') +\n        '\\n\\n' +\n        i18n.t('common.start') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.start",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 821,
        "context": "        i18n.t('common.text12') +\n        '\\n\\n' +\n        i18n.t('common.start') +\n        '\\n\\n' +\n        i18n.t('common.profile') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.profile",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 823,
        "context": "        i18n.t('common.start') +\n        '\\n\\n' +\n        i18n.t('common.profile') +\n        '\\n' +\n        i18n.t('common.text6') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text6",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 825,
        "context": "        i18n.t('common.profile') +\n        '\\n' +\n        i18n.t('common.text6') +\n        '\\n\\n' +\n        '📋 Legal documents are provided in English only.\\n\\n' +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text7",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 828,
        "context": "        '\\n\\n' +\n        '📋 Legal documents are provided in English only.\\n\\n' +\n        i18n.t('common.text7'),\n      [\n        [{ text: i18n.t('success.short17'), callback_data: 'agree_terms' }],"
      }
    ],
    "count": 1
  },
  {
    "key": "success.short17",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 830,
        "context": "        i18n.t('common.text7'),\n      [\n        [{ text: i18n.t('success.short17'), callback_data: 'agree_terms' }],\n        [{ text: '📋 View Privacy Policy', url: LEGAL_URLS.PRIVACY_POLICY }],\n     "
      }
    ],
    "count": 1
  },
  {
    "key": "common.text11",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 863,
        "context": "      chatId,\n      callbackQuery.message!.message_id,\n      i18n.t('common.text11') +\n        '\\n\\n' +\n        i18n.t('common.text14') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text14",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 865,
        "context": "      i18n.t('common.text11') +\n        '\\n\\n' +\n        i18n.t('common.text14') +\n        '\\n' +\n        i18n.t('common.text8') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text8",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 867,
        "context": "        i18n.t('common.text14') +\n        '\\n' +\n        i18n.t('common.text8') +\n        '\\n' +\n        i18n.t('common.text15') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text15",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 869,
        "context": "        i18n.t('common.text8') +\n        '\\n' +\n        i18n.t('common.text15') +\n        '\\n\\n' +\n        i18n.t('common.message') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.message",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 871,
        "context": "        i18n.t('common.text15') +\n        '\\n\\n' +\n        i18n.t('common.message') +\n        '\\n' +\n        i18n.t('common.message2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.message2",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 873,
        "context": "        i18n.t('common.message') +\n        '\\n' +\n        i18n.t('common.message2') +\n        '\\n' +\n        i18n.t('common.text16') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text16",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 875,
        "context": "        i18n.t('common.message2') +\n        '\\n' +\n        i18n.t('common.text16') +\n        '\\n\\n' +\n        i18n.t('common.text18') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text18",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 877,
        "context": "        i18n.t('common.text16') +\n        '\\n\\n' +\n        i18n.t('common.text18') +\n        '\\n' +\n        i18n.t('common.text13') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text13",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 879,
        "context": "        i18n.t('common.text18') +\n        '\\n' +\n        i18n.t('common.text13') +\n        '\\n' +\n        i18n.t('common.text17') +"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text17",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 881,
        "context": "        i18n.t('common.text13') +\n        '\\n' +\n        i18n.t('common.text17') +\n        '\\n\\n' +\n        i18n.t('common.confirm3'),"
      }
    ],
    "count": 1
  },
  {
    "key": "success.register2",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 886,
        "context": "      {\n        reply_markup: {\n          inline_keyboard: [[{ text: i18n.t('success.register2'), callback_data: 'anti_fraud_yes' }]],\n        },\n      }"
      }
    ],
    "count": 1
  },
  {
    "key": "warnings.text6",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 922,
        "context": "    // Check if user is in terms step\n    if (user.onboarding_step !== 'terms') {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warnings.text6'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "success.register3",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_callback.ts",
        "line": 930,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.register3'));\n\n    // Delete terms message"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.errorRetry",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 74,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('onboarding.errorRetry'));\n    r"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.nowSelectGender",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 109,
        "context": "    chatId,\n    i18n.t('onboarding.nicknameGood', { nickname }) +\n      i18n.t('onboarding.nowSelectGender') +\n      i18n.t('onboarding.genderWarning'),\n    ["
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.genderWarning",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 110,
        "context": "    i18n.t('onboarding.nicknameGood', { nickname }) +\n      i18n.t('onboarding.nowSelectGender') +\n      i18n.t('onboarding.genderWarning'),\n    [\n      ["
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.genderMale",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 113,
        "context": "    [\n      [\n        { text: i18n.t('onboarding.genderMale'), callback_data: 'gender_male' },\n        { text: i18n.t('onboarding.genderFemale'), callback_data: 'gender_female' },\n      ],"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.genderFemale",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 114,
        "context": "      [\n        { text: i18n.t('onboarding.genderMale'), callback_data: 'gender_male' },\n        { text: i18n.t('onboarding.genderFemale'), callback_data: 'gender_female' },\n      ],\n    ]"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.birthdayRetry",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 141,
        "context": "      chatId,\n      i18n.t('onboarding.birthdayError', { error: validation.error }) +\n      i18n.t('onboarding.birthdayRetry')\n    );\n    return true;"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.birthdayFormatError",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 151,
        "context": "\n  if (age === null || zodiacSign === null) {\n    await telegram.sendMessage(chatId, i18n.t('onboarding.birthdayFormatError'));\n    return true;\n  }"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.ageRestriction",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 159,
        "context": "    await telegram.sendMessage(\n      chatId,\n      i18n.t('onboarding.ageRestriction') +\n        i18n.t('onboarding.yourAge', { age }) +\n        i18n.t('onboarding.pleaseComeBack') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.pleaseComeBack",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 161,
        "context": "      i18n.t('onboarding.ageRestriction') +\n        i18n.t('onboarding.yourAge', { age }) +\n        i18n.t('onboarding.pleaseComeBack') +\n        i18n.t('onboarding.birthdayCheck')\n    );"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.birthdayCheck",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 162,
        "context": "        i18n.t('onboarding.yourAge', { age }) +\n        i18n.t('onboarding.pleaseComeBack') +\n        i18n.t('onboarding.birthdayCheck')\n    );\n    return true;"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.confirmBirthday",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 170,
        "context": "  await telegram.sendMessageWithButtons(\n    chatId,\n    i18n.t('onboarding.confirmBirthday') +\n      i18n.t('onboarding.birthday', { birthday }) +\n      i18n.t('onboarding.age', { age }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.birthdayWarning",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 174,
        "context": "      i18n.t('onboarding.age', { age }) +\n      i18n.t('onboarding.zodiac', { zodiac: zodiacSign }) +\n      i18n.t('onboarding.birthdayWarning'),\n    [\n      ["
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.retry",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 178,
        "context": "      [\n        { text: i18n.t('onboarding.confirm'), callback_data: `confirm_birthday_${birthday}` },\n        { text: i18n.t('onboarding.retry'), callback_data: 'retry_birthday' },\n      ],\n    ]"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraudPassed",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 216,
        "context": "    await telegram.sendMessageWithButtons(\n      chatId,\n      i18n.t('onboarding.antiFraudPassed') +\n        i18n.t('onboarding.lastStep') +\n        i18n.t('onboarding.privacyPolicy') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.lastStep",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 217,
        "context": "      chatId,\n      i18n.t('onboarding.antiFraudPassed') +\n        i18n.t('onboarding.lastStep') +\n        i18n.t('onboarding.privacyPolicy') +\n        i18n.t('onboarding.termsOfService') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.privacyPolicy",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 218,
        "context": "      i18n.t('onboarding.antiFraudPassed') +\n        i18n.t('onboarding.lastStep') +\n        i18n.t('onboarding.privacyPolicy') +\n        i18n.t('onboarding.termsOfService') +\n        i18n.t('onboardi"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.termsOfService",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 219,
        "context": "        i18n.t('onboarding.lastStep') +\n        i18n.t('onboarding.privacyPolicy') +\n        i18n.t('onboarding.termsOfService') +\n        i18n.t('onboarding.legalDocuments') +\n        i18n.t('onboard"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.legalDocuments",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 220,
        "context": "        i18n.t('onboarding.privacyPolicy') +\n        i18n.t('onboarding.termsOfService') +\n        i18n.t('onboarding.legalDocuments') +\n        i18n.t('onboarding.agreeTerms'),\n      ["
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.agreeTerms",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 221,
        "context": "        i18n.t('onboarding.termsOfService') +\n        i18n.t('onboarding.legalDocuments') +\n        i18n.t('onboarding.agreeTerms'),\n      [\n        [{ text: i18n.t('onboarding.iHaveRead'), callback_d"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.iHaveRead",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 223,
        "context": "        i18n.t('onboarding.agreeTerms'),\n      [\n        [{ text: i18n.t('onboarding.iHaveRead'), callback_data: 'agree_terms' }],\n        [{ text: i18n.t('onboarding.viewPrivacyPolicy'), url: LEGAL_U"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.viewPrivacyPolicy",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 224,
        "context": "      [\n        [{ text: i18n.t('onboarding.iHaveRead'), callback_data: 'agree_terms' }],\n        [{ text: i18n.t('onboarding.viewPrivacyPolicy'), url: LEGAL_URLS.PRIVACY_POLICY }],\n        [{ text: i"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.viewTermsOfService",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 225,
        "context": "        [{ text: i18n.t('onboarding.iHaveRead'), callback_data: 'agree_terms' }],\n        [{ text: i18n.t('onboarding.viewPrivacyPolicy'), url: LEGAL_URLS.PRIVACY_POLICY }],\n        [{ text: i18n.t('o"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.pleaseAnswer",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 235,
        "context": "  await telegram.sendMessage(\n    chatId,\n    i18n.t('onboarding.pleaseAnswer') +\n      i18n.t('onboarding.understandRisks') +\n      i18n.t('onboarding.enterYes')"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.understandRisks",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 236,
        "context": "    chatId,\n    i18n.t('onboarding.pleaseAnswer') +\n      i18n.t('onboarding.understandRisks') +\n      i18n.t('onboarding.enterYes')\n  );"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.enterYes",
    "files": [
      {
        "file": "src/telegram/handlers/onboarding_input.ts",
        "line": 237,
        "context": "    i18n.t('onboarding.pleaseAnswer') +\n      i18n.t('onboarding.understandRisks') +\n      i18n.t('onboarding.enterYes')\n  );\n"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.manual",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 52,
        "context": "    const mbti = user.mbti_result || i18n.t('profile.settings');\n    const mbtiSource =\n      user.mbti_source === 'manual' ? ` (${i18n.t('profile.manual')})` : user.mbti_source === 'test' ? ` (${i18n"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.test",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 52,
        "context": "    const mbti = user.mbti_result || i18n.t('profile.settings');\n    const mbtiSource =\n      user.mbti_source === 'manual' ? ` (${i18n.t('profile.manual')})` : user.mbti_source === 'test' ? ` (${i18n"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.short2",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 61,
        "context": "      user.is_vip && user.vip_expire_at && new Date(user.vip_expire_at) > new Date()\n        ? i18n.t('profile.vip', { expireDate: new Date(user.vip_expire_at).toLocaleDateString(user.language_pref ||"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.success",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 97,
        "context": "      i18n.t('profile.message5', { 'inviteStats.conversionRate': inviteStats.conversionRate }) +\n      i18n.t('profile.quotaTotal', { quota: quotaDisplay }) +\n      i18n.t('profile.success') +\n      i"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.quota",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 98,
        "context": "      i18n.t('profile.quotaTotal', { quota: quotaDisplay }) +\n      i18n.t('profile.success') +\n      i18n.t('profile.quota') +\n      (!user.is_vip && successfulInvites >= inviteLimit ? i18n.t('profil"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.hints",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 101,
        "context": "      (!user.is_vip && successfulInvites >= inviteLimit ? i18n.t('profile.message2', { user: { is_vip: false }, successfulInvites, inviteLimit }) : '') +\n      i18n.t('profile.separator') +\n      i18n"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.text",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 102,
        "context": "      i18n.t('profile.separator') +\n      i18n.t('profile.hints') +\n      i18n.t('profile.text') +\n      i18n.t('profile.mbti') +\n      i18n.t('profile.vipUpgrade') +"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.mbti",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 103,
        "context": "      i18n.t('profile.hints') +\n      i18n.t('profile.text') +\n      i18n.t('profile.mbti') +\n      i18n.t('profile.vipUpgrade') +\n      i18n.t('profile.stats') +"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.vipUpgrade",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 104,
        "context": "      i18n.t('profile.text') +\n      i18n.t('profile.mbti') +\n      i18n.t('profile.vipUpgrade') +\n      i18n.t('profile.stats') +\n      i18n.t('profile.returnToMenu');"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.stats",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 105,
        "context": "      i18n.t('profile.mbti') +\n      i18n.t('profile.vipUpgrade') +\n      i18n.t('profile.stats') +\n      i18n.t('profile.returnToMenu');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.shareInviteCode",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 112,
        "context": "\n    await telegram.sendMessageWithButtons(chatId, profileMessage, [\n      [{ text: i18n.t('profile.shareInviteCode'), url: shareUrl }],\n      [{ text: i18n.t('profile.editProfile'), callback_data: 'e"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.editProfile",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 113,
        "context": "    await telegram.sendMessageWithButtons(chatId, profileMessage, [\n      [{ text: i18n.t('profile.shareInviteCode'), url: shareUrl }],\n      [{ text: i18n.t('profile.editProfile'), callback_data: 'ed"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.cardGenderMale",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 151,
        "context": "    // Build profile card\n    const age = user.birthday ? calculateAge(user.birthday) : '?';\n    const gender = user.gender === 'male' ? i18n.t('profile.cardGenderMale') : user.gender === 'female' ? i"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.cardGenderFemale",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 151,
        "context": "    // Build profile card\n    const age = user.birthday ? calculateAge(user.birthday) : '?';\n    const gender = user.gender === 'male' ? i18n.t('profile.cardGenderMale') : user.gender === 'female' ? i"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.mysterious",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 155,
        "context": "    const zodiac = user.zodiac_sign || 'Virgo';\n    const interests = user.interests ? JSON.parse(user.interests as string).join(', ') : i18n.t('profile.notSet');\n    const bio = user.bio || i18n.t('p"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.anonymousUser",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 160,
        "context": "    // Format nickname with country flag\n    const { formatNicknameWithFlag } = await import('~/utils/country_flag');\n    const displayNickname = formatNicknameWithFlag(user.nickname || i18n.t('profil"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.cardTitle",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 163,
        "context": "\n    const cardMessage =\n      i18n.t('profile.cardTitle') +\n      `👤 ${displayNickname}\\n` +\n      `${gender} • ${i18n.t('profile.cardAge', { age })} • ${city}\\n\\n` +"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.cardSeparator",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 171,
        "context": "      i18n.t('profile.text2', { interests }) +\n      i18n.t('profile.text4', { bio }) +\n      i18n.t('profile.cardSeparator') +\n      i18n.t('profile.cardFooter') +\n      i18n.t('profile.returnToMenu'"
      }
    ],
    "count": 1
  },
  {
    "key": "profile.cardFooter",
    "files": [
      {
        "file": "src/telegram/handlers/profile.ts",
        "line": 172,
        "context": "      i18n.t('profile.text4', { bio }) +\n      i18n.t('profile.cardSeparator') +\n      i18n.t('profile.cardFooter') +\n      i18n.t('profile.returnToMenu');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "refreshAvatar.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/refresh_avatar.ts",
        "line": 35,
        "context": "\n    if (!user) {\n      await telegram.sendMessage(chatId, i18n.t('refreshAvatar.userNotFound'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "refreshAvatar.processing",
    "files": [
      {
        "file": "src/telegram/handlers/refresh_avatar.ts",
        "line": 40,
        "context": "\n    // Send processing message\n    const processingMsg = await telegram.sendMessage(chatId, i18n.t('refreshAvatar.processing'));\n\n    // Check VIP status"
      }
    ],
    "count": 1
  },
  {
    "key": "refreshAvatar.success",
    "files": [
      {
        "file": "src/telegram/handlers/refresh_avatar.ts",
        "line": 63,
        "context": "\n    // Send success message\n    await telegram.sendMessage(chatId, i18n.t('refreshAvatar.success'), {\n      parse_mode: 'Markdown',\n    });"
      }
    ],
    "count": 1
  },
  {
    "key": "refreshAvatar.failed",
    "files": [
      {
        "file": "src/telegram/handlers/refresh_avatar.ts",
        "line": 70,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('refreshAvatar.failed'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "refreshConversations.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/refresh_conversations.ts",
        "line": 35,
        "context": "\n    if (!user) {\n      await telegram.sendMessage(chatId, i18n.t('refreshConversations.userNotFound'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "refreshConversations.processing",
    "files": [
      {
        "file": "src/telegram/handlers/refresh_conversations.ts",
        "line": 40,
        "context": "\n    // Send processing message\n    const processingMsg = await telegram.sendMessage(chatId, i18n.t('refreshConversations.processing'));\n\n    // Refresh all conversation history posts"
      }
    ],
    "count": 1
  },
  {
    "key": "refreshConversations.noHistory",
    "files": [
      {
        "file": "src/telegram/handlers/refresh_conversations.ts",
        "line": 50,
        "context": "    // Send result message\n    if (result.updated === 0 && result.failed === 0) {\n      await telegram.sendMessage(chatId, i18n.t('refreshConversations.noHistory'));\n    } else if (result.failed === 0"
      }
    ],
    "count": 1
  },
  {
    "key": "refreshConversations.failed",
    "files": [
      {
        "file": "src/telegram/handlers/refresh_conversations.ts",
        "line": 72,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.sendMessage(chatId, i18n.t('refreshConversations.failed'));"
      }
    ],
    "count": 1
  },
  {
    "key": "report.userNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 26,
        "context": "    \n    if (!user) {\n      await telegram.sendMessage(chatId, i18n.t('report.userNotFound'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "report.completeOnboarding",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 32,
        "context": "    // Check if user completed onboarding\n    if (user.onboarding_step !== 'completed') {\n      await telegram.sendMessage(chatId, i18n.t('report.completeOnboarding'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "report.replyRequired",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 40,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('report.replyRequired') +\n          i18n.t('report.steps') +\n          i18n.t('report.step1') +"
      }
    ],
    "count": 1
  },
  {
    "key": "report.steps",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 41,
        "context": "        chatId,\n        i18n.t('report.replyRequired') +\n          i18n.t('report.steps') +\n          i18n.t('report.step1') +\n          i18n.t('report.step2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "report.step1",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 42,
        "context": "        i18n.t('report.replyRequired') +\n          i18n.t('report.steps') +\n          i18n.t('report.step1') +\n          i18n.t('report.step2') +\n          i18n.t('report.step3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "report.step2",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 43,
        "context": "          i18n.t('report.steps') +\n          i18n.t('report.step1') +\n          i18n.t('report.step2') +\n          i18n.t('report.step3') +\n          i18n.t('report.hint')"
      }
    ],
    "count": 1
  },
  {
    "key": "report.step3",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 44,
        "context": "          i18n.t('report.step1') +\n          i18n.t('report.step2') +\n          i18n.t('report.step3') +\n          i18n.t('report.hint')\n      );"
      }
    ],
    "count": 1
  },
  {
    "key": "report.hint",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 45,
        "context": "          i18n.t('report.step2') +\n          i18n.t('report.step3') +\n          i18n.t('report.hint')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "report.cannotIdentify",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 57,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('report.cannotIdentify') + i18n.t('report.ensureReply')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "report.ensureReply",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 57,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('report.cannotIdentify') + i18n.t('report.ensureReply')\n      );\n      return;"
      }
    ],
    "count": 1
  },
  {
    "key": "report.conversationNotFound",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 80,
        "context": "\n    if (!conversation) {\n      await telegram.sendMessage(chatId, i18n.t('report.conversationNotFound'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "report.conversationInfoError",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 87,
        "context": "    const otherUserId = getOtherUserId(conversation, telegramId);\n    if (!otherUserId) {\n      await telegram.sendMessage(chatId, i18n.t('report.conversationInfoError'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "report.selectReason",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 104,
        "context": "      chatId,\n      i18n.t('report.title', { identifier: conversationIdentifier }) +\n        i18n.t('report.selectReason'),\n      [\n        [{ text: i18n.t('report.reasonNsfw'), callback_data: 'report"
      }
    ],
    "count": 1
  },
  {
    "key": "report.reasonNsfw",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 106,
        "context": "        i18n.t('report.selectReason'),\n      [\n        [{ text: i18n.t('report.reasonNsfw'), callback_data: 'report_reason_nsfw' }],\n        [{ text: i18n.t('report.reasonScam'), callback_data: 'repor"
      }
    ],
    "count": 1
  },
  {
    "key": "report.reasonScam",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 107,
        "context": "      [\n        [{ text: i18n.t('report.reasonNsfw'), callback_data: 'report_reason_nsfw' }],\n        [{ text: i18n.t('report.reasonScam'), callback_data: 'report_reason_scam' }],\n        [{ text: i18"
      }
    ],
    "count": 1
  },
  {
    "key": "report.reasonHarassment",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 108,
        "context": "        [{ text: i18n.t('report.reasonNsfw'), callback_data: 'report_reason_nsfw' }],\n        [{ text: i18n.t('report.reasonScam'), callback_data: 'report_reason_scam' }],\n        [{ text: i18n.t('rep"
      }
    ],
    "count": 1
  },
  {
    "key": "report.reasonSpam",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 109,
        "context": "        [{ text: i18n.t('report.reasonScam'), callback_data: 'report_reason_scam' }],\n        [{ text: i18n.t('report.reasonHarassment'), callback_data: 'report_reason_harassment' }],\n        [{ text:"
      }
    ],
    "count": 1
  },
  {
    "key": "report.reasonOther",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 110,
        "context": "        [{ text: i18n.t('report.reasonHarassment'), callback_data: 'report_reason_harassment' }],\n        [{ text: i18n.t('report.reasonSpam'), callback_data: 'report_reason_spam' }],\n        [{ text:"
      }
    ],
    "count": 1
  },
  {
    "key": "report.cancel",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 111,
        "context": "        [{ text: i18n.t('report.reasonSpam'), callback_data: 'report_reason_spam' }],\n        [{ text: i18n.t('report.reasonOther'), callback_data: 'report_reason_other' }],\n        [{ text: i18n.t('r"
      }
    ],
    "count": 1
  },
  {
    "key": "report.sessionExpired",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 150,
        "context": "\n    if (!session?.report_conversation_id) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('report.sessionExpired'));\n      await telegram.deleteMessage(chatId, callbackQuery.messa"
      }
    ],
    "count": 1
  },
  {
    "key": "report.conversationNotExists",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 165,
        "context": "\n    if (!conversation) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('report.conversationNotExists'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "report.conversationInfoError2",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 172,
        "context": "    const otherUserId = getOtherUserId(conversation, telegramId);\n    if (!otherUserId) {\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('report.conversationInfoError2'));\n      ret"
      }
    ],
    "count": 1
  },
  {
    "key": "report.multipleReports",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 190,
        "context": "        telegram,\n        otherUserId,\n        i18n.t('report.multipleReports'),\n        recentReports,\n        env"
      }
    ],
    "count": 1
  },
  {
    "key": "success.reportSubmitted",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 200,
        "context": "\n    // Answer callback\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.reportSubmitted'));\n\n    // Delete report menu"
      }
    ],
    "count": 1
  },
  {
    "key": "report.thanks",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 209,
        "context": "      chatId,\n      i18n.t('report.submitted', { identifier: conversationIdentifier }) +\n        i18n.t('report.thanks') +\n        i18n.t('report.tips') +\n        i18n.t('report.blockHint') +"
      }
    ],
    "count": 1
  },
  {
    "key": "report.tips",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 210,
        "context": "      i18n.t('report.submitted', { identifier: conversationIdentifier }) +\n        i18n.t('report.thanks') +\n        i18n.t('report.tips') +\n        i18n.t('report.blockHint') +\n        i18n.t('report"
      }
    ],
    "count": 1
  },
  {
    "key": "report.blockHint",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 211,
        "context": "        i18n.t('report.thanks') +\n        i18n.t('report.tips') +\n        i18n.t('report.blockHint') +\n        i18n.t('report.catchHint')\n    );"
      }
    ],
    "count": 1
  },
  {
    "key": "report.catchHint",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 212,
        "context": "        i18n.t('report.tips') +\n        i18n.t('report.blockHint') +\n        i18n.t('report.catchHint')\n    );\n  } catch (error) {"
      }
    ],
    "count": 1
  },
  {
    "key": "report.systemError",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 218,
        "context": "    const user = await findUserByTelegramId(db, telegramId);\n    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('report.system"
      }
    ],
    "count": 1
  },
  {
    "key": "report.cancelled",
    "files": [
      {
        "file": "src/telegram/handlers/report.ts",
        "line": 234,
        "context": "  const i18n = createI18n(user?.language_pref || 'zh-TW');\n\n  await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('report.cancelled'));\n  await telegram.deleteMessage(chatId, callbackQuery.mes"
      }
    ],
    "count": 1
  },
  {
    "key": "settings.title",
    "files": [
      {
        "file": "src/telegram/handlers/settings.ts",
        "line": 51,
        "context": "    const languageName = await getLanguageName(user.language_pref || 'zh-TW');\n    const settingsMessage =\n      i18n.t('settings.title') +\n      i18n.t('settings.currentSettings') +\n      i18n.t('set"
      }
    ],
    "count": 1
  },
  {
    "key": "settings.currentSettings",
    "files": [
      {
        "file": "src/telegram/handlers/settings.ts",
        "line": 52,
        "context": "    const settingsMessage =\n      i18n.t('settings.title') +\n      i18n.t('settings.currentSettings') +\n      i18n.t('settings.languageLabel', { language: `${languageName} 🇹🇼` }) +\n      i18n.t('set"
      }
    ],
    "count": 1
  },
  {
    "key": "settings.selectOption",
    "files": [
      {
        "file": "src/telegram/handlers/settings.ts",
        "line": 54,
        "context": "      i18n.t('settings.currentSettings') +\n      i18n.t('settings.languageLabel', { language: `${languageName} 🇹🇼` }) +\n      i18n.t('settings.selectOption');\n\n    // Build settings buttons"
      }
    ],
    "count": 1
  },
  {
    "key": "settings.changeLanguage",
    "files": [
      {
        "file": "src/telegram/handlers/settings.ts",
        "line": 58,
        "context": "    // Build settings buttons\n    const buttons = [\n      [{ text: i18n.t('settings.changeLanguage'), callback_data: 'settings_language' }],\n      [{ text: i18n.t('settings.returnToMenu'), callback_da"
      }
    ],
    "count": 1
  },
  {
    "key": "settings.returnToMenu",
    "files": [
      {
        "file": "src/telegram/handlers/settings.ts",
        "line": 59,
        "context": "    const buttons = [\n      [{ text: i18n.t('settings.changeLanguage'), callback_data: 'settings_language' }],\n      [{ text: i18n.t('settings.returnToMenu'), callback_data: 'return_to_menu' }],\n    ]"
      }
    ],
    "count": 1
  },
  {
    "key": "settings.back",
    "files": [
      {
        "file": "src/telegram/handlers/settings.ts",
        "line": 99,
        "context": "      await telegram.sendMessageWithButtons(chatId, i18n.t('onboarding.languageSelection'), [\n        ...getLanguageButtons(i18n, 0),\n        [{ text: i18n.t('settings.back'), callback_data: 'back_to_"
      }
    ],
    "count": 1
  },
  {
    "key": "invite.selfInviteError",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 71,
        "context": "            const { createI18n } = await import('~/i18n');\n            const i18n = createI18n('zh-TW');\n            await telegram.sendMessage(chatId, i18n.t('invite.selfInviteError'));\n            r"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text4",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 150,
        "context": "        i18n.t('common.text5', { user: { nickname: user.nickname } }) +\n          '\\n\\n' +\n          i18n.t('common.text4') +\n          '\\n' +\n          i18n.t('buttons.bottle3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "buttons.vip",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 160,
        "context": "          i18n.t('buttons.stats') +\n          ' - /stats\\n' +\n          i18n.t('buttons.vip') +\n          ' - /vip\\n' +\n          i18n.t('help.help2'),"
      }
    ],
    "count": 1
  },
  {
    "key": "help.help2",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 162,
        "context": "          i18n.t('buttons.vip') +\n          ' - /vip\\n' +\n          i18n.t('help.help2'),\n        [\n          ["
      }
    ],
    "count": 1
  },
  {
    "key": "edit_profile.nickname",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 255,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n(user.language_pref || 'zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('edit_profile.nickname'));\n      brea"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text51",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 262,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n(user.language_pref || 'zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('common.text51') + '\\n\\n' + i18n.t('c"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text63",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 262,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n(user.language_pref || 'zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('common.text51') + '\\n\\n' + i18n.t('c"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.gender3",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 271,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.gender3') + '\\n\\n' + i18n.t('warnings.gender'),\n        [\n          ["
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.birthday3",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 287,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('onboarding.birthday3') +\n          '\\n\\n' +\n          i18n.t('onboarding.text10') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.text10",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 289,
        "context": "        i18n.t('onboarding.birthday3') +\n          '\\n\\n' +\n          i18n.t('onboarding.text10') +\n          '\\n\\n' +\n          i18n.t('warnings.birthday') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.settings6",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 293,
        "context": "          i18n.t('warnings.birthday') +\n          '\\n' +\n          i18n.t('onboarding.settings6') +\n          '\\n' +\n          i18n.t('onboarding.text9')"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.text9",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 295,
        "context": "          i18n.t('onboarding.settings6') +\n          '\\n' +\n          i18n.t('onboarding.text9')\n      );\n      break;"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.bloodType",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 308,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.bloodType') + '\\n\\n' + i18n.t('onboarding.vip') + '\\n\\n' + i18n.t('onboarding.bloodType.select'),\n        [\n    "
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.vip",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 308,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.bloodType') + '\\n\\n' + i18n.t('onboarding.vip') + '\\n\\n' + i18n.t('onboarding.bloodType.select'),\n        [\n    "
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.bloodType.select",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 308,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.bloodType') + '\\n\\n' + i18n.t('onboarding.vip') + '\\n\\n' + i18n.t('onboarding.bloodType.select'),\n        [\n    "
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.settings2",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 330,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.settings2') + '\\n\\n' + i18n.t('onboarding.help') + '\\n\\n' + i18n.t('onboarding.settings7'),\n        [\n          "
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.help",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 330,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.settings2') + '\\n\\n' + i18n.t('onboarding.help') + '\\n\\n' + i18n.t('onboarding.settings7'),\n        [\n          "
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.settings7",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 330,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.settings2') + '\\n\\n' + i18n.t('onboarding.help') + '\\n\\n' + i18n.t('onboarding.settings7'),\n        [\n          "
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.mbti2",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 332,
        "context": "        i18n.t('onboarding.settings2') + '\\n\\n' + i18n.t('onboarding.help') + '\\n\\n' + i18n.t('onboarding.settings7'),\n        [\n          [{ text: i18n.t('onboarding.mbti2'), callback_data: 'mbti_cho"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.text5",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 333,
        "context": "        [\n          [{ text: i18n.t('onboarding.mbti2'), callback_data: 'mbti_choice_manual' }],\n          [{ text: i18n.t('onboarding.text5'), callback_data: 'mbti_choice_test' }],\n          [{ text:"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.short",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 334,
        "context": "          [{ text: i18n.t('onboarding.mbti2'), callback_data: 'mbti_choice_manual' }],\n          [{ text: i18n.t('onboarding.text5'), callback_data: 'mbti_choice_test' }],\n          [{ text: i18n.t('o"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.confirm2",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 346,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.confirm2') +\n          '\\n\\n' +\n          i18n.t('onboarding.confirm') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraud.question1",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 350,
        "context": "          i18n.t('onboarding.confirm') +\n          '\\n' +\n          i18n.t('onboarding.antiFraud.question1') +\n          '\\n' +\n          i18n.t('onboarding.antiFraud.question2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraud.question2",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 352,
        "context": "          i18n.t('onboarding.antiFraud.question1') +\n          '\\n' +\n          i18n.t('onboarding.antiFraud.question2') +\n          '\\n' +\n          i18n.t('onboarding.antiFraud.question3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraud.question3",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 354,
        "context": "          i18n.t('onboarding.antiFraud.question2') +\n          '\\n' +\n          i18n.t('onboarding.antiFraud.question3') +\n          '\\n\\n' +\n          i18n.t('onboarding.confirm3'),"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.confirm3",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 356,
        "context": "          i18n.t('onboarding.antiFraud.question3') +\n          '\\n\\n' +\n          i18n.t('onboarding.confirm3'),\n        [\n          [{ text: i18n.t('onboarding.antiFraud.confirm_button'), callback_da"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraud.confirm_button",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 358,
        "context": "          i18n.t('onboarding.confirm3'),\n        [\n          [{ text: i18n.t('onboarding.antiFraud.confirm_button'), callback_data: 'anti_fraud_yes' }],\n          [{ text: i18n.t('onboarding.antiFraud"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.antiFraud.learn_button",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 359,
        "context": "        [\n          [{ text: i18n.t('onboarding.antiFraud.confirm_button'), callback_data: 'anti_fraud_yes' }],\n          [{ text: i18n.t('onboarding.antiFraud.learn_button'), callback_data: 'anti_fra"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.start",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 370,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('onboarding.start') +\n          '\\n\\n' +\n          i18n.t('onboarding.text21') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.text21",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 372,
        "context": "        i18n.t('onboarding.start') +\n          '\\n\\n' +\n          i18n.t('onboarding.text21') +\n          '\\n' +\n          i18n.t('onboarding.text19') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.text19",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 374,
        "context": "          i18n.t('onboarding.text21') +\n          '\\n' +\n          i18n.t('onboarding.text19') +\n          '\\n\\n' +\n          i18n.t('onboarding.terms.english_only_note') +"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.terms.english_only_note",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 376,
        "context": "          i18n.t('onboarding.text19') +\n          '\\n\\n' +\n          i18n.t('onboarding.terms.english_only_note') +\n          '\\n\\n' +\n          i18n.t('onboarding.text7'),"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.text7",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 378,
        "context": "          i18n.t('onboarding.terms.english_only_note') +\n          '\\n\\n' +\n          i18n.t('onboarding.text7'),\n        [\n          [{ text: i18n.t('onboarding.terms.agree_button'), callback_data: '"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.terms.agree_button",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 380,
        "context": "          i18n.t('onboarding.text7'),\n        [\n          [{ text: i18n.t('onboarding.terms.agree_button'), callback_data: 'agree_terms' }],\n          [{ text: i18n.t('onboarding.terms.privacy_policy_"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.terms.privacy_policy_button",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 381,
        "context": "        [\n          [{ text: i18n.t('onboarding.terms.agree_button'), callback_data: 'agree_terms' }],\n          [{ text: i18n.t('onboarding.terms.privacy_policy_button'), url: LEGAL_URLS.PRIVACY_POLI"
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.terms.terms_of_service_button",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 382,
        "context": "          [{ text: i18n.t('onboarding.terms.agree_button'), callback_data: 'agree_terms' }],\n          [{ text: i18n.t('onboarding.terms.privacy_policy_button'), url: LEGAL_URLS.PRIVACY_POLICY }],\n   "
      }
    ],
    "count": 1
  },
  {
    "key": "onboarding.start2",
    "files": [
      {
        "file": "src/telegram/handlers/start.ts",
        "line": 391,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n(user.language_pref || 'zh-TW');\n      await telegram.sendMessage(chatId, i18n.t('errors.error.short9') + '\\n\\n' + i18"
      }
    ],
    "count": 1
  },
  {
    "key": "stats.title",
    "files": [
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 73,
        "context": "    // Format message\n    const message_text =\n      i18n.t('stats.title') +\n      i18n.t('stats.bottles') +\n      i18n.t('stats.bottlesThrown', { count: stats.bottlesThrown }) + '\\n' +"
      }
    ],
    "count": 1
  },
  {
    "key": "stats.bottles",
    "files": [
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 74,
        "context": "    const message_text =\n      i18n.t('stats.title') +\n      i18n.t('stats.bottles') +\n      i18n.t('stats.bottlesThrown', { count: stats.bottlesThrown }) + '\\n' +\n      i18n.t('stats.bottlesCaught', "
      }
    ],
    "count": 1
  },
  {
    "key": "stats.conversations",
    "files": [
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 78,
        "context": "      i18n.t('stats.bottlesCaught', { count: stats.bottlesCaught }) + '\\n' +\n      i18n.t('stats.todayQuota', { display: stats.todayQuota.display }) + '\\n' +\n      i18n.t('stats.conversations') +\n    "
      }
    ],
    "count": 1
  },
  {
    "key": "stats.match",
    "files": [
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 82,
        "context": "      i18n.t('stats.conversationsActive', { count: stats.activeConversations }) + '\\n' +\n      i18n.t('stats.messagesTotal', { count: stats.totalMessages }) + '\\n' +\n      i18n.t('stats.match') +\n    "
      }
    ],
    "count": 1
  },
  {
    "key": "stats.vip",
    "files": [
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 85,
        "context": "      i18n.t('stats.matchRate', { rate: stats.matchRate }) + '\\n' +\n      i18n.t('stats.replyRate', { rate: stats.replyRate }) + '\\n' +\n      i18n.t('stats.vip') +\n      `• ${isVip ? i18n.t('stats.vip"
      }
    ],
    "count": 1
  },
  {
    "key": "stats.vipMember",
    "files": [
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 86,
        "context": "      i18n.t('stats.replyRate', { rate: stats.replyRate }) + '\\n' +\n      i18n.t('stats.vip') +\n      `• ${isVip ? i18n.t('stats.vipMember') : i18n.t('stats.vipFree')}\\n` +\n      (isVip ? i18n.t('stat"
      }
    ],
    "count": 1
  },
  {
    "key": "stats.vipFree",
    "files": [
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 86,
        "context": "      i18n.t('stats.replyRate', { rate: stats.replyRate }) + '\\n' +\n      i18n.t('stats.vip') +\n      `• ${isVip ? i18n.t('stats.vipMember') : i18n.t('stats.vipFree')}\\n` +\n      (isVip ? i18n.t('stat"
      }
    ],
    "count": 1
  },
  {
    "key": "stats.notSet",
    "files": [
      {
        "file": "src/telegram/handlers/stats.ts",
        "line": 93,
        "context": "      i18n.t('stats.age', { age: calculateAge(user.birthday!) }) + '\\n' +\n      i18n.t('stats.zodiac', { zodiac: user.zodiac_sign }) + '\\n' +\n      i18n.t('stats.mbti', { mbti: user.mbti_result || i18"
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.bottle6",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 49,
        "context": "\n    // Build task center message\n    let message_text = i18n.t('tasks.bottle6');\n\n    // Group tasks by category"
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.short",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 93,
        "context": "        const pending = userTask?.status === 'pending_claim';\n        const icon = completed ? '✅' : pending ? '🎁' : '⏳';\n        const status = completed ? '' : pending ? i18n.t('tasks.short') : '';"
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.task6",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 124,
        "context": "      const inviteProgress = getInviteTaskProgress(user);\n\n      message_text += i18n.t('tasks.task6');\n      message_text += `━━━━━━━━━━━━━━━━\\n`;\n"
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.invite2",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 128,
        "context": "\n      message_text += i18n.t('tasks.invite', { inviteProgress });\n      message_text += i18n.t('tasks.invite2');\n      const dailyQuota = calculateDailyQuota(user);\n      message_text += i18n.t('task"
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.text3",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 145,
        "context": "    const todayRewardCount = calculateTodayTaskRewards(todayTaskRewards);\n\n    message_text += i18n.t('tasks.text3');\n    message_text += `━━━━━━━━━━━━━━━━\\n`;\n    message_text += i18n.t('tasks.task4'"
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.text4",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 150,
        "context": "    message_text += i18n.t('tasks.task', { inviteProgress });\n    message_text += '\\n';\n    message_text += i18n.t('tasks.text4');\n    message_text += i18n.t('tasks.bottle5', { todayRewardCount });\n  "
      }
    ],
    "count": 1
  },
  {
    "key": "buttons.profile",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 164,
        "context": "      )\n    ) {\n      profileRow.push({ text: i18n.t('buttons.profile'), callback_data: 'edit_profile' });\n    }\n    if (profileRow.length > 0) keyboard.push(profileRow);"
      }
    ],
    "count": 1
  },
  {
    "key": "buttons.invite",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 192,
        "context": "    // Row 4: Invite task\n    if (!inviteProgress.isCompleted) {\n      keyboard.push([{ text: i18n.t('buttons.invite'), callback_data: 'profile' }]);\n    }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.short2",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 264,
        "context": "    const i18n = createI18n(user.language_pref || 'zh-TW');\n    const taskName = task.name.startsWith('tasks.name.') ? i18n.t(task.name) : task.name;\n    const rewardTypeText = task.reward_type === 'd"
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.short3",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 264,
        "context": "    const i18n = createI18n(user.language_pref || 'zh-TW');\n    const taskName = task.name.startsWith('tasks.name.') ? i18n.t(task.name) : task.name;\n    const rewardTypeText = task.reward_type === 'd"
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.task7",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 270,
        "context": "      i18n.t('tasks.task5', { task: { name: taskName } }) + '\\n\\n' +\n        i18n.t('tasks.bottle', { task: { reward_amount: task.reward_amount, reward_type: task.reward_type } }) + '\\n\\n' +\n        i"
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.text2",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 418,
        "context": "        await telegram.sendMessageWithButtons(\n          chatId,\n          i18n.t('tasks.text2') + '\\n\\n' +\n            i18n.t('tasks.message2') + '\\n\\n' +\n            i18n.t('tasks.text'),"
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.message2",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 419,
        "context": "          chatId,\n          i18n.t('tasks.text2') + '\\n\\n' +\n            i18n.t('tasks.message2') + '\\n\\n' +\n            i18n.t('tasks.text'),\n          ["
      }
    ],
    "count": 1
  },
  {
    "key": "tasks.text",
    "files": [
      {
        "file": "src/telegram/handlers/tasks.ts",
        "line": 420,
        "context": "          i18n.t('tasks.text2') + '\\n\\n' +\n            i18n.t('tasks.message2') + '\\n\\n' +\n            i18n.t('tasks.text'),\n          [\n            [{ text: i18n.t('buttons.short3'), url: 'https://t."
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text15",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 153,
        "context": "          i18n.t('error.quota', { quotaDisplay }) +\n            '\\n\\n' +\n            i18n.t('throw.text15') +\n            '\\n' +\n            i18n.t('throw.vip') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.vip",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 155,
        "context": "            i18n.t('throw.text15') +\n            '\\n' +\n            i18n.t('throw.vip') +\n            '\\n\\n' +\n            i18n.t('throw.quota2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.quota2",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 157,
        "context": "            i18n.t('throw.vip') +\n            '\\n\\n' +\n            i18n.t('throw.quota2') +\n            '\\n' +\n            i18n.t('throw.text12') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text12",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 159,
        "context": "            i18n.t('throw.quota2') +\n            '\\n' +\n            i18n.t('throw.text12') +\n            '\\n' +\n            i18n.t('throw.vip4') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.vip4",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 161,
        "context": "            i18n.t('throw.text12') +\n            '\\n' +\n            i18n.t('throw.vip4') +\n            '\\n\\n' +\n            i18n.t('throw.vip6') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.vip6",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 163,
        "context": "            i18n.t('throw.vip4') +\n            '\\n\\n' +\n            i18n.t('throw.vip6') +\n            '\\n' +\n            i18n.t('throw.text2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text2",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 165,
        "context": "            i18n.t('throw.vip6') +\n            '\\n' +\n            i18n.t('throw.text2') +\n            '\\n' +\n            i18n.t('throw.quota') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.quota",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 167,
        "context": "            i18n.t('throw.text2') +\n            '\\n' +\n            i18n.t('throw.quota') +\n            '\\n' +\n            i18n.t('throw.text17') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text17",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 169,
        "context": "            i18n.t('throw.quota') +\n            '\\n' +\n            i18n.t('throw.text17') +\n            '\\n\\n' +\n            i18n.t('throw.text19')"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text19",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 171,
        "context": "            i18n.t('throw.text17') +\n            '\\n\\n' +\n            i18n.t('throw.text19')\n        );\n      }"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.complete3",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 189,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('throw.complete3') +\n          '\\n\\n' +\n          i18n.t('throw.text18', { age }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text22",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 195,
        "context": "          i18n.t('throw.text9', { preview }) +\n          '\\n\\n' +\n          i18n.t('throw.text22'),\n        [\n          ["
      }
    ],
    "count": 1
  },
  {
    "key": "success.short14",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 198,
        "context": "        [\n          [\n            { text: i18n.t('success.short14'), callback_data: 'draft_continue' },\n            { text: i18n.t('edit_profile.short19'), callback_data: 'draft_delete' },\n          ]"
      }
    ],
    "count": 1
  },
  {
    "key": "edit_profile.short19",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 199,
        "context": "          [\n            { text: i18n.t('success.short14'), callback_data: 'draft_continue' },\n            { text: i18n.t('edit_profile.short19'), callback_data: 'draft_delete' },\n          ],\n        "
      }
    ],
    "count": 1
  },
  {
    "key": "throw.start",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 201,
        "context": "            { text: i18n.t('edit_profile.short19'), callback_data: 'draft_delete' },\n          ],\n          [{ text: i18n.t('throw.start'), callback_data: 'draft_new' }],\n        ]\n      );"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.bottle4",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 229,
        "context": "          : i18n.t('throw.short3');\n    const throwPrompt =\n      i18n.t('throw.bottle4') +\n      '\\n\\n' +\n      i18n.t('throw.text5', { targetText }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.message7",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 233,
        "context": "      i18n.t('throw.text5', { targetText }) +\n      '\\n' +\n      i18n.t('throw.message7') +\n      '\\n\\n' +\n      i18n.t('throw.bottle6') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text20",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 245,
        "context": "          i18n.t('throw.text13') +\n          '\\n\\n' +\n          i18n.t('throw.text20') +\n          '\\n' +\n          i18n.t('throw.message6') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.message6",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 247,
        "context": "          i18n.t('throw.text20') +\n          '\\n' +\n          i18n.t('throw.message6') +\n          '\\n\\n' +\n          i18n.t('throw.text14') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.bottle7",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 251,
        "context": "          i18n.t('throw.text14') +\n          '\\n' +\n          i18n.t('throw.bottle7') +\n          '\\n' +\n          i18n.t('catch.message4');"
      }
    ],
    "count": 1
  },
  {
    "key": "warning.start",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 310,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n(user.language_pref || 'zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warning.start'));\n"
      }
    ],
    "count": 1
  },
  {
    "key": "common.text100",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 317,
        "context": "    const { createI18n } = await import('~/i18n');\n    const i18n = createI18n(user.language_pref || 'zh-TW');\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('common.text100'));\n\n    "
      }
    ],
    "count": 1
  },
  {
    "key": "throw.bottle8",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 329,
        "context": "        body: JSON.stringify({\n          chat_id: chatId,\n          text: i18n.t('throw.bottle8'),\n          reply_markup: {\n            force_reply: true,"
      }
    ],
    "count": 1
  },
  {
    "key": "errors.unknownError",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 377,
        "context": "      const errorMessage = validation.errorCode\n        ? i18n.t(validation.errorCode, validation.errorParams || {})\n        : validation.error || i18n.t('errors.unknownError');\n      await telegram.s"
      }
    ],
    "count": 1
  },
  {
    "key": "bottle.throw.aiModerationFailed",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 395,
        "context": "          await recordRiskScore(db, user.telegram_id, riskScore);\n\n          await telegram.sendMessage(chatId, i18n.t('bottle.throw.aiModerationFailed'));\n          return;\n        }"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.complete4",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 463,
        "context": "              i18n.t('throw.vip7') + '\\n' +\n              i18n.t('throw.text6') + '\\n\\n' +\n              i18n.t('throw.complete4')\n          : i18n.t('throw.bottle3') + '\\n\\n' +\n              i18n.t('"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.complete6",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 519,
        "context": "                i18n.t('success.bottle3') + '\\n' +\n                i18n.t('throw.text10') + '\\n\\n' +\n                i18n.t('throw.complete6')\n        );\n      } catch (editError) {"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text8",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 545,
        "context": "            i18n.t('throw.bottle3') + '\\n\\n' +\n          i18n.t('success.bottle3') + '\\n' +\n              i18n.t('throw.text8') + '\\n\\n' +\n              i18n.t('throw.text3')\n          );"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text3",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 546,
        "context": "          i18n.t('success.bottle3') + '\\n' +\n              i18n.t('throw.text8') + '\\n\\n' +\n              i18n.t('throw.text3')\n          );\n        } catch (editError) {"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.short",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 594,
        "context": "          // 構建匹配亮點\n          const highlights: string[] = [];\n          if (matchResult.score.language >= 85) highlights.push(i18n.t('throw.short'));\n          if (matchResult.score.mbti >= 80) highl"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.mbti6",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 595,
        "context": "          const highlights: string[] = [];\n          if (matchResult.score.language >= 85) highlights.push(i18n.t('throw.short'));\n          if (matchResult.score.mbti >= 80) highlights.push(i18n.t('t"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.zodiac6",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 596,
        "context": "          if (matchResult.score.language >= 85) highlights.push(i18n.t('throw.short'));\n          if (matchResult.score.mbti >= 80) highlights.push(i18n.t('throw.mbti6'));\n          if (matchResult.sc"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.age",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 597,
        "context": "          if (matchResult.score.mbti >= 80) highlights.push(i18n.t('throw.mbti6'));\n          if (matchResult.score.zodiac >= 80) highlights.push(i18n.t('throw.zodiac6'));\n          if (matchResult.sc"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.bottle",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 601,
        "context": "          const highlightsText =\n            highlights.length > 0\n              ? '\\n' + i18n.t('throw.bottle') + '\\n' + highlights.join('\\n') + '\\n'\n              : '';\n"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.message8",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 622,
        "context": "              `${content}\\n` +\n              '━━━━━━━━━━━━━━━━\\n\\n' +\n              i18n.t('throw.message8') +\n              '\\n' +\n              i18n.t('throw.conversation5')"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.anonymousUser",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 629,
        "context": "          // 發送通知給丟瓶子的人\n          const matchedUserMaskedNickname = maskNickname(\n            matchResult.user.nickname || matchResult.user.username || i18n.t('catch.anonymousUser')\n          );\n     "
      }
    ],
    "count": 1
  },
  {
    "key": "throw.success3",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 633,
        "context": "          await telegram.sendMessage(\n            chatId,\n            i18n.t('throw.success3') +\n              '\\n\\n' +\n              i18n.t('throw.nickname', { matchedUserMaskedNickname }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text11",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 644,
        "context": "              '\\n' +\n              highlightsText +\n              '\\n' + i18n.t('throw.text11') + '\\n' + i18n.t('throw.conversation6')\n          );\n"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.conversation6",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 644,
        "context": "              '\\n' +\n              highlightsText +\n              '\\n' + i18n.t('throw.text11') + '\\n' + i18n.t('throw.conversation6')\n          );\n"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.success2",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 751,
        "context": "        conversationIdentifier = vipMatchInfo.conversationIdentifier;\n        successMessage =\n            i18n.t('throw.success2') + '\\n\\n' + i18n.t('throw.complete2') + '\\n' +\n          i18n.t('thro"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.complete2",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 751,
        "context": "        conversationIdentifier = vipMatchInfo.conversationIdentifier;\n        successMessage =\n            i18n.t('throw.success2') + '\\n\\n' + i18n.t('throw.complete2') + '\\n' +\n          i18n.t('thro"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text7",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 756,
        "context": "          i18n.t('throw.conversation', { vipMatchInfo: { conversationIdentifier: vipMatchInfo.conversationIdentifier } }) +\n          '\\n\\n' +\n          i18n.t('throw.text7') +\n          '\\n' +\n      "
      }
    ],
    "count": 1
  },
  {
    "key": "throw.conversation3",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 762,
        "context": "          i18n.t('throw.catch3') +\n          '\\n\\n' +\n          i18n.t('throw.conversation3') +\n          '\\n' +\n          i18n.t('throw.throw', { quotaDisplay }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.vip5",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 776,
        "context": "        // 智能配對未成功，3 個槽位都進入公共池\n        successMessage =\n          i18n.t('throw.vip5') +\n          '\\n\\n' +\n          i18n.t('throw.bottle2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.bottle2",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 778,
        "context": "          i18n.t('throw.vip5') +\n          '\\n\\n' +\n          i18n.t('throw.bottle2') +\n          '\\n' +\n          i18n.t('throw.catch3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.catch",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 784,
        "context": "          i18n.t('throw.catch2') +\n          '\\n' +\n          i18n.t('throw.catch') +\n          '\\n\\n' +\n          i18n.t('throw.conversation4') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.conversation4",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 786,
        "context": "          i18n.t('throw.catch') +\n          '\\n\\n' +\n          i18n.t('throw.conversation4') +\n          '\\n' +\n          i18n.t('throw.throw', { quotaDisplay }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.conversation2",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 790,
        "context": "          i18n.t('throw.throw', { quotaDisplay }) +\n          '\\n\\n' +\n          i18n.t('throw.conversation2') + '\\n\\n' + i18n.t('throw.conversation5');\n      }\n    } else {"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.catch4",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 799,
        "context": "        i18n.t('throw.bottle5', { bottleId }) +\n        '\\n\\n' +\n        i18n.t('throw.catch4') +\n        '\\n' +\n        i18n.t('throw.throw', { quotaDisplay }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.vip2",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 803,
        "context": "        i18n.t('throw.throw', { quotaDisplay }) +\n        '\\n\\n' +\n        i18n.t('throw.vip2') +\n        '\\n' +\n        i18n.t('throw.success') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.success",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 805,
        "context": "        i18n.t('throw.vip2') +\n        '\\n' +\n        i18n.t('throw.success') +\n        '\\n\\n' +\n        i18n.t('throw.text21');"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text21",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 807,
        "context": "        i18n.t('throw.success') +\n        '\\n\\n' +\n        i18n.t('throw.text21');\n    }\n"
      }
    ],
    "count": 1
  },
  {
    "key": "buttons.short18",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 845,
        "context": "        await telegram.sendMessageWithButtons(chatId, successMessage, [\n          [{ text: i18n.t('buttons.message'), callback_data: `conv_reply_${conversationIdentifier}` }],\n          [{ text: i18n."
      }
    ],
    "count": 1
  },
  {
    "key": "errors.processError",
    "files": [
      {
        "file": "src/telegram/handlers/throw.ts",
        "line": 870,
        "context": "\n    const _errorMsg = error instanceof Error ? error.message : String(error);\n    await telegram.sendMessage(chatId, i18n.t('errors.processError'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "warning.vip2",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 84,
        "context": "      const { createI18n } = await import('~/i18n');\n      const i18n = createI18n(user.language_pref || 'zh-TW');\n      await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('warning.vip2'));\n "
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text16",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 112,
        "context": "      i18n.t('throw.vip3') +\n        '\\n\\n' +\n        i18n.t('throw.text16') +\n        '\\n\\n' +\n        i18n.t('throw.mbti5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.mbti5",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 114,
        "context": "        i18n.t('throw.text16') +\n        '\\n\\n' +\n        i18n.t('throw.mbti5') +\n        '\\n' +\n        i18n.t('throw.zodiac5') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.zodiac5",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 116,
        "context": "        i18n.t('throw.mbti5') +\n        '\\n' +\n        i18n.t('throw.zodiac5') +\n        '\\n' +\n        i18n.t('throw.bloodType2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.bloodType2",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 118,
        "context": "        i18n.t('throw.zodiac5') +\n        '\\n' +\n        i18n.t('throw.bloodType2') +\n        '\\n' +\n        i18n.t('throw.gender3') +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.gender3",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 120,
        "context": "        i18n.t('throw.bloodType2') +\n        '\\n' +\n        i18n.t('throw.gender3') +\n        '\\n\\n' +\n        i18n.t('throw.text23'),"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.mbti4",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 193,
        "context": "      chatId,\n      callbackQuery.message!.message_id,\n      i18n.t('throw.mbti4') +\n        '\\n\\n' +\n        i18n.t('throw.selected', { selected: selectedMBTI.length > 0 ? selectedMBTI.join(', ') : i"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.cancel",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 197,
        "context": "        i18n.t('throw.selected', { selected: selectedMBTI.length > 0 ? selectedMBTI.join(', ') : i18n.t('common.none') }) +\n        '\\n\\n' +\n        i18n.t('throw.cancel'),\n      {\n        reply_marku"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.zodiac4",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 330,
        "context": "      chatId,\n      callbackQuery.message!.message_id,\n      i18n.t('throw.zodiac4') +\n        '\\n\\n' +\n        i18n.t('throw.selected', { selected: selectedZodiac.length > 0 ? selectedZodiac.map((z) "
      }
    ],
    "count": 1
  },
  {
    "key": "throw.cancel2",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 334,
        "context": "        i18n.t('throw.selected', { selected: selectedZodiac.length > 0 ? selectedZodiac.map((z) => getZodiacName(z, i18n)).join(', ') : i18n.t('common.none') }) +\n        '\\n\\n' +\n        i18n.t('thro"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.gender2",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 459,
        "context": "      chatId,\n      callbackQuery.message!.message_id,\n      i18n.t('throw.gender2') +\n        '\\n\\n' +\n        i18n.t('throw.currentSelection', { genderText }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.gender4",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 463,
        "context": "        i18n.t('throw.currentSelection', { genderText }) +\n        '\\n\\n' +\n        i18n.t('throw.gender4'),\n      {\n        reply_markup: {"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.text24",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 590,
        "context": "    const mbtiText = selectedMBTI.length > 0 ? selectedMBTI.join(', ') : i18n.t('throw.unlimited');\n    const zodiacText = selectedZodiac.length > 0 ? selectedZodiac.map((z) => getZodiacName(z, i18n))"
      }
    ],
    "count": 1
  },
  {
    "key": "success.complete7",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 646,
        "context": "    const i18n = createI18n(user.language_pref || 'zh-TW');\n\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.complete7'));\n\n    // Delete filter menu"
      }
    ],
    "count": 1
  },
  {
    "key": "success.settings3",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 667,
        "context": "    const mbtiText = selectedMBTI.length > 0 ? selectedMBTI.join(', ') : i18n.t('throw.unlimited');\n    const zodiacText = selectedZodiac.length > 0 ? selectedZodiac.map((z) => getZodiacName(z, i18n))"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.tips",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 678,
        "context": "        i18n.t('throw.bottle6') +\n        '\\n\\n' +\n        i18n.t('throw.tips') +\n        i18n.t('common.text112') +\n        '\\n' +"
      }
    ],
    "count": 1
  },
  {
    "key": "throw.friendlyContent",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 687,
        "context": "        i18n.t('throw.text13') +\n        '\\n' +\n        i18n.t('throw.friendlyContent')\n    );\n"
      }
    ],
    "count": 1
  },
  {
    "key": "success.mbti4",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 735,
        "context": "    await updateSessionData(db, session.id, sessionData);\n\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.mbti4'));\n    await handleFilterMBTI(callbackQuery, env);\n  } catch "
      }
    ],
    "count": 1
  },
  {
    "key": "success.zodiac",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 779,
        "context": "    await updateSessionData(db, session.id, sessionData);\n\n    await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('success.zodiac'));\n    await handleFilterZodiac(callbackQuery, env);\n  } cat"
      }
    ],
    "count": 1
  },
  {
    "key": "common.bloodTypeA",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 834,
        "context": "      [\n        [\n          { text: i18n.t('common.bloodTypeA'), callback_data: 'blood_type_A' },\n          { text: i18n.t('common.bloodTypeB'), callback_data: 'blood_type_B' },\n        ],"
      }
    ],
    "count": 1
  },
  {
    "key": "common.bloodTypeB",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 835,
        "context": "        [\n          { text: i18n.t('common.bloodTypeA'), callback_data: 'blood_type_A' },\n          { text: i18n.t('common.bloodTypeB'), callback_data: 'blood_type_B' },\n        ],\n        ["
      }
    ],
    "count": 1
  },
  {
    "key": "common.bloodTypeAB",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 838,
        "context": "        ],\n        [\n          { text: i18n.t('common.bloodTypeAB'), callback_data: 'blood_type_AB' },\n          { text: i18n.t('common.bloodTypeO'), callback_data: 'blood_type_O' },\n        ],"
      }
    ],
    "count": 1
  },
  {
    "key": "common.bloodTypeO",
    "files": [
      {
        "file": "src/telegram/handlers/throw_advanced.ts",
        "line": 839,
        "context": "        [\n          { text: i18n.t('common.bloodTypeAB'), callback_data: 'blood_type_AB' },\n          { text: i18n.t('common.bloodTypeO'), callback_data: 'blood_type_O' },\n        ],\n        [{ text: "
      }
    ],
    "count": 1
  },
  {
    "key": "errors.unknownAction",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 96,
        "context": "\n      default:\n        await telegram.answerCallbackQuery(callbackQuery.id, i18n.t('errors.unknownAction'));\n        return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.welcome",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 120,
        "context": "): Promise<void> {\n  const message =\n    i18n.t('tutorial.welcome') +\n    '\\n\\n' +\n    i18n.t('tutorial.whatIsXunNi') +"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.whatIsXunNi",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 122,
        "context": "    i18n.t('tutorial.welcome') +\n    '\\n\\n' +\n    i18n.t('tutorial.whatIsXunNi') +\n    '\\n' +\n    i18n.t('tutorial.whatIsXunNiDesc') +"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.whatIsXunNiDesc",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 124,
        "context": "    i18n.t('tutorial.whatIsXunNi') +\n    '\\n' +\n    i18n.t('tutorial.whatIsXunNiDesc') +\n    '\\n\\n' +\n    i18n.t('tutorial.throwBottle') +"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.throwBottle",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 126,
        "context": "    i18n.t('tutorial.whatIsXunNiDesc') +\n    '\\n\\n' +\n    i18n.t('tutorial.throwBottle') +\n    '\\n' +\n    i18n.t('tutorial.throwBottleDesc') +"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.catchBottle",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 130,
        "context": "    i18n.t('tutorial.throwBottleDesc') +\n    '\\n\\n' +\n    i18n.t('tutorial.catchBottle') +\n    '\\n' +\n    i18n.t('tutorial.catchBottleDesc') +"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.howToBecomeFriends",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 134,
        "context": "    i18n.t('tutorial.catchBottleDesc') +\n    '\\n\\n' +\n    i18n.t('tutorial.howToBecomeFriends') +\n    '\\n' +\n    i18n.t('tutorial.howToBecomeFriendsDesc');"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.howToBecomeFriendsDesc",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 136,
        "context": "    i18n.t('tutorial.howToBecomeFriends') +\n    '\\n' +\n    i18n.t('tutorial.howToBecomeFriendsDesc');\n\n  await telegram.sendMessageWithButtons(chatId, message, ["
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.startUsing",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 139,
        "context": "\n  await telegram.sendMessageWithButtons(chatId, message, [\n    [{ text: i18n.t('tutorial.startUsing'), callback_data: 'tutorial_next' }],\n    [{ text: i18n.t('tutorial.skip'), callback_data: 'tutoria"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.skip",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 140,
        "context": "  await telegram.sendMessageWithButtons(chatId, message, [\n    [{ text: i18n.t('tutorial.startUsing'), callback_data: 'tutorial_next' }],\n    [{ text: i18n.t('tutorial.skip'), callback_data: 'tutorial"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.readyToStart",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 152,
        "context": "  i18n: ReturnType<typeof createI18n>\n): Promise<void> {\n  const message = i18n.t('tutorial.readyToStart') + '\\n\\n' + i18n.t('tutorial.completeTasksForBottles');\n\n  await telegram.sendMessageWithButto"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.viewTasks",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 159,
        "context": "      { text: i18n.t('buttons.bottle4'), callback_data: 'tutorial_catch' },\n    ],\n    [{ text: i18n.t('tutorial.viewTasks'), callback_data: 'tutorial_view_tasks' }],\n  ]);\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.completed",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 177,
        "context": "\n  if (!nextStep) {\n    await telegram.sendMessage(chatId, i18n.t('tutorial.completed'));\n    return;\n  }"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.unknownStep",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 198,
        "context": "\n    default:\n      await telegram.sendMessage(chatId, i18n.t('tutorial.unknownStep'));\n  }\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.skipped",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 215,
        "context": "  await telegram.sendMessage(\n    chatId,\n    i18n.t('tutorial.skipped') +\n      '\\n\\n' +\n      i18n.t('tutorial.availableCommands') +"
      }
    ],
    "count": 1
  },
  {
    "key": "tutorial.commandHelp",
    "files": [
      {
        "file": "src/telegram/handlers/tutorial.ts",
        "line": 225,
        "context": "      i18n.t('tutorial.commandTasks') +\n      '\\n' +\n      i18n.t('tutorial.commandHelp')\n  );\n}"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.short",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 54,
        "context": "    const priceStars = resolveVipPrice(env);\n    const priceNote =\n      priceStars === DEFAULT_VIP_PRICE_STARS ? i18n.t('vip.short') : i18n.t('vip.text28');\n\n    // Check if user completed onboarding"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.text28",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 54,
        "context": "    const priceStars = resolveVipPrice(env);\n    const priceNote =\n      priceStars === DEFAULT_VIP_PRICE_STARS ? i18n.t('vip.short') : i18n.t('vip.text28');\n\n    // Check if user completed onboarding"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip9",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 69,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('vip.vip9') +\n          '\\n\\n' +\n          i18n.t('vip.text11', { expireDate }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.text20",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 89,
        "context": "          i18n.t('vip.text26') +\n          '\\n\\n' +\n          i18n.t('vip.text20') +\n          '\\n\\n' +\n          i18n.t('common.backToMainMenu'),"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip10",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 100,
        "context": "      await telegram.sendMessageWithButtons(\n        chatId,\n        i18n.t('vip.vip10') +\n          '\\n\\n' +\n          i18n.t('vip.message8', { priceStars }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.quota",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 114,
        "context": "          i18n.t('vip.text23') +\n          '\\n' +\n          i18n.t('vip.quota') +\n          '\\n' +\n          i18n.t('vip.mbti') +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.text",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 120,
        "context": "          i18n.t('vip.text26') +\n          '\\n' +\n          i18n.t('vip.text') +\n          '\\n\\n' +\n          i18n.t('vip.message13') +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.message13",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 122,
        "context": "          i18n.t('vip.text') +\n          '\\n\\n' +\n          i18n.t('vip.message13') +\n          '\\n\\n' +\n          i18n.t('common.backToMainMenu'),"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip17",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 228,
        "context": "\n  const title = enableSubscription\n    ? i18n.t('vip.vip17')\n    : isRenewal\n      ? i18n.t('vip.vip23')"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip23",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 230,
        "context": "    ? i18n.t('vip.vip17')\n    : isRenewal\n      ? i18n.t('vip.vip23')\n      : i18n.t('vip.vip24');\n"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip24",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 231,
        "context": "    : isRenewal\n      ? i18n.t('vip.vip23')\n      : i18n.t('vip.vip24');\n\n  const description = enableSubscription"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip6",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 234,
        "context": "\n  const description = enableSubscription\n    ? i18n.t('vip.vip6') +\n      '\\n\\n' +\n      i18n.t('vip.text23') +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.settings3",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 244,
        "context": "      i18n.t('vip.text2') +\n      '\\n\\n' +\n      i18n.t('vip.settings3')\n    : i18n.t('vip.vip12') +\n      '\\n' +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip12",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 245,
        "context": "      '\\n\\n' +\n      i18n.t('vip.settings3')\n    : i18n.t('vip.vip12') +\n      '\\n' +\n      i18n.t('vip.text23') +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip25",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 271,
        "context": "    prices: [\n      {\n        label: enableSubscription ? i18n.t('vip.vip25') : i18n.t('vip.vip21'),\n        amount: priceStars,\n      },"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip21",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 271,
        "context": "    prices: [\n      {\n        label: enableSubscription ? i18n.t('vip.vip25') : i18n.t('vip.vip21'),\n        amount: priceStars,\n      },"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.success2",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 418,
        "context": "    // Send confirmation message\n    const confirmMessage = isRecurring\n      ? i18n.t('vip.success2') +\n        '\\n\\n' +\n        i18n.t('vip.vip15') +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip15",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 420,
        "context": "      ? i18n.t('vip.success2') +\n        '\\n\\n' +\n        i18n.t('vip.vip15') +\n        '\\n' +\n        i18n.t('vip.message3', { newExpire }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip18",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 424,
        "context": "        i18n.t('vip.message3', { newExpire }) +\n        '\\n\\n' +\n        i18n.t('vip.vip18') +\n        '\\n' +\n        i18n.t('vip.text23') +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.success4",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 435,
        "context": "        '\\n\\n' +\n        i18n.t('vip.settings2')\n      : i18n.t('vip.success4') +\n        '\\n\\n' +\n        i18n.t('vip.vip19') +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip19",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 437,
        "context": "      : i18n.t('vip.success4') +\n        '\\n\\n' +\n        i18n.t('vip.vip19') +\n        '\\n' +\n        i18n.t('vip.message4', { newExpire }) +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.vip20",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 441,
        "context": "        i18n.t('vip.message4', { newExpire }) +\n        '\\n\\n' +\n        i18n.t('vip.vip20') +\n        '\\n' +\n        i18n.t('vip.text23') +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.text4",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 451,
        "context": "        i18n.t('vip.text26') +\n        '\\n\\n' +\n        i18n.t('vip.text4') +\n        '\\n' +\n        i18n.t('vip.settings2') +"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.start",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 455,
        "context": "        i18n.t('vip.settings2') +\n        '\\n\\n' +\n        i18n.t('vip.start');\n\n    await telegram.sendMessage(chatId, confirmMessage);"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.conversation2",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 474,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('vip.conversation2') + '\\n\\n' + i18n.t('vip.text24')\n      );\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.text24",
    "files": [
      {
        "file": "src/telegram/handlers/vip.ts",
        "line": 474,
        "context": "      await telegram.sendMessage(\n        chatId,\n        i18n.t('vip.conversation2') + '\\n\\n' + i18n.t('vip.text24')\n      );\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "error.vip2",
    "files": [
      {
        "file": "src/telegram/handlers/vip_refund.ts",
        "line": 36,
        "context": "    const i18n = createI18n(user?.language_pref || 'zh-TW');\n    if (!user || !user.is_vip) {\n      await telegram.sendMessage(chatId, i18n.t('error.vip2'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.refundPending",
    "files": [
      {
        "file": "src/telegram/handlers/vip_refund.ts",
        "line": 52,
        "context": "\n    if (existingRequest) {\n      await telegram.sendMessage(chatId, i18n.t('vip.refundPending'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.refundNoPayment",
    "files": [
      {
        "file": "src/telegram/handlers/vip_refund.ts",
        "line": 77,
        "context": "\n    if (!lastPayment) {\n      await telegram.sendMessage(chatId, i18n.t('vip.refundNoPayment'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.refundRequestReason",
    "files": [
      {
        "file": "src/telegram/handlers/vip_refund.ts",
        "line": 97,
        "context": "\n    // Request refund reason\n    await telegram.sendMessage(chatId, i18n.t('vip.refundRequestReason'));\n\n    // Create session for reason input"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.refundReasonTooShort",
    "files": [
      {
        "file": "src/telegram/handlers/vip_refund.ts",
        "line": 141,
        "context": "  const i18n = createI18n(user?.language_pref || 'zh-TW');\n  if (reason.length < 10) {\n    await telegram.sendMessage(chatId, i18n.t('vip.refundReasonTooShort'));\n    return;\n  }"
      }
    ],
    "count": 1
  },
  {
    "key": "error.admin",
    "files": [
      {
        "file": "src/telegram/handlers/vip_refund.ts",
        "line": 210,
        "context": "  const i18n = createI18n(user?.language_pref || 'zh-TW');\n  if (telegramId !== env.SUPER_ADMIN_USER_ID) {\n    await telegram.sendMessage(chatId, i18n.t('error.admin'));\n    return;\n  }"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.refundNoPending",
    "files": [
      {
        "file": "src/telegram/handlers/vip_refund.ts",
        "line": 238,
        "context": "\n    if (requests.results.length === 0) {\n      await telegram.sendMessage(chatId, i18n.t('vip.refundNoPending'));\n      return;\n    }"
      }
    ],
    "count": 1
  },
  {
    "key": "vip.refundAdminCommands",
    "files": [
      {
        "file": "src/telegram/handlers/vip_refund.ts",
        "line": 256,
        "context": "    }\n\n    msg += i18n.t('vip.refundAdminCommands');\n\n    await telegram.sendMessage(chatId, msg);"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.short5",
    "files": [
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 39,
        "context": "content = content.replace(\n  /const gender = user\\.gender === 'male' \\? '男' : user\\.gender === 'female' \\? '女' : '未設定';/g,\n  `const gender = user.gender === 'male' ? i18n.t('catch.short5').replace('♀️"
      }
    ],
    "count": 1
  },
  {
    "key": "catch.short4",
    "files": [
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 39,
        "context": "content = content.replace(\n  /const gender = user\\.gender === 'male' \\? '男' : user\\.gender === 'female' \\? '女' : '未設定';/g,\n  `const gender = user.gender === 'male' ? i18n.t('catch.short5').replace('♀️"
      }
    ],
    "count": 1
  },
  {
    "key": "common.mbti7",
    "files": [
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 46,
        "context": "  /const mbtiSource =\\s+user\\.mbti_source === 'manual' \\? '手動輸入' : user\\.mbti_source === 'test' \\? '測驗結果' : '';/g,\n  `const mbtiSource =\n      user.mbti_source === 'manual' ? i18n.t('common.mbti7') : "
      }
    ],
    "count": 1
  },
  {
    "key": "profile.short",
    "files": [
      {
        "file": "scripts/fix-profile-i18n.ts",
        "line": 121,
        "context": "content = content.replace(\n  /\\[\\{ text: '📝 編輯資料', callback_data: 'edit_profile_menu' \\}\\]/g,\n  `[{ text: i18n.t('profile.short'), callback_data: 'edit_profile_menu' }]`\n);\n"
      }
    ],
    "count": 1
  }
]