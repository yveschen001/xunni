# è‡ªåŠ¨æµ‹è¯•å’Œä¿®å¤ç³»ç»Ÿæ€»ç»“

## âœ… å·²å®Œæˆ

### 1. è‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤ç³»ç»Ÿ

**è„šæœ¬ï¼š**
- `scripts/auto-fix-i18n-placeholders.ts` - è‡ªåŠ¨æ£€æµ‹å ä½ç¬¦å’Œé”™è¯¯ä½¿ç”¨ï¼Œè‡ªåŠ¨ä¿®å¤
- `scripts/auto-test-and-fix-i18n.ts` - ä¸€é”®æµ‹è¯•å¹¶ä¿®å¤
- `scripts/test-onboarding-full-auto.ts` - å®Œæ•´æ³¨å†Œæµç¨‹æµ‹è¯•
- `scripts/test-onboarding-with-placeholder-check.ts` - ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆåŒ…å«å ä½ç¬¦æ£€æŸ¥ï¼‰
- `scripts/verify-all-placeholder-keys.ts` - éªŒè¯å›¾ç‰‡ä¸­çš„å ä½ç¬¦ key

**NPM Scriptsï¼š**
```bash
pnpm test:i18n-auto      # ä¸€é”®æµ‹è¯•å¹¶ä¿®å¤
pnpm test:i18n-verify    # éªŒè¯å›¾ç‰‡ä¸­çš„å ä½ç¬¦
pnpm test:i18n-full      # å®Œæ•´æµ‹è¯•
pnpm test:onboarding-e2e # ç«¯åˆ°ç«¯æµ‹è¯•
```

### 2. Smoke Test é›†æˆ

Smoke test ç°åœ¨åŒ…å«ï¼š
1. âœ… å…³é”®æ³¨å†Œæµç¨‹ key æ£€æŸ¥
2. âœ… è‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤å ä½ç¬¦
3. âœ… æ‰€æœ‰ i18n key å­˜åœ¨æ€§æ£€æŸ¥
4. âœ… Key ä½¿ç”¨æ­£ç¡®æ€§æ£€æŸ¥

### 3. ä¿æŠ¤æœºåˆ¶

1. âœ… **Git Pre-commit Hook** - æäº¤å‰è‡ªåŠ¨æ£€æŸ¥
2. âœ… **å¯¼å…¥å‰æ£€æŸ¥** - `i18n-import-from-csv-v2.ts` è‡ªåŠ¨æ£€æŸ¥å…³é”® key
3. âœ… **Key ä½¿ç”¨è§„åˆ™** - `verify-i18n-key-usage.ts` æ£€æŸ¥ä½¿ç”¨æ˜¯å¦æ­£ç¡®

### 4. å½“å‰çŠ¶æ€

- âœ… æ‰€æœ‰å›¾ç‰‡ä¸­çš„å ä½ç¬¦ key éƒ½å·²å­˜åœ¨
- âœ… æ‰€æœ‰å…³é”® key éƒ½æ­£å¸¸
- âœ… Key ä½¿ç”¨éƒ½æ­£ç¡®ï¼ˆ`warnings.settings` â†’ `onboarding.genderWarning`ï¼‰
- âœ… è‡ªåŠ¨ä¿®å¤ç³»ç»Ÿå·²å»ºç«‹

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### æ—¥å¸¸å¼€å‘

```bash
# ä¿®æ”¹ä»£ç åï¼Œè¿è¡Œè‡ªåŠ¨æµ‹è¯•å’Œä¿®å¤
pnpm test:i18n-auto
```

### éªŒè¯ä¿®å¤

```bash
# éªŒè¯å›¾ç‰‡ä¸­çš„å ä½ç¬¦æ˜¯å¦å·²ä¿®å¤
pnpm test:i18n-verify
```

### å®Œæ•´æµ‹è¯•

```bash
# è¿è¡Œå®Œæ•´çš„ smoke testï¼ˆåŒ…å«æ‰€æœ‰æ£€æŸ¥ï¼‰
pnpm smoke-test
```

## ğŸ”„ å·¥ä½œæµç¨‹

1. **å¼€å‘æ—¶**ï¼šä¿®æ”¹ä»£ç  â†’ `pnpm test:i18n-auto` â†’ è‡ªåŠ¨ä¿®å¤ â†’ éªŒè¯
2. **æäº¤æ—¶**ï¼šGit hook è‡ªåŠ¨æ£€æŸ¥ â†’ é€šè¿‡æ‰èƒ½æäº¤
3. **éƒ¨ç½²å‰**ï¼š`pnpm smoke-test` â†’ åŒ…å«æ‰€æœ‰ i18n æ£€æŸ¥

## ğŸ“Š è‡ªåŠ¨ä¿®å¤åŠŸèƒ½

### 1. é”™è¯¯ Key ä½¿ç”¨ä¿®å¤

è‡ªåŠ¨æ£€æµ‹å¹¶ä¿®å¤ï¼š
- `warnings.settings` ç”¨äºæ€§åˆ«ç›¸å…³ â†’ æ”¹ä¸º `onboarding.genderWarning`
- å…¶ä»–é”™è¯¯çš„ key ä½¿ç”¨

### 2. å ä½ç¬¦æ£€æµ‹

è‡ªåŠ¨æ£€æµ‹æ‰€æœ‰å ä½ç¬¦æ ¼å¼ï¼š
- `[éœ€è¦ç¿»è¯‘]`
- `[Translation needed]`
- `[onboarding.*]`
- `[nickname.*]`
- `[warnings.*]`
- `[success.*]`
- `[common.*]`
- `[errors.*]`

### 3. ç¼ºå¤± Key æ¢å¤

å¦‚æœå‘ç°ç¼ºå¤±çš„ keyï¼š
1. ä» CSV ä¸­æŸ¥æ‰¾
2. ä» git å†å²ä¸­æŸ¥æ‰¾
3. æç¤ºéœ€è¦æ‰‹åŠ¨æ·»åŠ 

## ğŸ›¡ï¸ ä¿æŠ¤æœºåˆ¶å±‚çº§

1. **å¼€å‘æ—¶**ï¼š`pnpm test:i18n-auto` è‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤
2. **æäº¤æ—¶**ï¼šGit pre-commit hook è‡ªåŠ¨æ£€æŸ¥
3. **æµ‹è¯•æ—¶**ï¼šSmoke test åŒ…å«æ‰€æœ‰æ£€æŸ¥
4. **å¯¼å…¥æ—¶**ï¼šå¯¼å…¥è„šæœ¬è‡ªåŠ¨æ£€æŸ¥å…³é”® key

## âœ… éªŒè¯ç»“æœ

æ‰€æœ‰å›¾ç‰‡ä¸­çš„å ä½ç¬¦ key éƒ½å·²éªŒè¯ï¼š
- âœ… `nickname.genderSelection`
- âœ… `nickname.genderHint`
- âœ… `onboarding.genderWarning` (å·²ä¿®å¤ï¼Œä¸å†ä½¿ç”¨ `warnings.settings`)
- âœ… `success.confirm3`
- âœ… `onboarding.birthdayError`
- âœ… `onboarding.birthdayRetry`
- âœ… `onboarding.confirmBirthday`
- âœ… `onboarding.age`
- âœ… `onboarding.zodiac`
- âœ… `onboarding.birthdayWarning`
- âœ… `onboarding.retry`

## ğŸ‰ æ€»ç»“

ç°åœ¨ä½ æœ‰äº†å®Œæ•´çš„è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼š
1. âœ… **è‡ªåŠ¨æ£€æµ‹**å ä½ç¬¦å’Œé”™è¯¯ä½¿ç”¨
2. âœ… **è‡ªåŠ¨ä¿®å¤**é”™è¯¯çš„ key ä½¿ç”¨
3. âœ… **è‡ªåŠ¨éªŒè¯**ä¿®å¤ç»“æœ
4. âœ… **é›†æˆåˆ° Smoke Test**ï¼Œæ¯æ¬¡æµ‹è¯•éƒ½ä¼šæ£€æŸ¥

**ä¸å†éœ€è¦æ‰‹åŠ¨æµ‹è¯•äº†ï¼** è¿è¡Œ `pnpm test:i18n-auto` å°±èƒ½è‡ªåŠ¨æµ‹è¯•å’Œä¿®å¤æ‰€æœ‰é—®é¢˜ï¼ğŸ˜Š

