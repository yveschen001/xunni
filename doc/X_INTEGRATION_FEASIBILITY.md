# X (Twitter) 帳號整合可行性評估

## 1. 需求分析
我們希望讓用戶將 X (Twitter) 帳號與我們平台關聯，可能用於：
1.  **身份驗證**：證明用戶是真實的、有社交影響力的。
2.  **任務驗證**：例如「關注我們的 X 帳號」、「轉發貼文」等任務的自動驗證。
3.  **數據獲取**：獲取用戶的粉絲數、註冊時間等，作為空投或獎勵的依據。

## 2. X API 現狀與成本 (截至 2025 年)

X 的 API 政策在 Elon Musk 接手後發生了巨大變化，主要體現在**高昂的價格**和**嚴格的限制**。

### 2.1 API 方案分級

| 方案 | 價格 (月費) | 讀取限制 (Read Limit) | 寫入限制 (Write Limit) | 適用場景 |
| :--- | :--- | :--- | :--- | :--- |
| **Free** | **免費** | **無讀取權限** | 僅限發帖 (1,500 則/月) | 僅能做「分享到 X」按鈕，無法做「登入」或「驗證關注」 |
| **Basic** | **$100 USD** | 極低 (10,000 則/月) | 有限 (50,000 則/月) | 個人開發者，勉強可用於極小規模驗證 |
| **Pro** | **$5,000 USD** | 中等 (1,000,000 則/月) | 較高 | 商業應用 |
| **Enterprise** | **$42,000+ USD** | 高 | 高 | 大型企業 |

**結論**：
*   **免費版 (Free Tier)**：**完全無法使用**於「帳號關聯」或「讀取用戶資料」。它不提供 `users/me` 或 `users/show` 接口。
*   **基礎版 (Basic Tier - $100/月)**：可以用於「Twitter 登入 (OAuth 2.0)」，獲取用戶基本資料。但其 Rate Limit (速率限制) 非常嚴格，如果我們用戶量大，很容易爆掉。
*   **企業版**：成本過高，不考慮。

### 2.2 技術實現難度

*   **OAuth 2.0 流程**：技術上不難，標準的 OAuth 流程（跳轉到 X -> 用戶授權 -> 回調我們服務器）。
*   **維護成本**：X 的 API 經常變動，且穩定性不如以前。

## 3. 替代方案 (Workarounds)

鑑於官方 API 的昂貴與限制，業界常見的替代方案：

### 方案 A：僅做前端跳轉 (無驗證)
*   **做法**：用戶點擊「去關注」，我們跳轉到 X。用戶回來後點擊「已完成」。
*   **優點**：免費、無技術門檻。
*   **缺點**：無法驗證用戶是否真的關注了（全靠用戶自覺）。**適合初期低成本運營。**

### 方案 B：第三方驗證服務 (如 Gleam, Galxe, QuestN)
*   **做法**：引導用戶去 Galxe 或 QuestN 完成 X 任務，我們通過這些平台的 API 或 Webhook 確認。
*   **優點**：這些平台已經買了高級 API，我們蹭他們的服務。
*   **缺點**：用戶體驗中斷（要跳去別的平台），且可能需要付費給這些平台（通常比直接買 X API 便宜）。

### 方案 C：使用 NextAuth / Auth.js 等庫 (需 Basic Tier)
*   **做法**：購買 $100/月的 Basic Tier，僅用於「綁定帳號」獲取 X ID 和 Username。
*   **限制**：無法大量驗證「是否關注了某人」（因為讀取限制），只能驗證「你是誰」。

## 4. 綜合建議

**如果不希望花費高額 API 費用 ($100/月起跳)，建議：**

1.  **暫時不對接 X API**。
2.  **採用「方案 A (前端跳轉)」**：在任務系統中，讓用戶點擊鏈接去 X，回來後手動領取獎勵（不做硬性驗證）。這在 Web3 初期項目中很常見。
3.  **未來升級**：當用戶量大到一定程度，且有明確的「防刷」需求時，再考慮購買 $100/月的 Basic Tier 或接入 Galxe 等任務平台。

**結論**：
X 關聯**技術上好做**，但**成本很高**（主要是 API 訂閱費）。現階段建議先做「軟性關聯」（填寫 X 帳號文本，人工抽查）或「跳轉任務」。

