{
  "summary": {
    "total": 1773,
    "duplicates": 196,
    "generic": 911,
    "sqlQueries": 6
  },
  "duplicates": [
    {
      "key": "common.short",
      "count": 157,
      "examples": [
        {
          "text": "ğŸ’¡ ä½ å¯ä»¥ï¼š\\n",
          "file": "src/telegram/handlers/draft.ts",
          "line": 34
        },
        {
          "text": "ğŸŒˆ ä»»ä½•äººéƒ½å¯ä»¥",
          "file": "src/telegram/handlers/draft.ts",
          "line": 89
        },
        {
          "text": "âœï¸ ç¹¼çºŒç·¨è¼¯è³‡æ–™",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 348
        }
      ]
    },
    {
      "key": "common.text",
      "count": 148,
      "examples": [
        {
          "text": "ç›®æ¨™ï¼š${broadcast.target_type}\\n",
          "file": "src/telegram/handlers/broadcast.ts",
          "line": 220
        },
        {
          "text": "è«‹ä½¿ç”¨ /broadcast_filter æŸ¥çœ‹æ­£ç¢ºæ ¼å¼ã€‚",
          "file": "src/telegram/handlers/broadcast.ts",
          "line": 534
        },
        {
          "text": "**éæ¿¾æ¢ä»¶ï¼š**\\n${filtersDesc}\\n\\n",
          "file": "src/telegram/handlers/broadcast.ts",
          "line": 560
        }
      ]
    },
    {
      "key": "common.message",
      "count": 83,
      "examples": [
        {
          "text": "AND (b.target_gender = ? OR b.target_gender = 'any')\n      -- ğŸ†• æ’é™¤å·²ç¶“é…å°éçš„ç”¨æˆ¶ï¼ˆæª¢æŸ¥æ‰€æœ‰æ§½ä½ï¼‰\n      AND NOT EX",
          "file": "src/db/queries/bottles.ts",
          "line": 81
        },
        {
          "text": "INSERT INTO users (\n        telegram_id,\n        username,\n        first_name,\n        nickname,\n   ",
          "file": "src/telegram/handlers/dev.ts",
          "line": 525
        },
        {
          "text": "SELECT DISTINCT b.* FROM bottles b\n    WHERE (\n      -- æ™®é€šç“¶å­ï¼šstatus = 'pending'\n      (b.is_vip_trip",
          "file": "src/db/queries/bottles.ts",
          "line": 81
        }
      ]
    },
    {
      "key": "admin.text",
      "count": 52,
      "examples": [
        {
          "text": "â€¢ å„ªå…ˆç´š: ${provider.priority}\\n",
          "file": "src/telegram/handlers/admin_ad_config.ts",
          "line": 62
        },
        {
          "text": "â€¢ çå‹µ: ${ad.quota_reward} é¡åº¦\\n",
          "file": "src/telegram/handlers/admin_ad_config.ts",
          "line": 258
        },
        {
          "text": "/official_ad_disable <ad_id>",
          "file": "src/telegram/handlers/admin_ad_config.ts",
          "line": 333
        }
      ]
    },
    {
      "key": "errors.error.failed",
      "count": 41,
      "examples": [
        {
          "text": "âŒ **å»£å‘ŠåŠ è¼‰å¤±æ•—**\n\nå¾ˆæŠ±æ­‰ï¼Œå»£å‘Šç„¡æ³•æ­£å¸¸æ’­æ”¾ã€‚\n\nğŸ’¡ **å¯èƒ½çš„åŸå› ï¼š**\nâ€¢ ç¶²çµ¡é€£æ¥ä¸ç©©å®š\nâ€¢ å»£å‘Šæä¾›å•†æš«æ™‚ä¸å¯ç”¨\nâ€¢ ç€è¦½å™¨ä¸æ”¯æŒ\n\nğŸ”„ **å»ºè­°ï¼š**\nâ€¢ æª¢æŸ¥ç¶²çµ¡é€£æ¥\nâ€¢ ç¨å¾Œ",
          "file": "src/telegram/handlers/ad_reward.ts",
          "line": 464
        },
        {
          "text": "âŒ å‰µå»ºéæ¿¾å»£æ’­å¤±æ•—\\n\\n${error instanceof Error ? error.message : String(error)}",
          "file": "src/telegram/handlers/broadcast.ts",
          "line": 592
        },
        {
          "text": "âŒ è™•ç†å»£æ’­éšŠåˆ—å¤±æ•—ï¼š${error instanceof Error ? error.message : String(error)}",
          "file": "src/telegram/handlers/broadcast.ts",
          "line": 236
        }
      ]
    },
    {
      "key": "common.bottle",
      "count": 34,
      "examples": [
        {
          "text": "ç“¶å­å…§å®¹å¤ªçŸ­ï¼Œè‡³å°‘éœ€è¦ ${MIN_BOTTLE_LENGTH} å€‹å­—ç¬¦ï¼ˆç›®å‰ ${trimmedContent.length} å€‹å­—ç¬¦ï¼‰",
          "file": "src/domain/bottle.ts",
          "line": 57
        },
        {
          "text": "ç“¶å­å…§å®¹å¤ªé•·ï¼Œæœ€å¤š ${MAX_BOTTLE_LENGTH} å€‹å­—ç¬¦ï¼ˆç›®å‰ ${content.length} å€‹å­—ç¬¦ï¼‰",
          "file": "src/domain/bottle.ts",
          "line": 64
        },
        {
          "text": "â€¢ æ¼‚æµç“¶: ${bottlesCount?.count || 0}\\n",
          "file": "src/telegram/handlers/dev.ts",
          "line": 284
        }
      ]
    },
    {
      "key": "admin.message",
      "count": 34,
      "examples": [
        {
          "text": "â€¢ æ›´æ–°æ™‚é–“ï¼š${new Date(post.updated_at).toLocaleString('zh-TW', { month: '2-digit', day: '2-digit', hour:",
          "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
          "line": 124
        },
        {
          "text": "â€¢ æ›´æ–°æ™‚é–“ï¼š${avatarInfo.avatar_updated_at ? new Date(avatarInfo.avatar_updated_at).toLocaleString('zh-TW",
          "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
          "line": 109
        },
        {
          "text": "â€¢ ${username}: ${detail.postsUpdated} æ›´æ–°, ${detail.postsFailed} å¤±æ•—\\n",
          "file": "src/telegram/handlers/admin_refresh_vip_avatars.ts",
          "line": 93
        }
      ]
    },
    {
      "key": "help.text",
      "count": 34,
      "examples": [
        {
          "text": "/maintenance_status - æŸ¥çœ‹ç¶­è­·ç‹€æ…‹",
          "file": "src/telegram/handlers/help.ts",
          "line": 77
        },
        {
          "text": "/refresh_avatar - åˆ·æ–°é ­åƒç·©å­˜\\n",
          "file": "src/telegram/handlers/help.ts",
          "line": 36
        },
        {
          "text": "â€¢ åªç™¼çµ¦å¥³æ€§ï¼šgender=female\\n",
          "file": "src/telegram/handlers/help.ts",
          "line": 94
        }
      ]
    },
    {
      "key": "success.success.text",
      "count": 30,
      "examples": [
        {
          "text": "âœ… å·²è¨­ç½®ç‚º ${flag} ${countryName}",
          "file": "src/telegram/handlers/country_confirmation.ts",
          "line": 124
        },
        {
          "text": "âœ… èˆˆè¶£æ¨™ç±¤å·²æ›´æ–°ï¼š\\n\\n${interestsStr}",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 751
        },
        {
          "text": "âœ… åŒ¹é…åå¥½å·²æ›´æ–°ç‚ºï¼š${prefText}\\n\\n",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 348
        }
      ]
    },
    {
      "key": "vip.text",
      "count": 30,
      "examples": [
        {
          "text": "- å„ªå…ˆä½¿ç”¨ OpenAI GPT æ¨¡å‹ç¿»è­¯ï¼ˆé«˜å“è³ªï¼‰\\n",
          "file": "src/telegram/handlers/vip.ts",
          "line": 84
        },
        {
          "text": "â€¢ 34 ç¨®èªè¨€è‡ªå‹•ç¿»è­¯ï¼ˆOpenAI GPT å„ªå…ˆï¼‰\\n",
          "file": "src/telegram/handlers/vip.ts",
          "line": 195
        },
        {
          "text": "é‡‘é¡ï¼š${request.amount_stars} â­",
          "file": "src/telegram/handlers/vip_refund.ts",
          "line": 338
        }
      ]
    },
    {
      "key": "errors.error.text",
      "count": 25,
      "examples": [
        {
          "text": "âŒ è¨ˆç®—çµæœæ™‚ç³»çµ±ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚\\n\\n",
          "file": "src/telegram/handlers/mbti_test.ts",
          "line": 229
        },
        {
          "text": "âŒ å€‹äººç°¡ä»‹åŒ…å«ä¸å…è¨±çš„é€£çµã€‚\\n\\n",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 637
        },
        {
          "text": "âŒ æœªæª¢æ¸¬åˆ°ä½ åŠ å…¥é »é“ï¼Œè«‹å…ˆåŠ å…¥å¾Œå†è©¦",
          "file": "src/services/channel_membership_check.ts",
          "line": 114
        }
      ]
    },
    {
      "key": "vip.vip",
      "count": 25,
      "examples": [
        {
          "text": "ä½ çš„ VIP æœƒå“¡å·²æ–¼ ${new Date(sub.expire_date).toLocaleDateString('zh-TW')} åˆ°æœŸã€‚\\n\\n",
          "file": "src/services/vip_subscription.ts",
          "line": 169
        },
        {
          "text": "ä½ çš„ VIP æœƒå“¡å·²æ–¼ ${new Date(sub.expire_date).toLocaleDateString(",
          "file": "src/services/vip_subscription.ts",
          "line": 166
        },
        {
          "text": "ä½ çš„ VIP æœƒå“¡å°‡åœ¨ ${daysLeft} å¤©å¾Œåˆ°æœŸã€‚\\n\\n",
          "file": "src/services/vip_subscription.ts",
          "line": 80
        }
      ]
    },
    {
      "key": "bottle.throw.text",
      "count": 24,
      "examples": [
        {
          "text": "ğŸ’ åŒ¹é…åº¦ï¼š${matchPercentage}%\\n",
          "file": "src/telegram/handlers/throw.ts",
          "line": 552
        },
        {
          "text": "â€¢ ğŸ†• ä¸‰å€æ›å…‰æ©Ÿæœƒï¼ˆ1 æ¬¡ = 3 å€‹å°è±¡ï¼‰\\n",
          "file": "src/telegram/handlers/throw.ts",
          "line": 147
        },
        {
          "text": "ğŸ’¡ é€™å¯èƒ½éœ€è¦å¹¾ç§’é˜ï¼Œæˆ‘å€‘æ­£åœ¨ç‚ºä½ æ‰¾åˆ°æœ€åˆé©çš„äºº",
          "file": "src/telegram/handlers/throw.ts",
          "line": 485
        }
      ]
    },
    {
      "key": "buttons.short",
      "count": 22,
      "examples": [
        {
          "text": "ğŸ‡²ğŸ‡¾ é¦¬ä¾†è¥¿äº",
          "file": "src/telegram/handlers/country_selection.ts",
          "line": 42
        },
        {
          "text": "ğŸ‡ºğŸ‡³ è¯åˆåœ‹æ——",
          "file": "src/telegram/handlers/country_selection.ts",
          "line": 51
        },
        {
          "text": "ğŸ“¢ åŠ å…¥å®˜æ–¹é »é“",
          "file": "src/telegram/handlers/tasks.ts",
          "line": 155
        }
      ]
    },
    {
      "key": "onboarding.text",
      "count": 21,
      "examples": [
        {
          "text": "confirm_birthday_${birthday}",
          "file": "src/telegram/handlers/onboarding_input.ts",
          "line": 169
        },
        {
          "text": "ğŸ’¡ ä½ å¯ä»¥éš¨æ™‚ä½¿ç”¨ /mbti æŒ‡ä»¤é‡æ–°æ¸¬é©—æˆ–ä¿®æ”¹ã€‚",
          "file": "src/telegram/handlers/onboarding_callback.ts",
          "line": 588
        },
        {
          "text": "gender_confirm_${gender}",
          "file": "src/telegram/handlers/onboarding_callback.ts",
          "line": 52
        }
      ]
    },
    {
      "key": "bottle.throw.short",
      "count": 19,
      "examples": [
        {
          "text": "â€¢ èªè¨€ç›¸åŒ âœ“",
          "file": "src/telegram/handlers/throw.ts",
          "line": 537
        },
        {
          "text": "ğŸ©¸ AB å‹",
          "file": "src/telegram/handlers/throw_advanced.ts",
          "line": 640
        },
        {
          "text": "ğŸŒˆ ä»»ä½•äºº",
          "file": "src/telegram/handlers/throw_advanced.ts",
          "line": 371
        }
      ]
    },
    {
      "key": "conversation.text",
      "count": 19,
      "examples": [
        {
          "text": "ğŸ’¡ é€™æ˜¯åŒ¿åè³‡æ–™å¡ï¼Œä¸æœƒé¡¯ç¤ºå°æ–¹çš„çœŸå¯¦èº«ä»½è³‡è¨Šã€‚\\n\\n",
          "file": "src/telegram/handlers/conversation_actions.ts",
          "line": 115
        },
        {
          "text": "ğŸ“œ æŸ¥çœ‹æ­·å²è¨˜éŒ„ï¼š#${identifier}\\n",
          "file": "src/domain/conversation_history.ts",
          "line": 132
        },
        {
          "text": "ğŸ—£ï¸ èªè¨€ï¼š${languageLabel}\\n",
          "file": "src/telegram/handlers/conversation_actions.ts",
          "line": 95
        }
      ]
    },
    {
      "key": "common.conversation",
      "count": 18,
      "examples": [
        {
          "text": "ğŸ“¨ ${formatIdentifier(conv.identifier)} çš„å°è©±ï¼ˆ${conv.message_count} å‰‡è¨Šæ¯ï¼‰\\n",
          "file": "src/telegram/handlers/history.ts",
          "line": 90
        },
        {
          "text": "ğŸ’¬ **èˆ‡ ${formatIdentifier(identifier)} çš„å°è©±**\\n\\n",
          "file": "src/telegram/handlers/history.ts",
          "line": 131
        },
        {
          "text": "â€¢ å°è©±é–‹å§‹ï¼š${formatDate(stats.first_message_time)}\\n",
          "file": "src/telegram/handlers/history.ts",
          "line": 138
        }
      ]
    },
    {
      "key": "success.success.short",
      "count": 18,
      "examples": [
        {
          "text": "âœ… æ­£åœ¨ç™¼é€...",
          "file": "src/telegram/handlers/draft.ts",
          "line": 194
        },
        {
          "text": "âœ… ç¹¼çºŒç·¨è¼¯è‰ç¨¿",
          "file": "src/telegram/handlers/draft.ts",
          "line": 23
        },
        {
          "text": "âœ… è‰ç¨¿å·²åˆªé™¤",
          "file": "src/telegram/handlers/draft.ts",
          "line": 72
        }
      ]
    },
    {
      "key": "common.vip",
      "count": 17,
      "examples": [
        {
          "text": "ä½ çš„ VIP è¨‚é–±å·²æ–¼ ${new Date(user.vip_expire_at).toLocaleDateString('zh-TW')} åˆ°æœŸã€‚\\n\\n",
          "file": "src/services/subscription_checker.ts",
          "line": 73
        },
        {
          "text": "ä½ çš„ VIP è¨‚é–±å·²æ–¼ ${new Date(user.vip_expire_at).toLocaleDateString(",
          "file": "src/services/subscription_checker.ts",
          "line": 70
        },
        {
          "text": "/broadcast_filter vip=true,mbti=INTJ VIP å°ˆå±¬æ´»å‹•é€šçŸ¥\\n",
          "file": "src/telegram/handlers/broadcast.ts",
          "line": 505
        }
      ]
    },
    {
      "key": "common.broadcast",
      "count": 15,
      "examples": [
        {
          "text": "å»£æ’­å°‡åœ¨å¾Œå°ç™¼é€ï¼Œä½¿ç”¨ /broadcast_status ${broadcastId} æŸ¥çœ‹é€²åº¦ã€‚",
          "file": "src/telegram/handlers/broadcast.ts",
          "line": 60
        },
        {
          "text": "å¤§è¦æ¨¡å»£æ’­éœ€è¦å‡ç´šç³»çµ±æ¶æ§‹ï¼Œè«‹åƒè€ƒ BROADCAST_SYSTEM_REDESIGN.md",
          "file": "src/services/broadcast.ts",
          "line": 41
        },
        {
          "text": "ä½¿ç”¨ /broadcast_status æŸ¥çœ‹æ‰€æœ‰å»£æ’­è¨˜éŒ„ã€‚",
          "file": "src/telegram/handlers/broadcast.ts",
          "line": 203
        }
      ]
    },
    {
      "key": "conversation.message",
      "count": 14,
      "examples": [
        {
          "text": "ğŸ’« é…å°åº¦ï¼š${Math.round(partnerInfo.matchScore)}åˆ†\\n",
          "file": "src/domain/conversation_history.ts",
          "line": 71
        },
        {
          "text": "\\nğŸ“œ ç¹¼çºŒæŸ¥çœ‹ï¼š#${identifier}-H${newPostNumber}",
          "file": "src/services/conversation_history.ts",
          "line": 190
        },
        {
          "text": "ğŸ“… æœ€å¾Œæ›´æ–°ï¼š${formatDateTime(new Date())}\\n\\n",
          "file": "src/domain/conversation_history.ts",
          "line": 83
        }
      ]
    },
    {
      "key": "vip.message",
      "count": 14,
      "examples": [
        {
          "text": "åˆ°æœŸæ™‚é–“ï¼š${new Date(sub.expire_date).toLocaleDateString('zh-TW')}\\n\\n",
          "file": "src/services/vip_subscription.ts",
          "line": 81
        },
        {
          "text": "ç”³è«‹æ™‚é–“ï¼š${new Date(req.requested_at).toLocaleString('zh-TW')}\\n",
          "file": "src/telegram/handlers/vip_refund.ts",
          "line": 226
        },
        {
          "text": "æ–°åˆ°æœŸæ™‚é–“ï¼š${newExpire.toLocaleDateString('zh-TW')}\\n\\n",
          "file": "src/telegram/handlers/vip.ts",
          "line": 375
        }
      ]
    },
    {
      "key": "common.mbti",
      "count": 13,
      "examples": [
        {
          "text": "ç„¡æ•ˆçš„ MBTI é¡å‹ï¼š${trimmedValue}ï¼ˆå¿…é ˆæ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š${VALID_MBTI.join(', ')}ï¼‰",
          "file": "src/domain/broadcast_filters.ts",
          "line": 131
        },
        {
          "text": "ä½ çš„ MBTI é¡å‹æ˜¯ï¼š**${result.type}**\\n\\n",
          "file": "src/telegram/handlers/mbti_test.ts",
          "line": 183
        },
        {
          "text": "ç•¶å‰ MBTIï¼š**${user.mbti_result}**\\n",
          "file": "src/telegram/handlers/mbti.ts",
          "line": 46
        }
      ]
    },
    {
      "key": "common.nickname",
      "count": 13,
      "examples": [
        {
          "text": "ğŸ’¡ è«‹è¼¸å…¥ä¸€å€‹ç°¡å–®çš„æš±ç¨±ï¼Œä¸è¦åŒ…å« http:// æˆ– https:// ç­‰é€£çµã€‚\\n\\n",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 546
        },
        {
          "text": "å¾ˆå¥½ï¼ä½ çš„æš±ç¨±æ˜¯ï¼š${truncatedNickname}\\n\\n",
          "file": "src/telegram/handlers/nickname_callback.ts",
          "line": 63
        },
        {
          "text": "ğŸ“ æš±ç¨±ï¼š${updatedUser.nickname}\\n",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 588
        }
      ]
    },
    {
      "key": "errors.error.short",
      "count": 13,
      "examples": [
        {
          "text": "âŒ ç„¡æ•ˆçš„èªè¨€ä»£ç¢¼",
          "file": "src/telegram/handlers/language_selection.ts",
          "line": 83
        },
        {
          "text": "âŒ æ‰¾ä¸åˆ°ç”¨æˆ¶è³‡æ–™",
          "file": "src/telegram/handlers/tutorial.ts",
          "line": 58
        },
        {
          "text": "âŒ æœªçŸ¥çš„æ•™å­¸æ­¥é©Ÿ",
          "file": "src/telegram/handlers/tutorial.ts",
          "line": 183
        }
      ]
    },
    {
      "key": "warnings.warning.text",
      "count": 12,
      "examples": [
        {
          "text": "âš ï¸ **æ³¨æ„**\\n\\n",
          "file": "src/telegram/handlers/admin_ban.ts",
          "line": 404
        },
        {
          "text": "âš ï¸ ç„¡æ•ˆçš„æ”¯ä»˜é¡å‹",
          "file": "src/telegram/handlers/vip.ts",
          "line": 268
        },
        {
          "text": "âš ï¸ ç¿»è­¯æœå‹™æš«æ™‚ç„¡æ³•ä½¿ç”¨ï¼Œä»¥ä¸‹ç‚ºåŸæ–‡\\n",
          "file": "src/telegram/handlers/catch.ts",
          "line": 372
        }
      ]
    },
    {
      "key": "admin.short",
      "count": 12,
      "examples": [
        {
          "text": "**ç¯„ä¾‹ï¼š**\\n",
          "file": "src/telegram/handlers/admin_ad_config.ts",
          "line": 180
        },
        {
          "text": "**ç¤ºä¾‹ï¼š**\\n",
          "file": "src/telegram/handlers/admin_ban.ts",
          "line": 370
        },
        {
          "text": "**æ­¥é©Ÿï¼š**\\n",
          "file": "src/telegram/handlers/admin_ban.ts",
          "line": 404
        }
      ]
    },
    {
      "key": "common.settings",
      "count": 11,
      "examples": [
        {
          "text": "ğŸ§  MBTIï¼š${updatedUser.mbti_result || 'æœªè¨­å®š'}ï¼ˆå¯é‡æ–°æ¸¬è©¦ï¼‰",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 602
        },
        {
          "text": "ğŸ·ï¸ èˆˆè¶£æ¨™ç±¤ï¼š${updatedUser.interests || 'æœªè¨­å®š'}\\n",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 596
        },
        {
          "text": "ğŸ§  MBTIï¼š${user.mbti_result || 'æœªè¨­å®š'}ï¼ˆå¯é‡æ–°æ¸¬è©¦ï¼‰",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 69
        }
      ]
    },
    {
      "key": "bottle.throw.bottle",
      "count": 11,
      "examples": [
        {
          "text": "\\nğŸ’¡ é€™å€‹ç“¶å­å’Œä½ éå¸¸åˆæ‹ï¼\\n${highlights.join('\\n')}\\n",
          "file": "src/telegram/handlers/throw.ts",
          "line": 543
        },
        {
          "text": "ğŸ¯ ä½ çš„ç“¶å­å·²ç™¼é€çµ¦ **3 å€‹å°è±¡**ï¼š\\n",
          "file": "src/telegram/handlers/throw.ts",
          "line": 697
        },
        {
          "text": "ğŸ¾ **æ­£åœ¨ä¸Ÿå‡ºä½ çš„æ¼‚æµç“¶...**\\n\\n",
          "file": "src/telegram/handlers/throw.ts",
          "line": 412
        }
      ]
    },
    {
      "key": "conversation.conversation",
      "count": 11,
      "examples": [
        {
          "text": "ğŸ’¬ èˆ‡ #${identifier} çš„å°è©±è¨˜éŒ„ï¼ˆç¬¬ ${postNumber} é ï¼‰\\n\\n",
          "file": "src/domain/conversation_history.ts",
          "line": 61
        },
        {
          "text": "ğŸ’¬ **æˆ‘çš„å°è©±åˆ—è¡¨** (${conversations.length})\\n\\n",
          "file": "src/telegram/handlers/chats.ts",
          "line": 50
        },
        {
          "text": "ğŸ’¡ é»æ“Šå°æ–¹è¨Šæ¯çš„ã€Œå›è¦†ã€æŒ‰éˆ•å³å¯ç¹¼çºŒå°è©±\\n",
          "file": "src/telegram/handlers/chats.ts",
          "line": 77
        }
      ]
    },
    {
      "key": "common.start",
      "count": 10,
      "examples": [
        {
          "text": "é–‹å§‹æ™‚é–“ï¼š${new Date(maintenance.startTime).toLocaleString('zh-TW')}\\n",
          "file": "src/domain/maintenance.ts",
          "line": 71
        },
        {
          "text": "é–‹å§‹æ™‚é–“: ${new Date(broadcast.startedAt).toLocaleString('zh-TW')}\\n",
          "file": "src/domain/broadcast.ts",
          "line": 93
        },
        {
          "text": "é–‹å§‹ï¼š${startTime.toLocaleString('zh-TW')}\\n",
          "file": "src/telegram/handlers/maintenance.ts",
          "line": 102
        }
      ]
    },
    {
      "key": "common.register",
      "count": 10,
      "examples": [
        {
          "text": "\\n\\nğŸ’¡ é€™æ˜¯å¿«é€Ÿæ¸¬é©—ï¼ˆ${testInfo}ï¼‰ï¼Œçµæœåƒ…ä¾›åƒè€ƒã€‚\\nå®Œæˆè¨»å†Šå¾Œï¼Œå¯ä½¿ç”¨ /mbti é‡æ–°æ¸¬é©—ã€‚\\n\\n",
          "file": "src/telegram/handlers/mbti_test.ts",
          "line": 69
        },
        {
          "text": "\\n\\nğŸ’¡ é€™æ˜¯å®Œæ•´æ¸¬é©—ï¼ˆ${testInfo}ï¼‰ï¼Œçµæœæ›´æº–ç¢ºã€‚\\nå®Œæˆè¨»å†Šå¾Œï¼Œå¯ä½¿ç”¨ /mbti é‡æ–°æ¸¬é©—ã€‚\\n\\n",
          "file": "src/telegram/handlers/mbti_test.ts",
          "line": 68
        },
        {
          "text": "è¨»å†Šæ­¥é©Ÿ: ${user.onboarding_step}\\n",
          "file": "src/telegram/handlers/dev.ts",
          "line": 278
        }
      ]
    },
    {
      "key": "warnings.warning.conversation",
      "count": 10,
      "examples": [
        {
          "text": "âš ï¸ å°è©±è³‡è¨ŠéŒ¯èª¤ã€‚",
          "file": "src/telegram/handlers/block.ts",
          "line": 84
        },
        {
          "text": "âš ï¸ å°è©±è³‡è¨ŠéŒ¯èª¤",
          "file": "src/telegram/handlers/report.ts",
          "line": 164
        },
        {
          "text": "âš ï¸ æ­¤ç”¨æˆ¶æ²’æœ‰å°è©±æ­·å²å¸–å­\\n",
          "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
          "line": 138
        }
      ]
    },
    {
      "key": "stats.message",
      "count": 10,
      "examples": [
        {
          "text": "â€¢ åˆ°æœŸæ™‚é–“ï¼š${new Date(user.vip_expire_at!).toLocaleDateString('zh-TW')}\\n",
          "file": "src/telegram/handlers/stats.ts",
          "line": 82
        },
        {
          "text": "${used}/${permanentQuota}+${taskBonus} (å‰©é¤˜ ${remaining})",
          "file": "src/telegram/handlers/stats.ts",
          "line": 183
        },
        {
          "text": "å ±å‘Šç”Ÿæˆæ™‚é–“ï¼š${new Date().toLocaleString('zh-TW')}",
          "file": "src/domain/stats.ts",
          "line": 88
        }
      ]
    },
    {
      "key": "stats.text",
      "count": 10,
      "examples": [
        {
          "text": "â€¢ å¹³å‡æ¯æ¬¡é…å°ï¼š${avgMatches} å€‹å°è±¡\\n",
          "file": "src/telegram/handlers/stats.ts",
          "line": 62
        },
        {
          "text": "â€¢ æ˜¨æ—¥æ–°å¢ï¼š${stats.newBottles}\\n",
          "file": "src/domain/stats.ts",
          "line": 47
        },
        {
          "text": "â€¢ ç¸½æ•¸ï¼š${stats.totalBottles}",
          "file": "src/domain/stats.ts",
          "line": 41
        }
      ]
    },
    {
      "key": "errors.error.cancel",
      "count": 9,
      "examples": [
        {
          "text": "âŒ æš±ç¨±å¤ªé•·ï¼Œè«‹è¼¸å…¥ä¸è¶…é 36 å€‹å­—ç¬¦çš„æš±ç¨±ã€‚\\n\\nè«‹é‡æ–°è¼¸å…¥æˆ–å–æ¶ˆç·¨è¼¯ï¼š",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 534
        },
        {
          "text": "âŒ å€‹äººç°¡ä»‹å¤ªé•·ï¼Œè«‹è¼¸å…¥ä¸è¶…é 200 å€‹å­—ç¬¦ã€‚\\n\\nè«‹é‡æ–°è¼¸å…¥æˆ–å–æ¶ˆç·¨è¼¯ï¼š",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 625
        },
        {
          "text": "âŒ åœ°å€åç¨±å¤ªé•·ï¼Œè«‹è¼¸å…¥ä¸è¶…é 50 å€‹å­—ç¬¦ã€‚\\n\\nè«‹é‡æ–°è¼¸å…¥æˆ–å–æ¶ˆç·¨è¼¯ï¼š",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 677
        }
      ]
    },
    {
      "key": "admin.vip",
      "count": 9,
      "examples": [
        {
          "text": "â€¢ VIP åˆ°æœŸï¼š${new Date(user.vip_expire_at).toLocaleString('zh-TW')}\\n",
          "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
          "line": 101
        },
        {
          "text": "â€¢ å‰µå»ºæ™‚ VIPï¼š${post.created_with_vip_status ? 'âœ…' : 'âŒ'}\\n",
          "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
          "line": 122
        },
        {
          "text": "â€¢ VIP ç‹€æ…‹ï¼š${isVip ? 'âœ… æ˜¯' : 'âŒ å¦'}\\n",
          "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
          "line": 98
        }
      ]
    },
    {
      "key": "help.bottle",
      "count": 9,
      "examples": [
        {
          "text": "â€¢ å®Œæˆä»»å‹™ï¼šç²å¾—é¡å¤–ç“¶å­ï¼ˆä½¿ç”¨ /tasks æŸ¥çœ‹ï¼‰\\n",
          "file": "src/telegram/handlers/help.ts",
          "line": 140
        },
        {
          "text": "/tasks - ä»»å‹™ä¸­å¿ƒï¼ˆå®Œæˆä»»å‹™ç²å¾—é¡å¤–ç“¶å­ï¼‰\\n",
          "file": "src/telegram/handlers/help.ts",
          "line": 41
        },
        {
          "text": "â€¢ æ¯å¤©å¯ä»¥ä¸Ÿå‡ºå’Œæ’¿èµ·æœ‰é™æ•¸é‡çš„æ¼‚æµç“¶\\n",
          "file": "src/telegram/handlers/help.ts",
          "line": 128
        }
      ]
    },
    {
      "key": "common.complete",
      "count": 8,
      "examples": [
        {
          "text": "ğŸ‰ **å»£å‘Šè§€çœ‹å®Œæˆï¼**\n\nâœ… ç²å¾— **+1 å€‹é¡åº¦**\nğŸ“Š ä»Šæ—¥å·²è§€çœ‹ï¼š**${updated.ads_watched}/20** æ¬¡\nğŸ ä»Šæ—¥å·²ç²å¾—ï¼š**${updated.quota_",
          "file": "src/telegram/handlers/ad_reward.ts",
          "line": 381
        },
        {
          "text": "ğŸ“º **è§€çœ‹å»£å‘Šç²å¾—é¡åº¦**\n\nğŸ å®Œæˆè§€çœ‹å¯ç²å¾— **+1 å€‹é¡åº¦**\nğŸ“Š ä»Šæ—¥å‰©é¤˜ï¼š**${remainingAds}/20** æ¬¡\n\nğŸ‘‡ é»æ“Šä¸‹æ–¹æŒ‰éˆ•é–‹å§‹è§€çœ‹",
          "file": "src/telegram/handlers/ad_reward.ts",
          "line": 151
        },
        {
          "text": "å®Œæˆæ™‚é–“: ${new Date(broadcast.completedAt).toLocaleString('zh-TW')}\\n",
          "file": "src/domain/broadcast.ts",
          "line": 97
        }
      ]
    },
    {
      "key": "common.ad",
      "count": 8,
      "examples": [
        {
          "text": "ğŸ“º ä»Šæ—¥å»£å‘Šï¼š${adsWatched}/${AD_REWARD_CONSTANTS.MAX_ADS_PER_DAY} | å·²ç²å¾— ${quotaEarned} å€‹é¡åº¦ | å‰©é¤˜ ${remaini",
          "file": "src/domain/ad_reward.ts",
          "line": 264
        },
        {
          "text": "ğŸ“º ä»Šæ—¥å»£å‘Šï¼š${adsWatched}/${AD_REWARD_CONSTANTS.MAX_ADS_PER_DAY} âœ… å·²é”ä¸Šé™ | å·²ç²å¾— ${quotaEarned} å€‹é¡åº¦",
          "file": "src/domain/ad_reward.ts",
          "line": 261
        },
        {
          "text": "ğŸ“º ä»Šæ—¥å»£å‘Šï¼š0/${AD_REWARD_CONSTANTS.MAX_ADS_PER_DAY} | å·²ç²å¾— 0 å€‹é¡åº¦",
          "file": "src/domain/ad_reward.ts",
          "line": 253
        }
      ]
    },
    {
      "key": "success.success.message",
      "count": 8,
      "examples": [
        {
          "text": "âœ… è¨Šæ¯å·²ç™¼é€çµ¦ ${formatIdentifier(receiverIdentifier)}\\n\\n",
          "file": "src/telegram/handlers/message_forward.ts",
          "line": 391
        },
        {
          "text": "âœ… èªè¨€å·²æ›´æ–°ç‚ºï¼š${getLanguageDisplay(languageCode)}",
          "file": "src/telegram/handlers/language_selection.ts",
          "line": 128
        },
        {
          "text": "âœ… å·²å°é–æ­¤ä½¿ç”¨è€… (#${conversationIdentifier})\\n\\n",
          "file": "src/telegram/handlers/block.ts",
          "line": 103
        }
      ]
    },
    {
      "key": "bottle.throw.message",
      "count": 8,
      "examples": [
        {
          "text": "å·²é¸æ“‡ï¼š${selectedZodiac.length > 0 ? selectedZodiac.map((z) => ZODIAC_NAMES[z]).join(', ') : 'ç„¡'}\\n\\n",
          "file": "src/telegram/handlers/throw_advanced.ts",
          "line": 284
        },
        {
          "text": "ç•¶å‰é¸æ“‡ï¼š${currentGender === 'male' ? 'ğŸ‘¨ ç”·ç”Ÿ' : currentGender === 'female' ? 'ğŸ‘© å¥³ç”Ÿ' : 'ğŸŒˆ ä»»ä½•äºº'}\\n\\n",
          "file": "src/telegram/handlers/throw_advanced.ts",
          "line": 375
        },
        {
          "text": "å·²é¸æ“‡ï¼š${selectedZodiac.length > 0 ? selectedZodiac.map((z) => ZODIAC_NAMES[z]).join(",
          "file": "src/telegram/handlers/throw_advanced.ts",
          "line": 280
        }
      ]
    },
    {
      "key": "bottle.catch.text",
      "count": 8,
      "examples": [
        {
          "text": "ç¿»è­¯èªè¨€ï¼š${catcherLangDisplay}\\n",
          "file": "src/telegram/handlers/catch.ts",
          "line": 363
        },
        {
          "text": "åŸæ–‡èªè¨€ï¼š${bottleLangDisplay}\\n",
          "file": "src/telegram/handlers/catch.ts",
          "line": 362
        },
        {
          "text": "ğŸ—£ï¸ èªè¨€ï¼š${ownerLanguage}\\n\\n",
          "file": "src/telegram/handlers/catch.ts",
          "line": 433
        }
      ]
    },
    {
      "key": "help.message",
      "count": 8,
      "examples": [
        {
          "text": "/maintenance_enable <åˆ†é˜> <è¨Šæ¯> - å•Ÿç”¨ç¶­è­·æ¨¡å¼\\n",
          "file": "src/telegram/handlers/help.ts",
          "line": 105
        },
        {
          "text": "/broadcast_non_vip <è¨Šæ¯> - ç¾¤ç™¼çµ¦é VIP ç”¨æˆ¶\\n",
          "file": "src/telegram/handlers/help.ts",
          "line": 92
        },
        {
          "text": "â€¢ 18-25æ­²å¥³æ€§ï¼šgender=female,age=18-25\\n",
          "file": "src/telegram/handlers/help.ts",
          "line": 96
        }
      ]
    },
    {
      "key": "common.gender",
      "count": 7,
      "examples": [
        {
          "text": "ğŸ‘¤ æ€§åˆ¥ï¼š${updatedUser.gender === 'male' ? 'ç”·' : 'å¥³'}\\n",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 600
        },
        {
          "text": "ç„¡æ•ˆçš„æ€§åˆ¥å€¼ï¼š${trimmedValue}ï¼ˆå¿…é ˆæ˜¯ male, female æˆ– otherï¼‰",
          "file": "src/domain/broadcast_filters.ts",
          "line": 80
        },
        {
          "text": "ğŸ‘¤ æ€§åˆ¥ï¼š${user.gender === 'male' ? 'ç”·' : 'å¥³'}\\n",
          "file": "src/telegram/handlers/edit_profile.ts",
          "line": 67
        }
      ]
    },
    {
      "key": "common.confirm",
      "count": 7,
      "examples": [
        {
          "text": "ç‚ºäº†ä¿è­·æ‰€æœ‰ä½¿ç”¨è€…çš„å®‰å…¨ï¼Œè«‹ç¢ºèªä½ äº†è§£ä»¥ä¸‹äº‹é …ï¼š\\n\\n",
          "file": "src/telegram/handlers/mbti_test.ts",
          "line": 207
        },
        {
          "text": "ğŸŒ **ç¢ºèªä½ çš„åœ‹å®¶/åœ°å€**\\n\\n",
          "file": "src/telegram/handlers/country_confirmation.ts",
          "line": 27
        },
        {
          "text": "ğŸ›¡ï¸ æœ€å¾Œä¸€æ­¥ï¼šåè©é¨™å®‰å…¨ç¢ºèª\\n\\n",
          "file": "src/telegram/handlers/mbti_test.ts",
          "line": 207
        }
      ]
    },
    {
      "key": "errors.error.admin",
      "count": 7,
      "examples": [
        {
          "text": "âŒ ç³»çµ±ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚\\n\\nå¦‚æœå•é¡ŒæŒçºŒï¼Œè«‹è¯ç¹«ç®¡ç†å“¡ã€‚",
          "file": "src/telegram/handlers/start.ts",
          "line": 208
        },
        {
          "text": "âŒ **æ¬Šé™ä¸è¶³**\\n\\næ­¤å‘½ä»¤åƒ…é™è¶…ç´šç®¡ç†å“¡ä½¿ç”¨ã€‚",
          "file": "src/telegram/handlers/admin_diagnose_avatar.ts",
          "line": 27
        },
        {
          "text": "âŒ æ­¤ç”¨æˆ¶å·²ç¶“æ˜¯è¶…ç´šç®¡ç†å“¡ï¼Œç„¡éœ€æ·»åŠ ã€‚",
          "file": "src/telegram/handlers/admin_ban.ts",
          "line": 386
        }
      ]
    },
    {
      "key": "errors.error.userNotFound",
      "count": 7,
      "examples": [
        {
          "text": "âŒ ç”¨æˆ¶ä¸å­˜åœ¨ï¼Œè«‹å…ˆä½¿ç”¨ /start è¨»å†Šã€‚",
          "file": "src/telegram/handlers/appeal.ts",
          "line": 26
        },
        {
          "text": "âŒ ç”¨æˆ¶ä¸å­˜åœ¨ï¼Œè«‹å…ˆè¨»å†Š",
          "file": "src/telegram/handlers/refresh_avatar.ts",
          "line": 33
        },
        {
          "text": "âŒ å°æ–¹ç”¨æˆ¶ä¸å­˜åœ¨ã€‚",
          "file": "src/telegram/handlers/message_forward.ts",
          "line": 226
        }
      ]
    },
    {
      "key": "success.success.complete",
      "count": 7,
      "examples": [
        {
          "text": "âœ… å»£æ’­éšŠåˆ—è™•ç†å®Œæˆ\\n\\n",
          "file": "src/telegram/handlers/broadcast.ts",
          "line": 203
        },
        {
          "text": "âœ… ç³»çµ±ç¶­è­·å·²å®Œæˆ\\n\\n",
          "file": "src/telegram/handlers/maintenance.ts",
          "line": 134
        },
        {
          "text": "âœ… æ•™å­¸å·²å®Œæˆï¼",
          "file": "src/telegram/handlers/tutorial.ts",
          "line": 162
        }
      ]
    }
  ],
  "sqlQueries": [
    {
      "key": "common.message",
      "file": "src/db/queries/bottles.ts",
      "line": 81,
      "text": "AND (b.target_gender = ? OR b.target_gender = 'any')\n      -- ğŸ†• æ’é™¤å·²ç¶“é…å°éçš„ç”¨æˆ¶ï¼ˆæª¢æŸ¥æ‰€æœ‰æ§½ä½ï¼‰\n      AND NOT EXISTS (\n        SELECT 1 FROM bottle_match_slots s2\n        WHERE s2.bottle_id = b.id\n          AND s"
    },
    {
      "key": "common.message",
      "file": "src/telegram/handlers/dev.ts",
      "line": 525,
      "text": "INSERT INTO users (\n        telegram_id,\n        username,\n        first_name,\n        nickname,\n        gender,\n        birthday,\n        age,\n        zodiac_sign,\n        language_pref,\n        invi"
    },
    {
      "key": "common.message",
      "file": "src/db/queries/bottles.ts",
      "line": 81,
      "text": "SELECT DISTINCT b.* FROM bottles b\n    WHERE (\n      -- æ™®é€šç“¶å­ï¼šstatus = 'pending'\n      (b.is_vip_triple = 0 AND b.status = 'pending')\n      OR\n      -- VIP ä¸‰å€ç“¶å­ï¼šè‡³å°‘æœ‰ 1 å€‹æ§½ä½ status = 'pending'\n      (b.is"
    },
    {
      "key": "common.message",
      "file": "src/db/queries/bottles.ts",
      "line": 81,
      "text": "AND NOT EXISTS (\n        SELECT 1 FROM reports r\n        WHERE r.reporter_telegram_id = ?\n          AND r.reported_telegram_id = b.owner_telegram_id\n          AND datetime(r.created_at) > datetime('no"
    },
    {
      "key": "common.message",
      "file": "src/telegram/handlers/broadcast.ts",
      "line": 457,
      "text": "UPDATE broadcasts \n         SET status = 'failed', \n             completed_at = CURRENT_TIMESTAMP,\n             error_message = 'ç®¡ç†å“¡æ‰‹å‹•æ¸…ç†ï¼ˆå»£æ’­å¡ä½ï¼‰'\n         WHERE id IN (${ids.map(() => '?').join(', ')})"
    },
    {
      "key": "common.message",
      "file": "src/telegram/handlers/broadcast.ts",
      "line": 283,
      "text": "UPDATE broadcasts \n         SET status = 'cancelled', \n             completed_at = CURRENT_TIMESTAMP,\n             error_message = 'ç®¡ç†å“¡æ‰‹å‹•å–æ¶ˆ'\n         WHERE id = ?"
    }
  ],
  "recommendations": [
    {
      "issue": "é‡å¤çš„ keys",
      "severity": "high",
      "count": 196,
      "action": "éœ€è¦ä¸ºæ¯ä¸ªé‡å¤çš„ key æ·»åŠ å”¯ä¸€åç¼€"
    },
    {
      "issue": "SQL æŸ¥è¯¢è¢«æå–",
      "severity": "critical",
      "count": 6,
      "action": "è¿™äº›åº”è¯¥ä»æå–ç»“æœä¸­ç§»é™¤"
    },
    {
      "issue": "é€šç”¨ keys",
      "severity": "medium",
      "count": 911,
      "action": "å»ºè®®ä½¿ç”¨æ›´å…·æè¿°æ€§çš„åç§°"
    }
  ]
}